{"blocks":[{"t":"Header","c":[1,["preface",["unnumbered"],[]],[{"t":"Str","c":"Preface"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"aims"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"two-fold:"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"introduce"},{"t":"Space"},{"t":"Str","c":"monads,"},{"t":"Space"},{"t":"Str","c":"functors,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"patterns"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"Space"},{"t":"Str","c":"design,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"explain"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"concepts"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Cats"}],["http://typelevel.org/cats",""]]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Monads,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"concepts,"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"object-oriented"},{"t":"Space"},{"t":"Str","c":"design"},{"t":"Space"},{"t":"Str","c":"patterns—architectural"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"blocks"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"turn"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"again"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"They"},{"t":"Space"},{"t":"Str","c":"differ"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"object-oriented"},{"t":"Space"},{"t":"Str","c":"patterns"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"main"},{"t":"Space"},{"t":"Str","c":"ways:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"formally,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"thus"},{"t":"Space"},{"t":"Str","c":"precisely,"},{"t":"Space"},{"t":"Str","c":"defined;"},{"t":"Space"},{"t":"Str","c":"and"}]}],[{"t":"Plain","c":[{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"extremely"},{"t":"Space"},{"t":"Str","c":"(extremely)"},{"t":"Space"},{"t":"Str","c":"general."}]}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"generality"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"difficult"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"understand."},{"t":"SoftBreak"},{"t":"Emph","c":[{"t":"Str","c":"Everyone"}]},{"t":"Space"},{"t":"Str","c":"finds"},{"t":"Space"},{"t":"Str","c":"abstraction"},{"t":"Space"},{"t":"Str","c":"difficult."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"generality"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"concepts"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"applied"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"wide"},{"t":"Space"},{"t":"Str","c":"variety"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"situations."}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"aim"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"show"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"concepts"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"ways,"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"help"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"mental"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"appropriate."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"extended"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"studies,"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"graphical"},{"t":"Space"},{"t":"Str","c":"notation,"},{"t":"SoftBreak"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"smaller"},{"t":"Space"},{"t":"Str","c":"examples,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"course"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"mathematical"},{"t":"Space"},{"t":"Str","c":"definitions."},{"t":"SoftBreak"},{"t":"Str","c":"Between"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"hope"},{"t":"Space"},{"t":"Str","c":"you’ll"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"something"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"you."}]},{"t":"Para","c":[{"t":"Str","c":"Ok,"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"started!"}]},{"t":"Header","c":[2,["versions",["unnumbered"],[]],[{"t":"Str","c":"Versions"}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"book"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"2.13.1"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"2.1.0."},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"minimal"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"build.sbt"]},{"t":"Space"},{"t":"Str","c":"containing"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relevant"},{"t":"Space"},{"t":"Str","c":"dependencies"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"settings"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"assume"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"SBT"},{"t":"Space"},{"t":"Str","c":"1.0.0"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"newer."}]}]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nscalaVersion := \"2.13.1\"\n\nlibraryDependencies +=\n  \"org.typelevel\" %% \"cats-core\" % \"2.1.0\"\n\nscalacOptions ++= Seq(\n  \"-Xfatal-warnings\"\n)\n\\end{lstlisting}"]},{"t":"Header","c":[3,["template-projects",["unnumbered"],[]],[{"t":"Str","c":"Template"},{"t":"Space"},{"t":"Str","c":"Projects"}]]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"convenience,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"created"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Giter8"},{"t":"Space"},{"t":"Str","c":"template"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"started."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"clone"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"template"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following:"}]},{"t":"CodeBlock","c":[["",["bash"],[]],"$ sbt new scalawithcats/cats-seed.g8"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"generate"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sandbox"},{"t":"Space"},{"t":"Str","c":"project"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"dependency."},{"t":"SoftBreak"},{"t":"Str","c":"See"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"generated"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"README.md"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"SoftBreak"},{"t":"Str","c":"instructions"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sample"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"SoftBreak"},{"t":"Str","c":"and/or"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"interactive"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"console."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats-seed"]},{"t":"Space"},{"t":"Str","c":"template"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"minimal."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you’d"},{"t":"Space"},{"t":"Str","c":"prefer"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"batteries-included"},{"t":"Space"},{"t":"Str","c":"starting"},{"t":"Space"},{"t":"Str","c":"point,"},{"t":"SoftBreak"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"Typelevel’s"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"sbt-catalysts"]},{"t":"Space"},{"t":"Str","c":"template:"}]},{"t":"CodeBlock","c":[["",["bash"],[]],"$ sbt new typelevel/sbt-catalysts.g8"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"generate"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"project"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"suite"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"dependencies"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"plugins,"},{"t":"SoftBreak"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"templates"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"unit"},{"t":"Space"},{"t":"Str","c":"tests"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"documentation."},{"t":"SoftBreak"},{"t":"Str","c":"See"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"project"},{"t":"Space"},{"t":"Str","c":"pages"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"catalysts"}],["https://github.com/typelevel/catalysts",""]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"sbt-catalysts"}],["https://github.com/typelevel/sbt-catalysts",""]]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"information."}]},{"t":"Header","c":[2,["conventions-used-in-this-book",["unnumbered"],[]],[{"t":"Str","c":"Conventions"},{"t":"Space"},{"t":"Str","c":"Used"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"Book"}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"book"},{"t":"Space"},{"t":"Str","c":"contains"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"lot"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"technical"},{"t":"Space"},{"t":"Str","c":"information"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"typographical"},{"t":"Space"},{"t":"Str","c":"conventions"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"reduce"},{"t":"Space"},{"t":"Str","c":"ambiguity"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"highlight"},{"t":"Space"},{"t":"Str","c":"important"},{"t":"Space"},{"t":"Str","c":"concepts:"}]},{"t":"Header","c":[3,["typographical-conventions",["unnumbered"],[]],[{"t":"Str","c":"Typographical"},{"t":"Space"},{"t":"Str","c":"Conventions"}]]},{"t":"Para","c":[{"t":"Str","c":"New"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"phrases"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"introduced"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"italics"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"After"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"initial"},{"t":"Space"},{"t":"Str","c":"introduction"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"normal"},{"t":"Space"},{"t":"Str","c":"roman"},{"t":"Space"},{"t":"Str","c":"font."}]},{"t":"Para","c":[{"t":"Str","c":"Terms"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"Space"},{"t":"Str","c":"code,"},{"t":"Space"},{"t":"Str","c":"filenames,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"file"},{"t":"Space"},{"t":"Str","c":"contents,"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"monospace font"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"distinguish"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"singular"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"plural"},{"t":"Space"},{"t":"Str","c":"forms."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"might"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Strings"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"refer"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"java.lang.String"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"References"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"external"},{"t":"Space"},{"t":"Str","c":"resources"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"hyperlinks"}],["https://underscore.io",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"References"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"API"},{"t":"Space"},{"t":"Str","c":"documentation"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"combination"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"hyperlinks"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"monospace"},{"t":"Space"},{"t":"Str","c":"font,"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"example:"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"scala.Option"]}],["http://www.scala-lang.org/api/current/scala/Option.html",""]]},{"t":"Str","c":"."}]},{"t":"Header","c":[3,["source-code",["unnumbered"],[]],[{"t":"Str","c":"Source"},{"t":"Space"},{"t":"Str","c":"Code"}]]},{"t":"Para","c":[{"t":"Str","c":"Source"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"blocks"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows."},{"t":"SoftBreak"},{"t":"Str","c":"Syntax"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"highlighted"},{"t":"Space"},{"t":"Str","c":"appropriately"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"applicable:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nobject MyApp extends App {\n  println(\"Hello world!\") // Print a fine message to the user!\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Most"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"passes"},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"mdoc"}],["https://github.com/scalameta/mdoc",""]]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"compiles."},{"t":"SoftBreak"},{"t":"Str","c":"mdoc"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"console"},{"t":"Space"},{"t":"Str","c":"behind"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"scenes,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"sometimes"},{"t":"Space"},{"t":"Str","c":"show"},{"t":"Space"},{"t":"Str","c":"console-style"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"comments:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n\"Hello Cats!\".toUpperCase\n// res0: String = \"HELLO CATS!\"\n\\end{lstlisting}"]},{"t":"Header","c":[3,["callout-boxes",["unnumbered"],[]],[{"t":"Str","c":"Callout"},{"t":"Space"},{"t":"Str","c":"Boxes"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"callout"},{"t":"Space"},{"t":"Str","c":"box"}]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"highlight"},{"t":"Space"},{"t":"Str","c":"particular"},{"t":"Space"},{"t":"Str","c":"content:"}]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{InfoCallout}"]},{"t":"Para","c":[{"t":"Str","c":"Tip"},{"t":"Space"},{"t":"Str","c":"callouts"},{"t":"Space"},{"t":"Str","c":"indicate"},{"t":"Space"},{"t":"Str","c":"handy"},{"t":"Space"},{"t":"Str","c":"summaries,"},{"t":"Space"},{"t":"Str","c":"recipes,"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"best"},{"t":"Space"},{"t":"Str","c":"practices."}]},{"t":"RawBlock","c":["latex","\\end{InfoCallout}"]}]]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{WarningCallout}"]},{"t":"Para","c":[{"t":"Str","c":"Advanced"},{"t":"Space"},{"t":"Str","c":"callouts"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"additional"},{"t":"Space"},{"t":"Str","c":"information"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"corner"},{"t":"Space"},{"t":"Str","c":"cases"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"underlying"},{"t":"Space"},{"t":"Str","c":"mechanisms."},{"t":"SoftBreak"},{"t":"Str","c":"Feel"},{"t":"Space"},{"t":"Str","c":"free"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"skip"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"read-through—come"},{"t":"SoftBreak"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"later"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"extra"},{"t":"Space"},{"t":"Str","c":"information."}]},{"t":"RawBlock","c":["latex","\\end{WarningCallout}"]}]]},{"t":"Header","c":[2,["acknowledgements",["unnumbered"],[]],[{"t":"Str","c":"Acknowledgements"}]]},{"t":"Para","c":[{"t":"Str","c":"We’d"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"thank"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"colleagues"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"Inner"},{"t":"Space"},{"t":"Str","c":"Product"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Underscore,"},{"t":"SoftBreak"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"friends"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"Typelevel,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"everyone"},{"t":"Space"},{"t":"Str","c":"who"},{"t":"Space"},{"t":"Str","c":"helped"},{"t":"Space"},{"t":"Str","c":"contribute"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book."},{"t":"SoftBreak"},{"t":"Str","c":"Special"},{"t":"Space"},{"t":"Str","c":"thanks"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Jenny"},{"t":"Space"},{"t":"Str","c":"Clements"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"her"},{"t":"Space"},{"t":"Str","c":"fantastic"},{"t":"Space"},{"t":"Str","c":"artwork"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Richard"},{"t":"Space"},{"t":"Str","c":"Dallaway"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"his"},{"t":"Space"},{"t":"Str","c":"proof"},{"t":"Space"},{"t":"Str","c":"reading"},{"t":"Space"},{"t":"Str","c":"expertise."},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"alphabetical"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"contributors:"}]},{"t":"Para","c":[{"t":"Str","c":"Alessandro"},{"t":"Space"},{"t":"Str","c":"Marrella,"},{"t":"SoftBreak"},{"t":"Str","c":"Cody"},{"t":"Space"},{"t":"Str","c":"Koeninger,"},{"t":"SoftBreak"},{"t":"Str","c":"Connie"},{"t":"Space"},{"t":"Str","c":"Chen,"},{"t":"SoftBreak"},{"t":"Str","c":"Conor"},{"t":"Space"},{"t":"Str","c":"Fennell,"},{"t":"SoftBreak"},{"t":"Str","c":"Dani"},{"t":"Space"},{"t":"Str","c":"Rey,"},{"t":"SoftBreak"},{"t":"Str","c":"Daniela"},{"t":"Space"},{"t":"Str","c":"Sfregola,"},{"t":"SoftBreak"},{"t":"Str","c":"Danielle"},{"t":"Space"},{"t":"Str","c":"Ashley,"},{"t":"SoftBreak"},{"t":"Str","c":"David"},{"t":"Space"},{"t":"Str","c":"Castillo,"},{"t":"SoftBreak"},{"t":"Str","c":"David"},{"t":"Space"},{"t":"Str","c":"Piggott,"},{"t":"SoftBreak"},{"t":"Str","c":"Denis"},{"t":"Space"},{"t":"Str","c":"Zjukow,"},{"t":"SoftBreak"},{"t":"Str","c":"Dennis"},{"t":"Space"},{"t":"Str","c":"Hunziker,"},{"t":"SoftBreak"},{"t":"Str","c":"Deokhwan"},{"t":"Space"},{"t":"Str","c":"Kim,"},{"t":"SoftBreak"},{"t":"Str","c":"Edd"},{"t":"Space"},{"t":"Str","c":"Steel,"},{"t":"SoftBreak"},{"t":"Str","c":"Evgeny"},{"t":"Space"},{"t":"Str","c":"Veretennikov,"},{"t":"SoftBreak"},{"t":"Str","c":"Francis"},{"t":"Space"},{"t":"Str","c":"Devereux,"},{"t":"SoftBreak"},{"t":"Str","c":"Ghislain"},{"t":"Space"},{"t":"Str","c":"Vaillant,"},{"t":"SoftBreak"},{"t":"Str","c":"Gregor"},{"t":"Space"},{"t":"Str","c":"Ihmor,"},{"t":"SoftBreak"},{"t":"Str","c":"Henk-Jan"},{"t":"Space"},{"t":"Str","c":"Meijer,"},{"t":"SoftBreak"},{"t":"Str","c":"Janne"},{"t":"Space"},{"t":"Str","c":"Pelkonen,"},{"t":"SoftBreak"},{"t":"Str","c":"Jason"},{"t":"Space"},{"t":"Str","c":"Scott,"},{"t":"SoftBreak"},{"t":"Str","c":"Javier"},{"t":"Space"},{"t":"Str","c":"Arrieta,"},{"t":"SoftBreak"},{"t":"Str","c":"Jenny"},{"t":"Space"},{"t":"Str","c":"Clements,"},{"t":"SoftBreak"},{"t":"Str","c":"Jérémie"},{"t":"Space"},{"t":"Str","c":"Jost,"},{"t":"SoftBreak"},{"t":"Str","c":"Joachim"},{"t":"Space"},{"t":"Str","c":"Hofer,"},{"t":"SoftBreak"},{"t":"Str","c":"Jonathon"},{"t":"Space"},{"t":"Str","c":"Ferguson,"},{"t":"SoftBreak"},{"t":"Str","c":"Lance"},{"t":"Space"},{"t":"Str","c":"Paine,"},{"t":"SoftBreak"},{"t":"Str","c":"Leif"},{"t":"Space"},{"t":"Str","c":"Wickland,"},{"t":"SoftBreak"},{"t":"Str","c":"ltbs,"},{"t":"SoftBreak"},{"t":"Str","c":"Marc"},{"t":"Space"},{"t":"Str","c":"Prud’hommeaux,"},{"t":"SoftBreak"},{"t":"Str","c":"Martin"},{"t":"Space"},{"t":"Str","c":"Carolan,"},{"t":"SoftBreak"},{"t":"Str","c":"mizuno,"},{"t":"SoftBreak"},{"t":"Str","c":"Mr-SD,"},{"t":"SoftBreak"},{"t":"Str","c":"Narayan"},{"t":"Space"},{"t":"Str","c":"Iyer,"},{"t":"SoftBreak"},{"t":"Str","c":"Niccolo’"},{"t":"Space"},{"t":"Str","c":"Paravanti,"},{"t":"SoftBreak"},{"t":"Str","c":"niqdev,"},{"t":"SoftBreak"},{"t":"Str","c":"Noor"},{"t":"Space"},{"t":"Str","c":"Nashid,"},{"t":"SoftBreak"},{"t":"Str","c":"Pablo"},{"t":"Space"},{"t":"Str","c":"Francisco"},{"t":"Space"},{"t":"Str","c":"Pérez"},{"t":"Space"},{"t":"Str","c":"Hidalgo,"},{"t":"SoftBreak"},{"t":"Str","c":"Pawel"},{"t":"Space"},{"t":"Str","c":"Jurczenko,"},{"t":"SoftBreak"},{"t":"Str","c":"Phil"},{"t":"Space"},{"t":"Str","c":"Derome,"},{"t":"SoftBreak"},{"t":"Str","c":"Philip"},{"t":"Space"},{"t":"Str","c":"Schwarz,"},{"t":"SoftBreak"},{"t":"Str","c":"Riccardo"},{"t":"Space"},{"t":"Str","c":"Sirigu,"},{"t":"SoftBreak"},{"t":"Str","c":"Richard"},{"t":"Space"},{"t":"Str","c":"Dallaway,"},{"t":"SoftBreak"},{"t":"Str","c":"Robert"},{"t":"Space"},{"t":"Str","c":"Stoll,"},{"t":"SoftBreak"},{"t":"Str","c":"Rodney"},{"t":"Space"},{"t":"Str","c":"Jacobsen,"},{"t":"SoftBreak"},{"t":"Str","c":"Rodrigo"},{"t":"Space"},{"t":"Str","c":"B."},{"t":"Space"},{"t":"Str","c":"de"},{"t":"Space"},{"t":"Str","c":"Oliveira,"},{"t":"SoftBreak"},{"t":"Str","c":"Rud"},{"t":"Space"},{"t":"Str","c":"Wangrungarun,"},{"t":"SoftBreak"},{"t":"Str","c":"Seoh"},{"t":"Space"},{"t":"Str","c":"Char,"},{"t":"SoftBreak"},{"t":"Str","c":"Sergio"},{"t":"Space"},{"t":"Str","c":"Magnacco,"},{"t":"SoftBreak"},{"t":"Str","c":"Tim"},{"t":"Space"},{"t":"Str","c":"McIver,"},{"t":"SoftBreak"},{"t":"Str","c":"Toby"},{"t":"Space"},{"t":"Str","c":"Weston,"},{"t":"SoftBreak"},{"t":"Str","c":"Victor"},{"t":"Space"},{"t":"Str","c":"Osolovskiy,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Yinka"},{"t":"Space"},{"t":"Str","c":"Erinle."}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"spot"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"potential"},{"t":"Space"},{"t":"Str","c":"improvement,"},{"t":"SoftBreak"},{"t":"Str","c":"please"},{"t":"Space"},{"t":"Str","c":"raise"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"issue"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"submit"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"PR"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"book’s"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Github"},{"t":"Space"},{"t":"Str","c":"page"}],["https://github.com/underscoreio/advanced-scala",""]]},{"t":"Str","c":"."}]},{"t":"Header","c":[3,["backers",["unnumbered"],[]],[{"t":"Str","c":"Backers"}]]},{"t":"Para","c":[{"t":"Str","c":"We’d"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"extend"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"special"},{"t":"Space"},{"t":"Str","c":"thanks"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"backers—fine"},{"t":"Space"},{"t":"Str","c":"people"},{"t":"Space"},{"t":"Str","c":"who"},{"t":"Space"},{"t":"Str","c":"helped"},{"t":"SoftBreak"},{"t":"Str","c":"fund"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"development"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"book"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"buying"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"copy"},{"t":"SoftBreak"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"released"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"open"},{"t":"Space"},{"t":"Str","c":"source."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"book"},{"t":"Space"},{"t":"Str","c":"wouldn’t"},{"t":"Space"},{"t":"Str","c":"exist"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"you:"}]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"battle-hardened"},{"t":"Space"},{"t":"Str","c":"technologist,"},{"t":"SoftBreak"},{"t":"Str","c":"Aaron"},{"t":"Space"},{"t":"Str","c":"Pritzlaff,"},{"t":"SoftBreak"},{"t":"Str","c":"Abhishek"},{"t":"Space"},{"t":"Str","c":"Srivastava,"},{"t":"SoftBreak"},{"t":"Str","c":"Aleksey"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"Daron"}]]},{"t":"Space"},{"t":"Str","c":"Terekhin,"},{"t":"SoftBreak"},{"t":"Str","c":"Algolia,"},{"t":"SoftBreak"},{"t":"Str","c":"Allen"},{"t":"Space"},{"t":"Str","c":"George"},{"t":"Space"},{"t":"Str","c":"(@allenageorge),"},{"t":"SoftBreak"},{"t":"Str","c":"Andrew"},{"t":"Space"},{"t":"Str","c":"Johnson,"},{"t":"SoftBreak"},{"t":"Str","c":"Andrew"},{"t":"Space"},{"t":"Str","c":"Kerr,"},{"t":"SoftBreak"},{"t":"Str","c":"Andy"},{"t":"Space"},{"t":"Str","c":"Dwelly,"},{"t":"SoftBreak"},{"t":"Str","c":"Anler,"},{"t":"SoftBreak"},{"t":"Str","c":"anthony@dribble.ai,"},{"t":"SoftBreak"},{"t":"Str","c":"Aravindh"},{"t":"Space"},{"t":"Str","c":"Sridaran,"},{"t":"SoftBreak"},{"t":"Str","c":"Araxis"},{"t":"Space"},{"t":"Str","c":"Ltd,"},{"t":"SoftBreak"},{"t":"Str","c":"ArtemK,"},{"t":"SoftBreak"},{"t":"Str","c":"Arthur"},{"t":"Space"},{"t":"Str","c":"Kushka"},{"t":"Space"},{"t":"Str","c":"(@arhelmus),"},{"t":"SoftBreak"},{"t":"Str","c":"Artur"},{"t":"Space"},{"t":"Str","c":"Zhurat,"},{"t":"SoftBreak"},{"t":"Str","c":"Arturas"},{"t":"Space"},{"t":"Str","c":"Smorgun,"},{"t":"SoftBreak"},{"t":"Str","c":"Attila"},{"t":"Space"},{"t":"Str","c":"Mravik,"},{"t":"SoftBreak"},{"t":"Str","c":"Axel"},{"t":"Space"},{"t":"Str","c":"Gschaider,"},{"t":"SoftBreak"},{"t":"Str","c":"Bamboo"},{"t":"Space"},{"t":"Str","c":"Le,"},{"t":"SoftBreak"},{"t":"Str","c":"bamine,"},{"t":"SoftBreak"},{"t":"Str","c":"Barry"},{"t":"Space"},{"t":"Str","c":"Kern,"},{"t":"SoftBreak"},{"t":"Str","c":"Ben"},{"t":"Space"},{"t":"Str","c":"Darfler"},{"t":"Space"},{"t":"Str","c":"(@bdarfler),"},{"t":"SoftBreak"},{"t":"Str","c":"Ben"},{"t":"Space"},{"t":"Str","c":"Letton,"},{"t":"SoftBreak"},{"t":"Str","c":"Benjamin"},{"t":"Space"},{"t":"Str","c":"Neil,"},{"t":"SoftBreak"},{"t":"Str","c":"Benoit"},{"t":"Space"},{"t":"Str","c":"Hericher,"},{"t":"SoftBreak"},{"t":"Str","c":"Bernt"},{"t":"Space"},{"t":"Str","c":"Andreas"},{"t":"Space"},{"t":"Str","c":"Langøien,"},{"t":"SoftBreak"},{"t":"Str","c":"Bill"},{"t":"Space"},{"t":"Str","c":"Leck,"},{"t":"SoftBreak"},{"t":"Str","c":"Blaze"},{"t":"Space"},{"t":"Str","c":"K,"},{"t":"SoftBreak"},{"t":"Str","c":"Boniface"},{"t":"Space"},{"t":"Str","c":"Kabaso,"},{"t":"SoftBreak"},{"t":"Str","c":"Brian"},{"t":"Space"},{"t":"Str","c":"Wongchaowart,"},{"t":"SoftBreak"},{"t":"Str","c":"Bryan"},{"t":"Space"},{"t":"Str","c":"Dragon,"},{"t":"SoftBreak"},{"t":"Str","c":"@cannedprimates,"},{"t":"SoftBreak"},{"t":"Str","c":"Ceschiatti"},{"t":"Space"},{"t":"Str","c":"(@6qat),"},{"t":"SoftBreak"},{"t":"Str","c":"Chris"},{"t":"Space"},{"t":"Str","c":"Gojlo,"},{"t":"SoftBreak"},{"t":"Str","c":"Chris"},{"t":"Space"},{"t":"Str","c":"Phelps,"},{"t":"SoftBreak"},{"t":"Str","c":"@CliffRedmond,"},{"t":"SoftBreak"},{"t":"Str","c":"Cody"},{"t":"Space"},{"t":"Str","c":"Koeninger,"},{"t":"SoftBreak"},{"t":"Str","c":"Constantin"},{"t":"Space"},{"t":"Str","c":"Gonciulea,"},{"t":"SoftBreak"},{"t":"Str","c":"Dadepo"},{"t":"Space"},{"t":"Str","c":"Aderemi,"},{"t":"SoftBreak"},{"t":"Str","c":"Damir"},{"t":"Space"},{"t":"Str","c":"Vandic,"},{"t":"SoftBreak"},{"t":"Str","c":"Damon"},{"t":"Space"},{"t":"Str","c":"Rolfs,"},{"t":"SoftBreak"},{"t":"Str","c":"Dan"},{"t":"Space"},{"t":"Str","c":"Todor,"},{"t":"SoftBreak"},{"t":"Str","c":"Daniel"},{"t":"Space"},{"t":"Str","c":"Arndt,"},{"t":"SoftBreak"},{"t":"Str","c":"Daniela"},{"t":"Space"},{"t":"Str","c":"Sfregola,"},{"t":"SoftBreak"},{"t":"Str","c":"David"},{"t":"Space"},{"t":"Str","c":"Greco,"},{"t":"SoftBreak"},{"t":"Str","c":"David"},{"t":"Space"},{"t":"Str","c":"Poltorak,"},{"t":"SoftBreak"},{"t":"Str","c":"Dennis"},{"t":"Space"},{"t":"Str","c":"Hunziker,"},{"t":"SoftBreak"},{"t":"Str","c":"Dennis"},{"t":"Space"},{"t":"Str","c":"Vriend,"},{"t":"SoftBreak"},{"t":"Str","c":"Derek"},{"t":"Space"},{"t":"Str","c":"Morr,"},{"t":"SoftBreak"},{"t":"Str","c":"Dimitrios"},{"t":"Space"},{"t":"Str","c":"Liapis,"},{"t":"SoftBreak"},{"t":"Str","c":"Don"},{"t":"Space"},{"t":"Str","c":"McNamara,"},{"t":"SoftBreak"},{"t":"Str","c":"Doug"},{"t":"Space"},{"t":"Str","c":"Clinton,"},{"t":"SoftBreak"},{"t":"Str","c":"Doug"},{"t":"Space"},{"t":"Str","c":"Lindholm"},{"t":"Space"},{"t":"Str","c":"(dlindhol),"},{"t":"SoftBreak"},{"t":"Str","c":"Edgar"},{"t":"Space"},{"t":"Str","c":"Mueller,"},{"t":"SoftBreak"},{"t":"Str","c":"Edward"},{"t":"Space"},{"t":"Str","c":"J"},{"t":"Space"},{"t":"Str","c":"Renauer"},{"t":"Space"},{"t":"Str","c":"Jr,"},{"t":"SoftBreak"},{"t":"Str","c":"Emiliano"},{"t":"Space"},{"t":"Str","c":"Martinez,"},{"t":"SoftBreak"},{"t":"Str","c":"esthom,"},{"t":"SoftBreak"},{"t":"Str","c":"Etienne"},{"t":"Space"},{"t":"Str","c":"Peiniau,"},{"t":"SoftBreak"},{"t":"Str","c":"Fede"},{"t":"Space"},{"t":"Str","c":"Silva,"},{"t":"SoftBreak"},{"t":"Str","c":"Filipe"},{"t":"Space"},{"t":"Str","c":"Azevedo,"},{"t":"SoftBreak"},{"t":"Str","c":"Franck"},{"t":"Space"},{"t":"Str","c":"Rasolo,"},{"t":"SoftBreak"},{"t":"Str","c":"Gary"},{"t":"Space"},{"t":"Str","c":"Coady,"},{"t":"SoftBreak"},{"t":"Str","c":"George"},{"t":"Space"},{"t":"Str","c":"Ball,"},{"t":"SoftBreak"},{"t":"Str","c":"Gerald"},{"t":"Space"},{"t":"Str","c":"Loeffler,"},{"t":"Space"},{"t":"Str","c":"Integrational,"},{"t":"SoftBreak"},{"t":"Str","c":"Giles"},{"t":"Space"},{"t":"Str","c":"Taylor,"},{"t":"SoftBreak"},{"t":"Str","c":"Guilherme"},{"t":"Space"},{"t":"Str","c":"Dantas"},{"t":"Space"},{"t":"Str","c":"(@gamsd),"},{"t":"SoftBreak"},{"t":"Str","c":"Harish"},{"t":"Space"},{"t":"Str","c":"Hurchurn,"},{"t":"SoftBreak"},{"t":"Str","c":"Hisham"},{"t":"Space"},{"t":"Str","c":"Ismail,"},{"t":"SoftBreak"},{"t":"Str","c":"Iurii"},{"t":"Space"},{"t":"Str","c":"Susuk,"},{"t":"SoftBreak"},{"t":"Str","c":"Ivan"},{"t":"Space"},{"t":"Str","c":"(SkyWriter)"},{"t":"Space"},{"t":"Str","c":"Kasatenko,"},{"t":"SoftBreak"},{"t":"Str","c":"Ivano"},{"t":"Space"},{"t":"Str","c":"Pagano,"},{"t":"SoftBreak"},{"t":"Str","c":"Jacob"},{"t":"Space"},{"t":"Str","c":"Baumbach,"},{"t":"SoftBreak"},{"t":"Str","c":"James"},{"t":"Space"},{"t":"Str","c":"Morris,"},{"t":"SoftBreak"},{"t":"Str","c":"Jan"},{"t":"Space"},{"t":"Str","c":"Vincent"},{"t":"Space"},{"t":"Str","c":"Liwanag,"},{"t":"SoftBreak"},{"t":"Str","c":"Javier"},{"t":"Space"},{"t":"Str","c":"Gonzalez,"},{"t":"SoftBreak"},{"t":"Str","c":"Jeff"},{"t":"Space"},{"t":"Str","c":"Gentry,"},{"t":"SoftBreak"},{"t":"Str","c":"Joel"},{"t":"Space"},{"t":"Str","c":"Chovanec,"},{"t":"SoftBreak"},{"t":"Str","c":"Jon"},{"t":"Space"},{"t":"Str","c":"Bates,"},{"t":"SoftBreak"},{"t":"Str","c":"Jorge"},{"t":"Space"},{"t":"Str","c":"Aliss"},{"t":"Space"},{"t":"Str","c":"(@jaliss),"},{"t":"SoftBreak"},{"t":"Str","c":"Juan"},{"t":"Space"},{"t":"Str","c":"Macias"},{"t":"Space"},{"t":"Str","c":"(@1macias1),"},{"t":"SoftBreak"},{"t":"Str","c":"Juan"},{"t":"Space"},{"t":"Str","c":"Ortega,"},{"t":"SoftBreak"},{"t":"Str","c":"Juan"},{"t":"Space"},{"t":"Str","c":"Pablo"},{"t":"Space"},{"t":"Str","c":"Romero"},{"t":"Space"},{"t":"Str","c":"Méndez,"},{"t":"SoftBreak"},{"t":"Str","c":"Jungsun"},{"t":"Space"},{"t":"Str","c":"Kim,"},{"t":"SoftBreak"},{"t":"Str","c":"Kaushik"},{"t":"Space"},{"t":"Str","c":"Chakraborty"},{"t":"Space"},{"t":"Str","c":"(@kaychaks),"},{"t":"SoftBreak"},{"t":"Str","c":"Keith"},{"t":"Space"},{"t":"Str","c":"Mannock,"},{"t":"SoftBreak"},{"t":"Str","c":"Ken"},{"t":"Space"},{"t":"Str","c":"Hoffman,"},{"t":"SoftBreak"},{"t":"Str","c":"Kevin"},{"t":"Space"},{"t":"Str","c":"Esler,"},{"t":"SoftBreak"},{"t":"Str","c":"Kevin"},{"t":"Space"},{"t":"Str","c":"Kyyro,"},{"t":"SoftBreak"},{"t":"Str","c":"kgillies,"},{"t":"SoftBreak"},{"t":"Str","c":"Klaus"},{"t":"Space"},{"t":"Str","c":"Rehm,"},{"t":"SoftBreak"},{"t":"Str","c":"Kostas"},{"t":"Space"},{"t":"Str","c":"Skourtis,"},{"t":"SoftBreak"},{"t":"Str","c":"Lance"},{"t":"Space"},{"t":"Str","c":"Linder,"},{"t":"SoftBreak"},{"t":"Str","c":"Liang,"},{"t":"Space"},{"t":"Str","c":"Guang"},{"t":"Space"},{"t":"Str","c":"Hua,"},{"t":"SoftBreak"},{"t":"Str","c":"Loïc"},{"t":"Space"},{"t":"Str","c":"Girault,"},{"t":"SoftBreak"},{"t":"Str","c":"Luke"},{"t":"Space"},{"t":"Str","c":"Tebbs,"},{"t":"SoftBreak"},{"t":"Str","c":"Makis"},{"t":"Space"},{"t":"Str","c":"A,"},{"t":"SoftBreak"},{"t":"Str","c":"Malcolm"},{"t":"Space"},{"t":"Str","c":"Robbins,"},{"t":"SoftBreak"},{"t":"Str","c":"Mansur"},{"t":"Space"},{"t":"Str","c":"Ashraf"},{"t":"Space"},{"t":"Str","c":"(@mansur_ashraf),"},{"t":"SoftBreak"},{"t":"Str","c":"Marcel"},{"t":"Space"},{"t":"Str","c":"Lüthi,"},{"t":"SoftBreak"},{"t":"Str","c":"Marek"},{"t":"Space"},{"t":"Str","c":"Prochera"},{"t":"Space"},{"t":"Str","c":"@hicolour,"},{"t":"SoftBreak"},{"t":"Str","c":"Marianudo"},{"t":"Space"},{"t":"Str","c":"(Mariano"},{"t":"Space"},{"t":"Str","c":"Navas),"},{"t":"SoftBreak"},{"t":"Str","c":"Mark"},{"t":"Space"},{"t":"Str","c":"Eibes,"},{"t":"SoftBreak"},{"t":"Str","c":"Mark"},{"t":"Space"},{"t":"Str","c":"van"},{"t":"Space"},{"t":"Str","c":"Rensburg,"},{"t":"SoftBreak"},{"t":"Str","c":"Martijn"},{"t":"Space"},{"t":"Str","c":"Blankestijn,"},{"t":"SoftBreak"},{"t":"Str","c":"Martin"},{"t":"Space"},{"t":"Str","c":"Studer,"},{"t":"SoftBreak"},{"t":"Str","c":"Matthew"},{"t":"Space"},{"t":"Str","c":"Edwards,"},{"t":"SoftBreak"},{"t":"Str","c":"Matthew"},{"t":"Space"},{"t":"Str","c":"Pflueger,"},{"t":"SoftBreak"},{"t":"Str","c":"mauropalsgraaf,"},{"t":"SoftBreak"},{"t":"Str","c":"mbarak,"},{"t":"SoftBreak"},{"t":"Str","c":"Mehitabel,"},{"t":"SoftBreak"},{"t":"Str","c":"Michael"},{"t":"Space"},{"t":"Str","c":"Pigg,"},{"t":"SoftBreak"},{"t":"Str","c":"Mikael"},{"t":"Space"},{"t":"Str","c":"Moghadam,"},{"t":"SoftBreak"},{"t":"Str","c":"Mike"},{"t":"Space"},{"t":"Str","c":"Gehard"},{"t":"Space"},{"t":"Str","c":"(@mikegehard),"},{"t":"SoftBreak"},{"t":"Str","c":"MonadicBind,"},{"t":"SoftBreak"},{"t":"Str","c":"arjun.mukherjee@gmail.com,"},{"t":"SoftBreak"},{"t":"Str","c":"Stephen"},{"t":"Space"},{"t":"Str","c":"Arbogast,"},{"t":"SoftBreak"},{"t":"Str","c":"Narayan"},{"t":"Space"},{"t":"Str","c":"Iyer,"},{"t":"SoftBreak"},{"t":"Str","c":"@natewave,"},{"t":"SoftBreak"},{"t":"Str","c":"Netanel"},{"t":"Space"},{"t":"Str","c":"Rabinowitz,"},{"t":"SoftBreak"},{"t":"Str","c":"Nick"},{"t":"Space"},{"t":"Str","c":"Peterson,"},{"t":"SoftBreak"},{"t":"Str","c":"Nicolas"},{"t":"Space"},{"t":"Str","c":"Sitbon,"},{"t":"SoftBreak"},{"t":"Str","c":"Oier"},{"t":"Space"},{"t":"Str","c":"Blasco"},{"t":"Space"},{"t":"Str","c":"Linares,"},{"t":"SoftBreak"},{"t":"Str","c":"Oliver"},{"t":"Space"},{"t":"Str","c":"Daff,"},{"t":"SoftBreak"},{"t":"Str","c":"Oliver"},{"t":"Space"},{"t":"Str","c":"Schrenk,"},{"t":"SoftBreak"},{"t":"Str","c":"Olly"},{"t":"Space"},{"t":"Str","c":"Shaw,"},{"t":"SoftBreak"},{"t":"Str","c":"P"},{"t":"Space"},{"t":"Str","c":"Villela,"},{"t":"SoftBreak"},{"t":"Str","c":"pandaforme,"},{"t":"SoftBreak"},{"t":"Str","c":"Patrick"},{"t":"Space"},{"t":"Str","c":"Garrity,"},{"t":"SoftBreak"},{"t":"Str","c":"Pawel"},{"t":"Space"},{"t":"Str","c":"Wlodarski"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"JUG"},{"t":"Space"},{"t":"Str","c":"Lodz,"},{"t":"SoftBreak"},{"t":"Str","c":"@peel,"},{"t":"SoftBreak"},{"t":"Str","c":"Peter"},{"t":"Space"},{"t":"Str","c":"Perhac,"},{"t":"SoftBreak"},{"t":"Str","c":"Phil"},{"t":"Space"},{"t":"Str","c":"Glover,"},{"t":"SoftBreak"},{"t":"Str","c":"Philipp"},{"t":"Space"},{"t":"Str","c":"Leser-Wolf,"},{"t":"SoftBreak"},{"t":"Str","c":"Rachel"},{"t":"Space"},{"t":"Str","c":"Bowyer,"},{"t":"SoftBreak"},{"t":"Str","c":"Radu"},{"t":"Space"},{"t":"Str","c":"Gancea"},{"t":"Space"},{"t":"Str","c":"(@radusw),"},{"t":"SoftBreak"},{"t":"Str","c":"Rajit"},{"t":"Space"},{"t":"Str","c":"Singh,"},{"t":"SoftBreak"},{"t":"Str","c":"Ramin"},{"t":"Space"},{"t":"Str","c":"Alidousti,"},{"t":"SoftBreak"},{"t":"Str","c":"Raymond"},{"t":"Space"},{"t":"Str","c":"Tay,"},{"t":"SoftBreak"},{"t":"Str","c":"Riccardo"},{"t":"Space"},{"t":"Str","c":"Sirigu,"},{"t":"SoftBreak"},{"t":"Str","c":"Richard"},{"t":"Space"},{"t":"Str","c":"(Yin-Wu)"},{"t":"Space"},{"t":"Str","c":"Chuo,"},{"t":"SoftBreak"},{"t":"Str","c":"Rob"},{"t":"Space"},{"t":"Str","c":"Vermazeren,"},{"t":"SoftBreak"},{"t":"Str","c":"Robert"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"Kemichal"}]]},{"t":"Space"},{"t":"Str","c":"Andersson,"},{"t":"SoftBreak"},{"t":"Str","c":"Robin"},{"t":"Space"},{"t":"Str","c":"Taylor"},{"t":"Space"},{"t":"Str","c":"(@badgermind),"},{"t":"SoftBreak"},{"t":"Str","c":"Rongcui"},{"t":"Space"},{"t":"Str","c":"Dong,"},{"t":"SoftBreak"},{"t":"Str","c":"Rui"},{"t":"Space"},{"t":"Str","c":"Morais,"},{"t":"SoftBreak"},{"t":"Str","c":"Rupert"},{"t":"Space"},{"t":"Str","c":"Bates,"},{"t":"SoftBreak"},{"t":"Str","c":"Rustem"},{"t":"Space"},{"t":"Str","c":"Suniev,"},{"t":"SoftBreak"},{"t":"Str","c":"Sanjiv"},{"t":"Space"},{"t":"Str","c":"Sahayam,"},{"t":"SoftBreak"},{"t":"Str","c":"Shane"},{"t":"Space"},{"t":"Str","c":"Delmore,"},{"t":"SoftBreak"},{"t":"Str","c":"Stefan"},{"t":"Space"},{"t":"Str","c":"Plantikow,"},{"t":"SoftBreak"},{"t":"Str","c":"Sundy"},{"t":"Space"},{"t":"Str","c":"Wiliam"},{"t":"Space"},{"t":"Str","c":"Yaputra,"},{"t":"SoftBreak"},{"t":"Str","c":"Tal"},{"t":"Space"},{"t":"Str","c":"Pressman,"},{"t":"SoftBreak"},{"t":"Str","c":"Tamas"},{"t":"Space"},{"t":"Str","c":"Neltz,"},{"t":"SoftBreak"},{"t":"Str","c":"theLXK,"},{"t":"SoftBreak"},{"t":"Str","c":"Tim"},{"t":"Space"},{"t":"Str","c":"Pigden,"},{"t":"SoftBreak"},{"t":"Str","c":"Tobias"},{"t":"Space"},{"t":"Str","c":"Lutz,"},{"t":"SoftBreak"},{"t":"Str","c":"Tom"},{"t":"Space"},{"t":"Str","c":"Duhourq,"},{"t":"SoftBreak"},{"t":"Str","c":"@tomzalt,"},{"t":"SoftBreak"},{"t":"Str","c":"Utz"},{"t":"Space"},{"t":"Str","c":"Westermann,"},{"t":"SoftBreak"},{"t":"Str","c":"Vadym"},{"t":"Space"},{"t":"Str","c":"Shalts,"},{"t":"SoftBreak"},{"t":"Str","c":"Val"},{"t":"Space"},{"t":"Str","c":"Akkapeddi,"},{"t":"SoftBreak"},{"t":"Str","c":"Vasanth"},{"t":"Space"},{"t":"Str","c":"Loka,"},{"t":"SoftBreak"},{"t":"Str","c":"Vladimir"},{"t":"Space"},{"t":"Str","c":"Bacvanski,"},{"t":"SoftBreak"},{"t":"Str","c":"Vladimir"},{"t":"Space"},{"t":"Str","c":"Bystrov"},{"t":"Space"},{"t":"Str","c":"aka"},{"t":"Space"},{"t":"Str","c":"udav_pit,"},{"t":"SoftBreak"},{"t":"Str","c":"William"},{"t":"Space"},{"t":"Str","c":"Benton,"},{"t":"SoftBreak"},{"t":"Str","c":"Wojciech"},{"t":"Space"},{"t":"Str","c":"Langiewicz,"},{"t":"SoftBreak"},{"t":"Str","c":"Yann"},{"t":"Space"},{"t":"Str","c":"Ollivier"},{"t":"Space"},{"t":"Str","c":"(@ya2o),"},{"t":"SoftBreak"},{"t":"Str","c":"Yoshiro"},{"t":"Space"},{"t":"Str","c":"Naito,"},{"t":"SoftBreak"},{"t":"Str","c":"zero323,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"zeronone."}]},{"t":"Para","c":[{"t":"RawInline","c":["tex","\\partimage[width=.5\\linewidth]{src/pages/parts/part1.png}"]},{"t":"SoftBreak"},{"t":"RawInline","c":["tex","\\part{Theory}"]}]},{"t":"Header","c":[1,["sec:type-classes",[],[]],[{"t":"Str","c":"Introduction"}]]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"contains"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"wide"},{"t":"Space"},{"t":"Str","c":"variety"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"tools"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"developers"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"pick"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"choose"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"ones"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"majority"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"tools"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"delivered"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"}]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"existing"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"types."}]},{"t":"Para","c":[{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"originating"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Haskell"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"word"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"class"}]]},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"strictly"},{"t":"Space"},{"t":"Str","c":"mean"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"class"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"Java"},{"t":"Space"},{"t":"Str","c":"sense."}]}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"They"},{"t":"Space"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"extend"},{"t":"Space"},{"t":"Str","c":"existing"},{"t":"Space"},{"t":"Str","c":"libraries"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"functionality,"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"traditional"},{"t":"Space"},{"t":"Str","c":"inheritance,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"altering"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"original"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"source"},{"t":"Space"},{"t":"Str","c":"code."}]},{"t":"RawBlock","c":["html","<!--\nType classes work well with another programming pattern: *algebraic data types*.\nThese are closed systems of types that we use to represent data or concepts.\nBecause the systems are closed (and therefore cannot be extended by other users),\nwe can process them using pattern matching\nand the compiler will check the exhaustiveness of our case clauses.\n\nThere are two other patterns we need to cover in this chapter.\n*Value classes* provide a way to wrap up\ngeneric data types like `Strings` and `Ints`\nand give them specific meanings in a given context.\nThe extra type information is useful when type classes.\n*Type aliases* are another pattern that\nprovide aliases for large, complex types.\n-->"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"refresh"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"memory"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"Underscore’s"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Essential"},{"t":"Space"},{"t":"Str","c":"Scala"}],["http://underscore.io/books/essential-scala",""]]},{"t":"Space"},{"t":"Str","c":"book,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"take"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"codebase."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes—"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Str","c":"—using"},{"t":"SoftBreak"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"identify"},{"t":"Space"},{"t":"Str","c":"patterns"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"lay"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"foundations"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"rest"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"book."}]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"finish"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"tying"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"algebraic"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types,"},{"t":"SoftBreak"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"matching,"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"classes,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"aliases,"},{"t":"SoftBreak"},{"t":"Str","c":"presenting"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"structured"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala."}]},{"t":"Header","c":[2,["anatomy-of-a-type-class",[],[]],[{"t":"Str","c":"Anatomy"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Class"}]]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"important"},{"t":"Space"},{"t":"Str","c":"components"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"pattern:"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"}]},{"t":"Space"},{"t":"Str","c":"itself,"},{"t":"SoftBreak"},{"t":"Emph","c":[{"t":"Str","c":"instances"}]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"particular"},{"t":"Space"},{"t":"Str","c":"types,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"use"}]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes."}]},{"t":"Para","c":[{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"values"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"parameters"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"optionally"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"classes"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"language"},{"t":"Space"},{"t":"Str","c":"constructs"},{"t":"Space"},{"t":"Str","c":"correspond"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"components"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"traits:"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"values:"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameters:"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"use;"},{"t":"Space"},{"t":"Str","c":"and"}]}],[{"t":"Plain","c":[{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"classes:"},{"t":"Space"},{"t":"Str","c":"optional"},{"t":"Space"},{"t":"Str","c":"utilities"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"easier"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"detail."}]},{"t":"Header","c":[3,["the-type-class",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Class"}]]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"}]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"API"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"functionality"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"represented"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"trait"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"least"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"serialize"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"JSON"}]]},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// Define a very simple JSON AST\nsealed trait Json\nfinal case class JsObject(get: Map[String, Json]) extends Json\nfinal case class JsString(get: String) extends Json\nfinal case class JsNumber(get: Double) extends Json\nfinal case object JsNull extends Json\n\n// The \"serialize to JSON\" behaviour is encoded in this trait\ntrait JsonWriter[A] {\n  def write(value: A): Json\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"JsonWriter"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Json"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"subtypes"},{"t":"Space"},{"t":"Str","c":"providing"},{"t":"Space"},{"t":"Str","c":"supporting"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"come"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"concrete"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"writing."}]},{"t":"Header","c":[3,["type-class-instances",[],[]],[{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Class"},{"t":"Space"},{"t":"Str","c":"Instances"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"instances"}]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"specific"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"care"},{"t":"Space"},{"t":"Str","c":"about,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"include"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"domain"},{"t":"Space"},{"t":"Str","c":"model."}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"SoftBreak"},{"t":"Str","c":"concrete"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"tagging"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit"]},{"t":"Space"},{"t":"Str","c":"keyword:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class Person(name: String, email: String)\n\nobject JsonWriterInstances {\n  implicit val stringWriter: JsonWriter[String] =\n    new JsonWriter[String] {\n      def write(value: String): Json =\n        JsString(value)\n    }\n\n  implicit val personWriter: JsonWriter[Person] =\n    new JsonWriter[Person] {\n      def write(value: Person): Json =\n        JsObject(Map(\n          \"name\" -> JsString(value.name),\n          \"email\" -> JsString(value.email)\n        ))\n    }\n\n  // etc...\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"known"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"values."}]},{"t":"Header","c":[3,["type-class-use",[],[]],[{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Class"},{"t":"Space"},{"t":"Str","c":"Use"}]]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"use"}]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"functionality"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"work."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameters."}]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"utilities"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"easier"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"sometimes"},{"t":"Space"},{"t":"Str","c":"seem"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"patterns"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"libraries."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"ways"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"this:"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"Interface"},{"t":"Space"},{"t":"Str","c":"Objects"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"Interface"},{"t":"Space"},{"t":"Str","c":"Syntax"}]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Interface"},{"t":"Space"},{"t":"Str","c":"Objects"}]}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"simplest"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"place"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"singleton"},{"t":"Space"},{"t":"Str","c":"object:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nobject Json {\n  def toJson[A](value: A)(implicit w: JsonWriter[A]): Json =\n    w.write(value)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"object,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"care"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relevant"},{"t":"Space"},{"t":"Str","c":"method:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport JsonWriterInstances._\n\nJson.toJson(Person(\"Dave\", \"dave@example.com\"))\n// res1: Json = JsObject(\n//   Map(\"name\" -> JsString(\"Dave\"), \"email\" -> JsString(\"dave@example.com\"))\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"spots"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"toJson"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"providing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameters."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"tries"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"fix"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"searching"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relevant"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"inserting"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"site:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nJson.toJson(Person(\"Dave\", \"dave@example.com\"))(personWriter)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Interface"},{"t":"Space"},{"t":"Str","c":"Syntax"}]}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"alternatively"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"methods"}]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"extend"},{"t":"Space"},{"t":"Str","c":"existing"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"occasionally"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"referred"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"enrichment"}]]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"pimping"}]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"older"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"anymore."}]}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"refers"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Emph","c":[{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"syntax"}]]}]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nobject JsonSyntax {\n  implicit class JsonWriterOps[A](value: A) {\n    def toJson(implicit w: JsonWriter[A]): Json =\n      w.write(value)\n  }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"importing"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"SoftBreak"},{"t":"Str","c":"alongside"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport JsonWriterInstances._\nimport JsonSyntax._\n\nPerson(\"Dave\", \"dave@example.com\").toJson\n// res3: Json = JsObject(\n//   Map(\"name\" -> JsString(\"Dave\"), \"email\" -> JsString(\"dave@example.com\"))\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Again,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"searches"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"candidates"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"fills"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"us:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nPerson(\"Dave\", \"dave@example.com\").toJson(personWriter)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"implicitly"}]},{"t":"Space"},{"t":"Str","c":"Method"}]}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicitly"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Its"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"simple:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef implicitly[A](implicit value: A): A =\n  value\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicitly"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"summon"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicitly"]},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"rest:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport JsonWriterInstances._\n\nimplicitly[JsonWriter[String]]\n// res5: JsonWriter[String] = repl.Session$App0$JsonWriterInstances$$anon$1@76f60d45\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Most"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"summon"},{"t":"Space"},{"t":"Str","c":"instances."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicitly"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"fallback"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"debugging"},{"t":"Space"},{"t":"Str","c":"purposes."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"insert"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicitly"]},{"t":"Space"},{"t":"Str","c":"within"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"flow"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"ambiguous"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"errors."}]},{"t":"Header","c":[2,["working-with-implicits",[],[]],[{"t":"Str","c":"Working"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Implicits"}]]},{"t":"Para","c":[{"t":"Str","c":"Working"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"SoftBreak"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameters."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"few"},{"t":"Space"},{"t":"Str","c":"rules"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"effectively."}]},{"t":"Header","c":[3,["packaging-implicits",[],[]],[{"t":"Str","c":"Packaging"},{"t":"Space"},{"t":"Str","c":"Implicits"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"curious"},{"t":"Space"},{"t":"Str","c":"quirk"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"language,"},{"t":"SoftBreak"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"definitions"},{"t":"Space"},{"t":"Str","c":"marked"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"placed"},{"t":"SoftBreak"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"trait"},{"t":"Space"},{"t":"Str","c":"rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"top"},{"t":"Space"},{"t":"Str","c":"level."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"packaged"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriterInstances"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"equally"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"placed"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Placing"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"special"},{"t":"Space"},{"t":"Str","c":"significance"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"plays"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"something"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope"}]},{"t":"Str","c":"."}]},{"t":"Header","c":[3,["implicit-scope",[],[]],[{"t":"Str","c":"Implicit"},{"t":"Space"},{"t":"Str","c":"Scope"}]]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"above,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"searches"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"candidate"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"expression"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"JsonWriter[String]"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nJson.toJson(\"A string!\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"places"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"searches"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"candidate"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"known"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"applies"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"site;"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"point"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameter."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"roughly"},{"t":"Space"},{"t":"Str","c":"consists"},{"t":"Space"},{"t":"Str","c":"of:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"local"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"inherited"},{"t":"Space"},{"t":"Str","c":"definitions;"}]}],[{"t":"Para","c":[{"t":"Str","c":"imported"},{"t":"Space"},{"t":"Str","c":"definitions;"}]}],[{"t":"Para","c":[{"t":"Str","c":"definitions"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"(in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":")."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Definitions"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"included"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"tagged"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit"]},{"t":"Space"},{"t":"Str","c":"keyword."},{"t":"SoftBreak"},{"t":"Str","c":"Furthermore,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"sees"},{"t":"Space"},{"t":"Str","c":"multiple"},{"t":"Space"},{"t":"Str","c":"candidate"},{"t":"Space"},{"t":"Str","c":"definitions,"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"fails"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"ambiguous"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"values"}]},{"t":"Space"},{"t":"Str","c":"error:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val writer1: JsonWriter[String] =\n  JsonWriterInstances.stringWriter\n\nimplicit val writer2: JsonWriter[String] =\n  JsonWriterInstances.stringWriter\n\nJson.toJson(\"A string\")\n// error: ambiguous implicit values:\n//  both value writer1 in object App0 of type => repl.Session.App0.JsonWriter[String]\n//  and value writer2 in object App0 of type => repl.Session.App0.JsonWriter[String]\n//  match expected type repl.Session.App0.JsonWriter[String]\n// Json.toJson(\"A string\")\n// ^^^^^^^^^^^^^^^^^^^^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"precise"},{"t":"Space"},{"t":"Str","c":"rules"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"resolution"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"complex"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"this,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"complexity"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"largely"},{"t":"Space"},{"t":"Str","c":"irrelevant"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"day-to-day"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you’re"},{"t":"Space"},{"t":"Str","c":"interested"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"finer"},{"t":"Space"},{"t":"Str","c":"rules"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"resolution"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala,"},{"t":"SoftBreak"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"taking"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"Stack"},{"t":"Space"},{"t":"Str","c":"Overflow"},{"t":"Space"},{"t":"Str","c":"post"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope"}],["https://stackoverflow.com/questions/5598085/where-does-scala-look-for-implicits",""]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"blog"},{"t":"Space"},{"t":"Str","c":"post"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"priority"}],["http://eed3si9n.com/revisiting-implicits-without-import-tax",""]]},{"t":"Str","c":"."}]}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"purposes,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"package"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"roughly"},{"t":"Space"},{"t":"Str","c":"four"},{"t":"Space"},{"t":"Str","c":"ways:"}]},{"t":"OrderedList","c":[[1,{"t":"Decimal"},{"t":"Period"}],[[{"t":"Plain","c":[{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"placing"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriterInstances"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"placing"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"trait;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"placing"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"placing"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"type."}]}]]]},{"t":"Para","c":[{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"option"},{"t":"Space"},{"t":"Str","c":"1"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"bring"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"importing"]},{"t":"Space"},{"t":"Str","c":"them."},{"t":"SoftBreak"},{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"option"},{"t":"Space"},{"t":"Str","c":"2"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"bring"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"inheritance."},{"t":"SoftBreak"},{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"options"},{"t":"Space"},{"t":"Str","c":"3"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"4"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"always"}]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope,"},{"t":"SoftBreak"},{"t":"Str","c":"regardless"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"them."}]},{"t":"Para","c":[{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"conventional"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"put"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"(option"},{"t":"Space"},{"t":"Str","c":"3"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"4"},{"t":"Space"},{"t":"Str","c":"above)"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"sensible"},{"t":"Space"},{"t":"Str","c":"implementation,"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"least"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"widely"},{"t":"Space"},{"t":"Str","c":"accepted"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"default."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"easier"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"required"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"bring"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope."}]},{"t":"Header","c":[3,["sec:type-classes:recursive-implicits",[],[]],[{"t":"Str","c":"Recursive"},{"t":"Space"},{"t":"Str","c":"Implicit"},{"t":"Space"},{"t":"Str","c":"Resolution"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"power"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"implicits"},{"t":"Space"},{"t":"Str","c":"lies"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler’s"},{"t":"Space"},{"t":"Str","c":"ability"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"combine"}]},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"definitions"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"searching"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"candidate"},{"t":"Space"},{"t":"Str","c":"instances."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"sometimes"},{"t":"Space"},{"t":"Str","c":"known"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"composition"}]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Earlier"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"insinuated"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit vals"]},{"t":"Str","c":"."},{"t":"Space"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"was"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simplification."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"actually"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"ways:"}]},{"t":"OrderedList","c":[[1,{"t":"Decimal"},{"t":"Period"}],[[{"t":"Para","c":[{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"concrete"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"implicit vals"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"required"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit object"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"thing"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit val"]},{"t":"Str","c":"."}]}]},{"t":"Str","c":";"}]}],[{"t":"Para","c":[{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"construct"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances."}]}]]]},{"t":"Para","c":[{"t":"Str","c":"Why"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"construct"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"instances?"},{"t":"SoftBreak"},{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"motivational"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"consider"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter[Option[A]]"]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"care"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"application."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"brute"},{"t":"Space"},{"t":"Str","c":"force"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"problem"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit vals"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val optionIntWriter: JsonWriter[Option[Int]] =\n  ???\n\nimplicit val optionPersonWriter: JsonWriter[Option[Person]] =\n  ???\n\n// and so on...\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"clearly"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"scale."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"requiring"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit vals"]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"application:"},{"t":"SoftBreak"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[A]"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Fortunately,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"handling"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[A]"]},{"t":"SoftBreak"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Str","c":"based"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":":"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"option"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some(aValue)"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"aValue"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"writer"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":";"}]}],[{"t":"Para","c":[{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"option"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsNull"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit def"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit def optionWriter[A]\n    (implicit writer: JsonWriter[A]): JsonWriter[Option[A]] =\n  new JsonWriter[Option[A]] {\n    def write(option: Option[A]): Json =\n      option match {\n        case Some(aValue) => writer.write(aValue)\n        case None         => JsNull\n      }\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"constructs"}]},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[A]"]},{"t":"Space"},{"t":"Str","c":"by"},{"t":"SoftBreak"},{"t":"Str","c":"relying"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"fill"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"-specific"},{"t":"Space"},{"t":"Str","c":"functionality."},{"t":"SoftBreak"},{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"sees"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"expression"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"this:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nJson.toJson(Option(\"A string\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"searches"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter[Option[String]]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"finds"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter[Option[A]]"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nJson.toJson(Option(\"A string\"))(optionWriter[String])\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"recursively"},{"t":"Space"},{"t":"Str","c":"searches"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter[String]"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"optionWriter"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nJson.toJson(Option(\"A string\"))(optionWriter(stringWriter))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"way,"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"resolution"},{"t":"Space"},{"t":"Str","c":"becomes"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"search"},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"space"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"possible"},{"t":"Space"},{"t":"Str","c":"combinations"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"definitions,"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"combination"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"creates"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"overall"},{"t":"Space"},{"t":"Str","c":"type."}]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{WarningCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Implicit"},{"t":"Space"},{"t":"Str","c":"Conversions"}]}]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit def"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"sure"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"mark"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit"]},{"t":"Space"},{"t":"Str","c":"parameters."},{"t":"SoftBreak"},{"t":"Str","c":"Without"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"keyword,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"won’t"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"fill"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"during"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"resolution."}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"implicit"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"non-"},{"t":"Code","c":[["",[],[]],"implicit"]},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"SoftBreak"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"conversion"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"section"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Interface Syntax"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"methods."},{"t":"SoftBreak"},{"t":"Str","c":"Implicit"},{"t":"Space"},{"t":"Str","c":"conversion"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"older"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"frowned"},{"t":"Space"},{"t":"Str","c":"upon"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"modern"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"Fortunately,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"warn"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"this."},{"t":"SoftBreak"},{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"manually"},{"t":"Space"},{"t":"Str","c":"enable"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"conversions"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"importing"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"scala.language.implicitConversions"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"file:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit def optionWriter[A]\n    (writer: JsonWriter[A]): JsonWriter[Option[A]] =\n  ???\n// warning: implicit conversion method foo should be enabled\n// by making the implicit value scala.language.implicitConversions visible.\n// This can be achieved by adding the import clause 'import scala.language.implicitConversions'\n// or by setting the compiler option -language:implicitConversions.\n// See the Scaladoc for value scala.language.implicitConversions for a discussion\n// why the feature should be explicitly enabled.\n\\end{lstlisting}"]},{"t":"RawBlock","c":["latex","\\end{WarningCallout}"]}]]},{"t":"Header","c":[2,["exercise-printable-library",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Printable"},{"t":"Space"},{"t":"Str","c":"Library"}]]},{"t":"Para","c":[{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"toString"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"let"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"comes"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"few"},{"t":"Space"},{"t":"Str","c":"disadvantages:"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"every"}]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"language,"},{"t":"SoftBreak"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"limited"},{"t":"Space"},{"t":"Str","c":"use,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"opt-in"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"specific"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"specific"},{"t":"Space"},{"t":"Str","c":"types."}]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"problems:"}]},{"t":"OrderedList","c":[[1,{"t":"Decimal"},{"t":"Period"}],[[{"t":"Para","c":[{"t":"Str","c":"Define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable[A]"]},{"t":"Space"},{"t":"Str","c":"containing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"format"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"format"]},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":"."}]}],[{"t":"Para","c":[{"t":"Str","c":"Create"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"PrintableInstances"]},{"t":"SoftBreak"},{"t":"Str","c":"containing"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Str","c":"."}]}],[{"t":"Para","c":[{"t":"Str","c":"Define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"methods:"}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"format"]},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"corresponding"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relevant"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"print"]},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"format"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Unit"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"prints"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"formatted"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"console"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"println"]},{"t":"Str","c":"."}]}]]]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:3fe8912bce7c3518971fc3ae22e99414",""]]}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Library"}]}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"forms"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"purpose"},{"t":"Space"},{"t":"Str","c":"printing"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"multiple"},{"t":"Space"},{"t":"Str","c":"applications."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"application"}]]},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"library."}]},{"t":"Para","c":[{"t":"Str","c":"First"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"well-known"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"furry"},{"t":"Space"},{"t":"Str","c":"animal:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class Cat(name: String, age: Int, color: String)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Next"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Cat"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"content"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"format:"}]},{"t":"CodeBlock","c":[["",["ruby"],[]],"NAME is a AGE year-old COLOR cat."]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"console"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"short"},{"t":"Space"},{"t":"Str","c":"demo"},{"t":"Space"},{"t":"Str","c":"app:"},{"t":"SoftBreak"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Cat"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"print"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"console:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// Define a cat:\nval cat = Cat(/* ... */)\n\n// Print the cat!\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:debfb34a3a9bcf0ee39d6c8c46f3e24c",""]]}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Better"},{"t":"Space"},{"t":"Str","c":"Syntax"}]}]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"printing"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"easier"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"better"},{"t":"Space"},{"t":"Str","c":"syntax:"}]},{"t":"OrderedList","c":[[1,{"t":"Decimal"},{"t":"Period"}],[[{"t":"Para","c":[{"t":"Str","c":"Create"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"PrintableSyntax"]},{"t":"Str","c":"."}]}],[{"t":"Para","c":[{"t":"Str","c":"Inside"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"PrintableSyntax"]},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit class PrintableOps[A]"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"wrap"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."}]}],[{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"PrintableOps"]},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"methods:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"format"]},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable[A]"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Space"},{"t":"Str","c":"representation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"wrapped"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":";"}]}],[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"print"]},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable[A]"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Unit"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"prints"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"wrapped"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"console."}]}]]}],[{"t":"Para","c":[{"t":"Str","c":"Use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"print"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Cat"]},{"t":"SoftBreak"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"created"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"exercise."}]}]]]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:fe421dd55b30a732f0cf384f2d0c2218",""]]}]},{"t":"Header","c":[2,["meet-cats",[],[]],[{"t":"Str","c":"Meet"},{"t":"Space"},{"t":"Str","c":"Cats"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"section"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"section"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats."}]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"modular"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"choose"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes,"},{"t":"Space"},{"t":"Str","c":"instances,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"take"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Show"]}],["http://typelevel.org/cats/api/cats/Show.html",""]]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example."}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"last"},{"t":"Space"},{"t":"Str","c":"section."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"mechanism"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"producing"},{"t":"SoftBreak"},{"t":"Str","c":"developer-friendly"},{"t":"Space"},{"t":"Str","c":"console"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"toString"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"abbreviated"},{"t":"Space"},{"t":"Str","c":"definition:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\npackage cats\n\ntrait Show[A] {\n  def show(value: A): String\n}\n\\end{lstlisting}"]},{"t":"Header","c":[3,["importing-type-classes",[],[]],[{"t":"Str","c":"Importing"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Classes"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats"]}],["http://typelevel.org/cats/api/cats/",""]]},{"t":"Space"},{"t":"Str","c":"package."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Space"},{"t":"Str","c":"directly"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"package:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Show\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"locates"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"specify:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval showInt = Show.apply[Int]\n// error: could not find implicit value for parameter instance: cats.Show[Int]\n// val showInt:    Show[Int]    = Show.apply[Int]\n//                                ^^^^^^^^^^^^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Oops—that"},{"t":"Space"},{"t":"Str","c":"didn’t"},{"t":"Space"},{"t":"Str","c":"work!"},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"implicits"}]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"individual"},{"t":"Space"},{"t":"Str","c":"instances,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"bring"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"scope."}]},{"t":"Header","c":[3,["importing-default-instances",[],[]],[{"t":"Str","c":"Importing"},{"t":"Space"},{"t":"Str","c":"Default"},{"t":"Space"},{"t":"Str","c":"Instances"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances"]}],["http://typelevel.org/cats/api/cats/instances/",""]]},{"t":"Space"},{"t":"Str","c":"package"},{"t":"SoftBreak"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"default"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"wide"},{"t":"Space"},{"t":"Str","c":"variety"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"types."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"table"},{"t":"Space"},{"t":"Str","c":"below."},{"t":"SoftBreak"},{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"specific"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"type:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances.int"]}],["http://typelevel.org/cats/api/cats/instances/package$$int$",""]]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]}]}],[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances.string"]}],["http://typelevel.org/cats/api/cats/instances/package$$string$",""]]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]}]}],[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances.list"]}],["http://typelevel.org/cats/api/cats/instances/package$$list$",""]]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]}]}],[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances.option"]}],["http://typelevel.org/cats/api/cats/instances/package$$option$",""]]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]}]}],[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances.all"]}],["http://typelevel.org/cats/api/cats/instances/package$$all$",""]]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"shipped"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"box"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Cats"}]}]]},{"t":"Para","c":[{"t":"Str","c":"See"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances"]}],["http://typelevel.org/cats/api/cats/instances/",""]]},{"t":"Space"},{"t":"Str","c":"package"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"available"},{"t":"Space"},{"t":"Str","c":"imports."}]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.int._    // for Show\nimport cats.instances.string._ // for Show\n\nval showInt:    Show[Int]    = Show.apply[Int]\nval showString: Show[String] = Show.apply[String]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"That’s"},{"t":"Space"},{"t":"Str","c":"better!"},{"t":"Space"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"access"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"print"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Ints"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Strings"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval intAsString: String =\n  showInt.show(123)\n// intAsString: String = \"123\"\n\nval stringAsString: String =\n  showString.show(\"abc\")\n// stringAsString: String = \"abc\"\n\\end{lstlisting}"]},{"t":"Header","c":[3,["importing-interface-syntax",[],[]],[{"t":"Str","c":"Importing"},{"t":"Space"},{"t":"Str","c":"Interface"},{"t":"Space"},{"t":"Str","c":"Syntax"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Space"},{"t":"Str","c":"easier"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"SoftBreak"},{"t":"Str","c":"importing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"syntax"}]},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.show"]}],["http://typelevel.org/cats/api/cats/syntax/package$$show$",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"adds"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"show"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.show._ // for show\n\nval shownInt = 123.show\n// shownInt: String = \"123\"\n\nval shownString = \"abc\".show\n// shownString: String = \"abc\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"separate"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"imports"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"introduce"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"encounter"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"later"},{"t":"Space"},{"t":"Str","c":"sections"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"chapters."}]},{"t":"Header","c":[3,["importing-all-the-things",[],[]],[{"t":"Str","c":"Importing"},{"t":"Space"},{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Things!"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"specific"},{"t":"Space"},{"t":"Str","c":"imports"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"show"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"SoftBreak"},{"t":"Str","c":"exactly"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"example."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"production"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"simpler"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"faster"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"imports:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"import cats._"]},{"t":"Space"},{"t":"Str","c":"imports"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"go;"}]}],[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"import cats.implicits._"]},{"t":"Space"},{"t":"Str","c":"imports"},{"t":"SoftBreak"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Emph","c":[{"t":"Str","c":"and"}]},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"go."}]}]]},{"t":"Header","c":[3,["defining-custom-instances",[],[]],[{"t":"Str","c":"Defining"},{"t":"Space"},{"t":"Str","c":"Custom"},{"t":"Space"},{"t":"Str","c":"Instances"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"SoftBreak"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"implementing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"trait"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"given"},{"t":"Space"},{"t":"Str","c":"type:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport java.util.Date\n\nimplicit val dateShow: Show[Date] =\n  new Show[Date] {\n    def show(date: Date): String =\n      s\"${date.getTime}ms since the epoch.\"\n  }\n\nnew Date().show\n// res1: String = \"1594215596646ms since the epoch.\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"couple"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"convenient"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"simplify"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"process."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"construction"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Str","c":"types:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nobject Show {\n  // Convert a function to a `Show` instance:\n  def show[A](f: A => String): Show[A] =\n    ???\n\n  // Create a `Show` instance from a `toString` method:\n  def fromToString[A]: Show[A] =\n    ???\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"quickly"},{"t":"Space"},{"t":"Str","c":"construct"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"less"},{"t":"Space"},{"t":"Str","c":"ceremony"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"scratch:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val dateShow: Show[Date] =\n  Show.show(date => s\"${date.getTime}ms since the epoch.\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"see,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"construction"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"much"},{"t":"Space"},{"t":"Str","c":"terser"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"without."},{"t":"SoftBreak"},{"t":"Str","c":"Many"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"helper"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"constructing"},{"t":"Space"},{"t":"Str","c":"instances,"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"scratch"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"transforming"},{"t":"Space"},{"t":"Str","c":"existing"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"types."}]},{"t":"Header","c":[3,["exercise-cat-show",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Cat"},{"t":"Space"},{"t":"Str","c":"Show"}]]},{"t":"Para","c":[{"t":"Str","c":"Re-implement"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Cat"]},{"t":"Space"},{"t":"Str","c":"application"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"section"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:01cd734ce186e834a1d90f3b6ba90c92",""]]}]},{"t":"Header","c":[2,["example-eq",[],[]],[{"t":"Str","c":"Example:"},{"t":"Space"},{"t":"Str","c":"Eq"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"finish"},{"t":"Space"},{"t":"Str","c":"off"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"looking"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class:"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Eq"]}],["http://typelevel.org/cats/api/cats/kernel/Eq.html",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"designed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"support"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"type-safe"},{"t":"Space"},{"t":"Str","c":"equality"}]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"address"},{"t":"Space"},{"t":"Str","c":"annoyances"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"Scala’s"},{"t":"Space"},{"t":"Str","c":"built-in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"=="]},{"t":"Space"},{"t":"Str","c":"operator."}]},{"t":"Para","c":[{"t":"Str","c":"Almost"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"developer"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"before:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nList(1, 2, 3).map(Option(_)).filter(item => item == 1)\n// warning: Option[Int] and Int are unrelated: they will most likely never compare equal\n// res: List[Option[Int]] = List()\n\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Ok,"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"won’t"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"made"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"mistake"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"this,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"principle"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"sound."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"predicate"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"filter"]},{"t":"Space"},{"t":"Str","c":"clause"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"false"]},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"comparing"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[Int]"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"programmer"},{"t":"Space"},{"t":"Str","c":"error—we"},{"t":"SoftBreak"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"compared"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"item"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some(1)"]},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"1"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"technically"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"=="]},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"pair"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"objects,"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"matter"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"compare."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"designed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"safety"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"equality"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"problem."}]},{"t":"Header","c":[3,["equality-liberty-and-fraternity",[],[]],[{"t":"Str","c":"Equality,"},{"t":"Space"},{"t":"Str","c":"Liberty,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Fraternity"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"type-safe"},{"t":"Space"},{"t":"Str","c":"equality"},{"t":"SoftBreak"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"given"},{"t":"Space"},{"t":"Str","c":"type:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\npackage cats\n\ntrait Eq[A] {\n  def eqv(a: A, b: A): Boolean\n  // other concrete methods based on eqv...\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"syntax,"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.eq"]}],["http://typelevel.org/cats/api/cats/syntax/package$$eq$",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"performing"},{"t":"Space"},{"t":"Str","c":"equality"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"SoftBreak"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq[A]"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"==="]},{"t":"Space"},{"t":"Str","c":"compares"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"objects"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"equality;"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"=!="]},{"t":"Space"},{"t":"Str","c":"compares"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"objects"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"inequality."}]}]]},{"t":"Header","c":[3,["comparing-ints",[],[]],[{"t":"Str","c":"Comparing"},{"t":"Space"},{"t":"Str","c":"Ints"}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"few"},{"t":"Space"},{"t":"Str","c":"examples."},{"t":"Space"},{"t":"Str","c":"First"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Eq\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"grab"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.int._ // for Eq\n\nval eqInt = Eq[Int]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"eqInt"]},{"t":"Space"},{"t":"Str","c":"directly"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"equality:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\neqInt.eqv(123, 123)\n// res1: Boolean = true\neqInt.eqv(123, 234)\n// res2: Boolean = false\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Unlike"},{"t":"Space"},{"t":"Str","c":"Scala’s"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"=="]},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"compare"},{"t":"Space"},{"t":"Str","c":"objects"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"eqv"]},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"compile"},{"t":"Space"},{"t":"Str","c":"error:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\neqInt.eqv(123, \"234\")\n// error: type mismatch;\n//  found   : String(\"234\")\n//  required: Int\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.eq"]}],["http://typelevel.org/cats/api/cats/syntax/package$$eq$",""]]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"==="]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"=!="]},{"t":"Space"},{"t":"Str","c":"methods:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.eq._ // for === and =!=\n\n123 === 123\n// res4: Boolean = true\n123 =!= 234\n// res5: Boolean = true\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Again,"},{"t":"Space"},{"t":"Str","c":"comparing"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"causes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"error:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n123 === \"123\"\n// error: type mismatch;\n//  found   : String(\"123\")\n//  required: Int\n// 123 === \"123\"\n//         ^^^^^\n\\end{lstlisting}"]},{"t":"Header","c":[3,["sec:type-classes:comparing-options",[],[]],[{"t":"Str","c":"Comparing"},{"t":"Space"},{"t":"Str","c":"Options"}]]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"interesting"},{"t":"Space"},{"t":"Str","c":"example—"},{"t":"Code","c":[["",[],[]],"Option[Int]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"compare"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[Int]"]},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"well"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.int._    // for Eq\nimport cats.instances.option._ // for Eq\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"comparisons:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nSome(1) === None\n// error: value === is not a member of Some[Int]\n// Some(1) === None\n// ^^^^^^^^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"received"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"quite"},{"t":"Space"},{"t":"Str","c":"match"},{"t":"Space"},{"t":"Str","c":"up."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[Int]"]},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"comparing"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some[Int]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"fix"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"issue"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"re-type"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"arguments"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[Int]"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n(Some(1) : Option[Int]) === (None : Option[Int])\n// res8: Boolean = false\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"friendlier"},{"t":"Space"},{"t":"Str","c":"fashion"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option.apply"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option.empty"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nOption(1) === Option.empty[Int]\n// res9: Boolean = false\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"special"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.option"]}],["http://typelevel.org/cats/api/cats/syntax/package$$option$",""]]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.option._ // for some and none\n\n1.some === none[Int]\n// res10: Boolean = false\n1.some =!= none[Int]\n// res11: Boolean = true\n\\end{lstlisting}"]},{"t":"Header","c":[3,["comparing-custom-types",[],[]],[{"t":"Str","c":"Comparing"},{"t":"Space"},{"t":"Str","c":"Custom"},{"t":"Space"},{"t":"Str","c":"Types"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq.instance"]},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"(A, A) => Boolean"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq[A]"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport java.util.Date\nimport cats.instances.long._ // for Eq\n\nimplicit val dateEq: Eq[Date] =\n  Eq.instance[Date] { (date1, date2) =>\n    date1.getTime === date2.getTime\n  }\n\nval x = new Date() // now\nval y = new Date() // a bit later than now\n\nx === x\n// res12: Boolean = true\nx === y\n// res13: Boolean = false\n\\end{lstlisting}"]},{"t":"Header","c":[3,["exercise-equality-liberty-and-felinity",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Equality,"},{"t":"Space"},{"t":"Str","c":"Liberty,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Felinity"}]]},{"t":"Para","c":[{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"running"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Cat"]},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class Cat(name: String, age: Int, color: String)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Use"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"compare"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"pairs"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"objects"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"equality"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"inequality:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval cat1 = Cat(\"Garfield\",   38, \"orange and black\")\nval cat2 = Cat(\"Heathcliff\", 33, \"orange and black\")\n\nval optionCat1 = Option(cat1)\nval optionCat2 = Option.empty[Cat]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:fe07c984d90f66803b37ccfa12dc5188",""]]}]},{"t":"Header","c":[2,["controlling-instance-selection",[],[]],[{"t":"Str","c":"Controlling"},{"t":"Space"},{"t":"Str","c":"Instance"},{"t":"Space"},{"t":"Str","c":"Selection"}]]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"consider"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"issues"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"control"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"selection:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relationship"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"SoftBreak"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"subtypes?"}]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter[Option[Int]]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"expression"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Json.toJson(Some(1))"]},{"t":"Space"},{"t":"Str","c":"select"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"instance?"},{"t":"SoftBreak"},{"t":"Str","c":"(Remember"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":")."}]}],[{"t":"Para","c":[{"t":"Str","c":"How"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"choose"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"available?"}]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriters"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Person"]},{"t":"Str","c":"?"},{"t":"SoftBreak"},{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Json.toJson(aPerson)"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"selected?"}]}]]},{"t":"Header","c":[3,["sec:variance",[],[]],[{"t":"Str","c":"Variance"}]]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"SoftBreak"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"variance"},{"t":"Space"},{"t":"Str","c":"annotations"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"affect"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"variance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler’s"},{"t":"Space"},{"t":"Str","c":"ability"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"select"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"during"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"resolution."}]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"recap"},{"t":"Space"},{"t":"Str","c":"Essential"},{"t":"Space"},{"t":"Str","c":"Scala,"},{"t":"SoftBreak"},{"t":"Str","c":"variance"},{"t":"Space"},{"t":"Str","c":"relates"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"subtypes."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"say"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"SoftBreak"},{"t":"Str","c":"anywhere"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"expect"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Co-"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"contravariance"},{"t":"Space"},{"t":"Str","c":"annotations"},{"t":"Space"},{"t":"Str","c":"arise"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"denote"},{"t":"Space"},{"t":"Str","c":"covariance"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"+"]},{"t":"Space"},{"t":"Str","c":"symbol:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait F[+A] // the \"+\" means \"covariant\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Covariance"}]}]},{"t":"Para","c":[{"t":"Str","c":"Covariance"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[B]"]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"modelling"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"types,"},{"t":"SoftBreak"},{"t":"Str","c":"including"},{"t":"Space"},{"t":"Str","c":"collections"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait List[+A]\ntrait Option[+A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"covariance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"collections"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"SoftBreak"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"substitute"},{"t":"Space"},{"t":"Str","c":"collections"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"collection"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Circle]"]},{"t":"SoftBreak"},{"t":"Str","c":"anywhere"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"expect"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Shape]"]},{"t":"Space"},{"t":"Str","c":"because"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Circle"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Shape"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsealed trait Shape\ncase class Circle(radius: Double) extends Shape\n\nval circles: List[Circle] = ???\nval shapes: List[Shape] = circles\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Generally"},{"t":"Space"},{"t":"Str","c":"speaking,"},{"t":"Space"},{"t":"Str","c":"covariance"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"outputs:"},{"t":"SoftBreak"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"later"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"container"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"otherwise"},{"t":"Space"},{"t":"Str","c":"returned"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"method."}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Contravariance"}]}]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"contravariance?"},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"contravariant"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"-"]},{"t":"Space"},{"t":"Str","c":"symbol"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"this:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait F[-A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Perhaps"},{"t":"Space"},{"t":"Str","c":"confusingly,"},{"t":"Space"},{"t":"Str","c":"contravariance"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[B]"]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"modelling"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"inputs,"},{"t":"SoftBreak"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"above:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait JsonWriter[-A] {\n  def write(value: A): Json\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"unpack"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"bit"},{"t":"Space"},{"t":"Str","c":"further."},{"t":"SoftBreak"},{"t":"Str","c":"Remember"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"variance"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"ability"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"substitute"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"another."},{"t":"SoftBreak"},{"t":"Str","c":"Consider"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"scenario"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"values,"},{"t":"SoftBreak"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Shape"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Circle"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriters"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Shape"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Circle"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval shape: Shape = ???\nval circle: Circle = ???\n\nval shapeWriter: JsonWriter[Shape] = ???\nval circleWriter: JsonWriter[Circle] = ???\n\ndef format[A](value: A, writer: JsonWriter[A]): Json =\n  writer.write(value)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"ask"},{"t":"Space"},{"t":"Str","c":"yourself"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"question:"},{"t":"SoftBreak"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"Which"},{"t":"Space"},{"t":"Str","c":"combinations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"writer"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"I"},{"t":"Space"},{"t":"Str","c":"pass"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"format"]},{"t":"Str","c":"?"}]]},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"write"]},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Circle"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"writer"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Circles"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Shapes"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Conversely,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Shape"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"circleWriter"]},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Shapes"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Circles"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"relationship"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"formally"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"contravariance."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"JsonWriter[Shape]"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter[Circle]"]},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Circle"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Shape"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"shapeWriter"]},{"t":"SoftBreak"},{"t":"Str","c":"anywhere"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"expect"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"JsonWriter[Circle]"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Invariance"}]}]},{"t":"Para","c":[{"t":"Str","c":"Invariance"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"easiest"},{"t":"Space"},{"t":"Str","c":"situation"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"describe."},{"t":"SoftBreak"},{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"+"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"-"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait F[A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[B]"]},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"never"},{"t":"Space"},{"t":"Str","c":"subtypes"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"another,"},{"t":"SoftBreak"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"matter"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relationship"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"default"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors."}]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"searches"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"looks"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"matching"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"subtype"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Thus"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"variance"},{"t":"Space"},{"t":"Str","c":"annotations"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"control"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"selection"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"extent."}]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"issues"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"tend"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"arise."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"imagine"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"algebraic"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"like:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsealed trait A\nfinal case object B extends A\nfinal case object C extends A\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"issues"},{"t":"Space"},{"t":"Str","c":"are:"}]},{"t":"OrderedList","c":[[1,{"t":"Decimal"},{"t":"Period"}],[[{"t":"Para","c":[{"t":"Str","c":"Will"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"supertype"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"selected"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"available?"},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"C"]},{"t":"Str","c":"?"}]}],[{"t":"Para","c":[{"t":"Str","c":"Will"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"selected"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"preference"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"supertype."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"instance,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"selected"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"preference"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"?"}]}]]]},{"t":"Para","c":[{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"turns"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"once."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"choices"},{"t":"Space"},{"t":"Str","c":"give"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"Table","c":[[],[{"t":"AlignLeft"},{"t":"AlignLeft"},{"t":"AlignLeft"},{"t":"AlignLeft"}],[0.4444444444444444,0.16666666666666666,0.16666666666666666,0.20833333333333334],[[{"t":"Plain","c":[{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Class"},{"t":"Space"},{"t":"Str","c":"Variance"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Invariant"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Covariant"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Contravariant"}]}]],[[[{"t":"Plain","c":[{"t":"Str","c":"Supertype"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"used?"}]}],[{"t":"Plain","c":[{"t":"Str","c":"No"}]}],[{"t":"Plain","c":[{"t":"Str","c":"No"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Yes"}]}]],[[{"t":"Plain","c":[{"t":"Str","c":"More"},{"t":"Space"},{"t":"Str","c":"specific"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"preferred?"}]}],[{"t":"Plain","c":[{"t":"Str","c":"No"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Yes"}]}],[{"t":"Plain","c":[{"t":"Str","c":"No"}]}]]]]},{"t":"Para","c":[{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"clear"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"perfect"},{"t":"Space"},{"t":"Str","c":"system."},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"prefers"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"invariant"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"specify"},{"t":"SoftBreak"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"specific"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"subtypes"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"mean"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have,"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some[Int]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"used."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"solve"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"problem"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"annotation"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some(1) : Option[Int]"]},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"smart"},{"t":"Space"},{"t":"Str","c":"constructors"}]]},{"t":"SoftBreak"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option.apply"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option.empty"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"some"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"none"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"1.5.3"},{"t":"Str","c":"."}]},{"t":"Header","c":[2,["summary",[],[]],[{"t":"Str","c":"Summary"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"took"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"plain"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"SoftBreak"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"looking"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"Cats—"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"components"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"trait"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"}]}],[{"t":"Para","c":[{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances,"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"values."}]}],[{"t":"Para","c":[{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"usage,"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameters."}]}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"patterns"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"themselves"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"traits"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats"]}],["http://typelevel.org/cats/api/cats/",""]]},{"t":"Space"},{"t":"Str","c":"package."}]}],[{"t":"Para","c":[{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"with,"},{"t":"SoftBreak"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"materializing"},{"t":"Space"},{"t":"Str","c":"instances,"},{"t":"SoftBreak"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"construction"}]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"instances,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"collection"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"relevant"},{"t":"Space"},{"t":"Str","c":"helper"},{"t":"Space"},{"t":"Str","c":"methods."}]}],[{"t":"Para","c":[{"t":"Str","c":"Default"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Str","c":"objects"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances"]}],["http://typelevel.org/cats/api/cats/instances/",""]]},{"t":"Space"},{"t":"Str","c":"package,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"organized"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class."}]}],[{"t":"Para","c":[{"t":"Str","c":"Many"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"syntax"}]},{"t":"SoftBreak"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax"]}],["http://typelevel.org/cats/api/cats/syntax/",""]]},{"t":"Space"},{"t":"Str","c":"package."}]}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"remaining"},{"t":"Space"},{"t":"Str","c":"chapters"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Part"},{"t":"Space"},{"t":"Str","c":"I"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"several"},{"t":"Space"},{"t":"Str","c":"broad"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"powerful"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes—"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"more."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"learn"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"functionality"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"provides,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"formal"},{"t":"Space"},{"t":"Str","c":"rules"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"follows,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats."},{"t":"SoftBreak"},{"t":"Str","c":"Many"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"While"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"harder"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"learn,"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"far"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"solving"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"problems"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code."}]},{"t":"Header","c":[1,["sec:monoids",[],[]],[{"t":"Str","c":"Monoids"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Semigroups"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"section"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"explore"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes,"},{"t":"Space"},{"t":"Strong","c":[{"t":"Str","c":"monoid"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Strong","c":[{"t":"Str","c":"semigroup"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"values."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Ints"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Strings"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Options"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"more."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"looking"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"few"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"principles"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"extract."}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Integer"},{"t":"Space"},{"t":"Str","c":"addition"}]}]},{"t":"Para","c":[{"t":"Str","c":"Addition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Ints"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"closed"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"meaning"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"adding"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Ints"]},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"produces"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n2 + 1\n// res0: Int = 3\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"identity"}]},{"t":"Space"},{"t":"Str","c":"element"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"0"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"property"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"a + 0 == 0 + a == a"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Code","c":[["",[],[]],"a"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n2 + 0\n// res1: Int = 2\n\n0 + 2\n// res2: Int = 2\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"properties"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"addition."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"instance,"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"matter"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"elements"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"result."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"property"},{"t":"Space"},{"t":"Str","c":"known"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"associativity"}]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n(1 + 2) + 3\n// res3: Int = 6\n\n1 + (2 + 3)\n// res4: Int = 6\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Integer"},{"t":"Space"},{"t":"Str","c":"multiplication"}]}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"properties"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"multiplication,"},{"t":"SoftBreak"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"1"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"0"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n1 * 3\n// res5: Int = 3\n\n3 * 1\n// res6: Int = 3\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Multiplication,"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"addition,"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"associative:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n(1 * 2) * 3\n// res7: Int = 6\n\n1 * (2 * 3)\n// res8: Int = 6\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"String"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"concatenation"}]}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Strings"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"string"},{"t":"Space"},{"t":"Str","c":"concatenation"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"operator:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n\"One\" ++ \"two\"\n// res9: String = \"Onetwo\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"empty"},{"t":"Space"},{"t":"Str","c":"string"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"identity:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n\"\" ++ \"Hello\"\n// res10: String = \"Hello\"\n\n\"Hello\" ++ \"\"\n// res11: String = \"Hello\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Once"},{"t":"Space"},{"t":"Str","c":"again,"},{"t":"Space"},{"t":"Str","c":"concatenation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"associative:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n(\"One\" ++ \"Two\") ++ \"Three\"\n// res12: String = \"OneTwoThree\"\n\n\"One\" ++ (\"Two\" ++ \"Three\")\n// res13: String = \"OneTwoThree\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"++"]},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"usual"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"+"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"suggest"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"sequences."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"sequence,"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"concatenation"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"operator"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"empty"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"identity."}]},{"t":"Header","c":[2,["definition-of-a-monoid",[],[]],[{"t":"Str","c":"Definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Monoid"}]]},{"t":"Para","c":[{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"addition"}]]},{"t":"Space"},{"t":"Str","c":"scenarios"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"SoftBreak"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"associative"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"element."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"surprise"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"learn"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid."},{"t":"SoftBreak"},{"t":"Str","c":"Formally,"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"is:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"(A, A) => A"]}]}],[{"t":"Plain","c":[{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"element"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"empty"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]}]}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"translates"},{"t":"Space"},{"t":"Str","c":"nicely"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simplified"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"Cats:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Monoid[A] {\n  def combine(x: A, y: A): A\n  def empty: A\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"providing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"empty"]},{"t":"Space"},{"t":"Str","c":"operations,"},{"t":"SoftBreak"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"formally"},{"t":"Space"},{"t":"Str","c":"obey"},{"t":"Space"},{"t":"Str","c":"several"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"laws"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"x"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"y"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"z"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"associative"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"empty"]},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"element:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef associativeLaw[A](x: A, y: A, z: A)\n      (implicit m: Monoid[A]): Boolean = {\n  m.combine(x, m.combine(y, z)) ==\n    m.combine(m.combine(x, y), z)\n}\n\ndef identityLaw[A](x: A)\n      (implicit m: Monoid[A]): Boolean = {\n  (m.combine(x, m.empty) == x) &&\n    (m.combine(m.empty, x) == x)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Integer"},{"t":"Space"},{"t":"Str","c":"subtraction,"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"subtraction"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"associative:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n(1 - 2) - 3\n// res14: Int = -4\n\n1 - (2 - 3)\n// res15: Int = 2\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"practice"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"laws"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"instances."},{"t":"SoftBreak"},{"t":"Str","c":"Unlawful"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"dangerous"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"SoftBreak"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"yield"},{"t":"Space"},{"t":"Str","c":"unpredictable"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"rest"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Str","c":"machinery."},{"t":"SoftBreak"},{"t":"Str","c":"Most"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"rely"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"assume"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"authors"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"they’re"},{"t":"Space"},{"t":"Str","c":"doing."}]},{"t":"Header","c":[2,["definition-of-a-semigroup",[],[]],[{"t":"Str","c":"Definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Semigroup"}]]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"semigroup"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"part"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid,"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"empty"]},{"t":"Space"},{"t":"Str","c":"part."},{"t":"SoftBreak"},{"t":"Str","c":"While"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"semigroups"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"monoids,"},{"t":"SoftBreak"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"cannot"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"empty"]},{"t":"Space"},{"t":"Str","c":"element."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"concatenation"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"integer"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"monoids."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"restrict"},{"t":"Space"},{"t":"Str","c":"ourselves"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"non-empty"},{"t":"Space"},{"t":"Str","c":"sequences"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"positive"},{"t":"Space"},{"t":"Str","c":"integers,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"longer"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sensible"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"empty"]},{"t":"Space"},{"t":"Str","c":"element."},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"NonEmptyList"]}],["http://typelevel.org/cats/api/cats/data/NonEmptyList.html",""]]},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"accurate"},{"t":"Space"},{"t":"Str","c":"(though"},{"t":"Space"},{"t":"Str","c":"still"},{"t":"Space"},{"t":"Str","c":"simplified)"},{"t":"SoftBreak"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"Monoid"]}],["http://typelevel.org/cats/api/cats/kernel/Monoid.html",""]]},{"t":"Space"},{"t":"Str","c":"is:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Semigroup[A] {\n  def combine(x: A, y: A): A\n}\n\ntrait Monoid[A] extends Semigroup[A] {\n  def empty: A\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"kind"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"inheritance"},{"t":"Space"},{"t":"Str","c":"often"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"discussing"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"modularity"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"re-use"},{"t":"Space"},{"t":"Str","c":"behaviour."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"free."},{"t":"SoftBreak"},{"t":"Str","c":"Similarly,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup[B]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"pass"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid[B]"]},{"t":"Space"},{"t":"Str","c":"instead."}]},{"t":"Header","c":[2,["exercise-the-truth-about-monoids",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Truth"},{"t":"Space"},{"t":"Str","c":"About"},{"t":"Space"},{"t":"Str","c":"Monoids"}]]},{"t":"Para","c":[{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"few"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"plenty"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"found."},{"t":"SoftBreak"},{"t":"Str","c":"Consider"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Boolean"]},{"t":"Str","c":"."},{"t":"Space"},{"t":"Str","c":"How"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"type?"},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"monoid,"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"empty"]},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"convince"},{"t":"Space"},{"t":"Str","c":"yourself"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"laws"},{"t":"Space"},{"t":"Str","c":"hold."},{"t":"SoftBreak"},{"t":"Str","c":"Use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"definitions"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"starting"},{"t":"Space"},{"t":"Str","c":"point:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Semigroup[A] {\n  def combine(x: A, y: A): A\n}\n\ntrait Monoid[A] extends Semigroup[A] {\n  def empty: A\n}\n\nobject Monoid {\n  def apply[A](implicit monoid: Monoid[A]) =\n    monoid\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:bda51e1e696455779037eebad8871e11",""]]}]},{"t":"Header","c":[2,["exercise-all-set-for-monoids",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"Set"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"Monoids"}]]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"semigroups"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"sets?"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:648eff360f9e4e24712d20d60c2b9d5c",""]]}]},{"t":"Header","c":[2,["monoids-in-cats",[],[]],[{"t":"Str","c":"Monoids"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"}]]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"are,"},{"t":"SoftBreak"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats."},{"t":"SoftBreak"},{"t":"Str","c":"Once"},{"t":"Space"},{"t":"Str","c":"again"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"main"},{"t":"Space"},{"t":"Str","c":"aspects"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation:"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"}]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"instances"}]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"interface"}]},{"t":"Str","c":"."}]},{"t":"Header","c":[3,["the-monoid-type-class",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Monoid"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Class"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.kernel.Monoid"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"aliased"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Monoid"]}],["http://typelevel.org/cats/api/cats/kernel/Monoid.html",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.kernel.Semigroup"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"aliased"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Semigroup"]}],["http://typelevel.org/cats/api/cats/kernel/Semigroup.html",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"normally"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats"]}],["http://typelevel.org/cats/api/cats/",""]]},{"t":"Space"},{"t":"Str","c":"package:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\nimport cats.Semigroup\n\\end{lstlisting}"]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{InfoCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"Kernel?"}]}]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"Kernel"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subproject"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"SoftBreak"},{"t":"Str","c":"providing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"small"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"typeclasses"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"libraries"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"require"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"full"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"toolbox."},{"t":"SoftBreak"},{"t":"Str","c":"While"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"core"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"technically"},{"t":"SoftBreak"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.kernel"]}],["http://typelevel.org/cats/api/cats/kernel/",""]]},{"t":"Space"},{"t":"Str","c":"package,"},{"t":"SoftBreak"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"aliased"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats"]}],["http://typelevel.org/cats/api/cats/",""]]},{"t":"Space"},{"t":"Str","c":"package"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"rarely"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"aware"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"distinction."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"Kernel"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"covered"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"Eq"]}],["http://typelevel.org/cats/api/cats/kernel/Eq.html",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"Semigroup"]}],["http://typelevel.org/cats/api/cats/kernel/Semigroup.html",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"Monoid"]}],["http://typelevel.org/cats/api/cats/kernel/Monoid.html",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"cover"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"part"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"main"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"project"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"directly"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats"]}],["http://typelevel.org/cats/api/cats/",""]]},{"t":"Space"},{"t":"Str","c":"package."}]},{"t":"RawBlock","c":["latex","\\end{InfoCallout}"]}]]},{"t":"Header","c":[3,["sec:monoid-instances",[],[]],[{"t":"Str","c":"Monoid"},{"t":"Space"},{"t":"Str","c":"Instances"}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"follows"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"interface:"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"particular"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"implicits"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\nimport cats.instances.string._ // for Monoid\n\nMonoid[String].combine(\"Hi \", \"there\")\n// res0: String = \"Hi there\"\nMonoid[String].empty\n// res1: String = \"\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"Space"},{"t":"Str","c":"to:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nMonoid.apply[String].combine(\"Hi \", \"there\")\n// res2: String = \"Hi there\"\nMonoid.apply[String].empty\n// res3: String = \"\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"know,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"empty"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"equivalently"},{"t":"Space"},{"t":"Str","c":"write:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroup\n\nSemigroup[String].combine(\"Hi \", \"there\")\n// res4: String = \"Hi there\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"organised"},{"t":"Space"},{"t":"Str","c":"under"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.instances"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"described"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"1"}],["#importing-default-instances",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"pull"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances.int"]}],["http://typelevel.org/cats/api/cats/instances/package$$int$",""]]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\nimport cats.instances.int._ // for Monoid\n\nMonoid[Int].combine(32, 10)\n// res5: Int = 42\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Similarly,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"assemble"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid[Option[Int]]"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"SoftBreak"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances.int"]}],["http://typelevel.org/cats/api/cats/instances/package$$int$",""]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances.option"]}],["http://typelevel.org/cats/api/cats/instances/package$$option$",""]]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\nimport cats.instances.int._    // for Monoid\nimport cats.instances.option._ // for Monoid\n\nval a = Option(22)\n// a: Option[Int] = Some(22)\nval b = Option(20)\n// b: Option[Int] = Some(20)\n\nMonoid[Option[Int]].combine(a, b)\n// res6: Option[Int] = Some(42)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Refer"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"1"}],["#importing-default-instances",""]]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"comprehensive"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"imports."}]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"always,"},{"t":"Space"},{"t":"Str","c":"unless"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"reason"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"individual"},{"t":"Space"},{"t":"Str","c":"instances,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"everything."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats._\nimport cats.implicits._\n\\end{lstlisting}"]},{"t":"Header","c":[3,["sec:monoid-syntax",[],[]],[{"t":"Str","c":"Monoid"},{"t":"Space"},{"t":"Str","c":"Syntax"}]]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"|+|"]},{"t":"Space"},{"t":"Str","c":"operator."},{"t":"SoftBreak"},{"t":"Str","c":"Because"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"technically"},{"t":"Space"},{"t":"Str","c":"comes"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"access"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"importing"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.semigroup"]}],["http://typelevel.org/cats/api/cats/syntax/package$$semigroup$",""]]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.string._ // for Monoid\nimport cats.syntax.semigroup._ // for |+|\n\nval stringResult = \"Hi \" |+| \"there\" |+| Monoid[String].empty\n// stringResult: String = \"Hi there\"\n\nimport cats.instances.int._ // for Monoid\n\nval intResult = 1 |+| 2 |+| Monoid[Int].empty\n// intResult: Int = 3\n\\end{lstlisting}"]},{"t":"Header","c":[3,["exercise-adding-all-the-things",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Adding"},{"t":"Space"},{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Things"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"cutting"},{"t":"Space"},{"t":"Str","c":"edge"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"SuperAdder"},{"t":"Space"},{"t":"Str","c":"v3.5a-32"}]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"world’s"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"choice"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"adding"},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"numbers."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"main"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"signature"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"def add(items: List[Int]): Int"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"tragic"},{"t":"Space"},{"t":"Str","c":"accident"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"deleted!"},{"t":"Space"},{"t":"Str","c":"Rewrite"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"save"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"day!"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:cc0c8c893c8e21752b037be8fe8bbbb0",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Well"},{"t":"Space"},{"t":"Str","c":"done!"},{"t":"Space"},{"t":"Str","c":"SuperAdder’s"},{"t":"Space"},{"t":"Str","c":"market"},{"t":"Space"},{"t":"Str","c":"share"},{"t":"Space"},{"t":"Str","c":"continues"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"grow,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"demand"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"additional"},{"t":"Space"},{"t":"Str","c":"functionality."},{"t":"SoftBreak"},{"t":"Str","c":"People"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Option[Int]]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Change"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"add"]},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"possible."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"SuperAdder"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"base"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"highest"},{"t":"Space"},{"t":"Str","c":"quality,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"sure"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"duplication!"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:3efb815612b81951aed4cfd24a073955",""]]}]},{"t":"Para","c":[{"t":"Str","c":"SuperAdder"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"entering"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"POS"},{"t":"Space"},{"t":"Str","c":"(point-of-sale,"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"POS)"},{"t":"Space"},{"t":"Str","c":"market."},{"t":"SoftBreak"},{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Orders"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ncase class Order(totalCost: Double, quantity: Double)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"release"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"really"},{"t":"Space"},{"t":"Str","c":"soon"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"modifications"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"add"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Make"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"so!"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:eff9052449750eef7856d7df640d12fb",""]]}]},{"t":"Header","c":[2,["applications-of-monoids",[],[]],[{"t":"Str","c":"Applications"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Monoids"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"is—an"},{"t":"Space"},{"t":"Str","c":"abstraction"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"concept"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"adding"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"combining—but"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"useful?"},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"few"},{"t":"Space"},{"t":"Str","c":"big"},{"t":"Space"},{"t":"Str","c":"ideas"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"play"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"major"},{"t":"Space"},{"t":"Str","c":"role."},{"t":"SoftBreak"},{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"explored"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"detail"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"studies"},{"t":"Space"},{"t":"Str","c":"later"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"book."}]},{"t":"Header","c":[3,["big-data",[],[]],[{"t":"Str","c":"Big"},{"t":"Space"},{"t":"Str","c":"Data"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"big"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"applications"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"Spark"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Hadoop"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"distribute"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"analysis"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"machines,"},{"t":"SoftBreak"},{"t":"Str","c":"giving"},{"t":"Space"},{"t":"Str","c":"fault"},{"t":"Space"},{"t":"Str","c":"tolerance"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"scalability."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"portion"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"result."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"vast"},{"t":"Space"},{"t":"Str","c":"majority"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"cases"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"viewed"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid."}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"calculate"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"total"},{"t":"Space"},{"t":"Str","c":"visitors"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"web"},{"t":"Space"},{"t":"Str","c":"site"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"received,"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"calculating"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"portion"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"addition,"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"partial"},{"t":"Space"},{"t":"Str","c":"results."}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"unique"},{"t":"Space"},{"t":"Str","c":"visitors"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"website"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"received,"},{"t":"SoftBreak"},{"t":"Str","c":"that’s"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Set[User]"]},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"portion"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Set"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"union,"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"partial"},{"t":"Space"},{"t":"Str","c":"results."}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"calculate"},{"t":"Space"},{"t":"Str","c":"99%"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"95%"},{"t":"Space"},{"t":"Str","c":"response"},{"t":"Space"},{"t":"Str","c":"times"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"server"},{"t":"Space"},{"t":"Str","c":"logs,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"QTree"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid."}]},{"t":"Para","c":[{"t":"Str","c":"Hopefully"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"idea."},{"t":"Space"},{"t":"Str","c":"Almost"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"analysis"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"might"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"large"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"therefore"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"expressive"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"powerful"},{"t":"Space"},{"t":"Str","c":"analytics"},{"t":"Space"},{"t":"Str","c":"system"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"idea."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"exactly"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"Twitter’s"},{"t":"Space"},{"t":"Str","c":"Algebird"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Summingbird"},{"t":"Space"},{"t":"Str","c":"projects"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"done."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"explore"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"idea"},{"t":"Space"},{"t":"Str","c":"further"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"map-reduce"}],["#map-reduce",""]]},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study."}]},{"t":"Header","c":[3,["distributed-systems",[],[]],[{"t":"Str","c":"Distributed"},{"t":"Space"},{"t":"Str","c":"Systems"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"distributed"},{"t":"Space"},{"t":"Str","c":"system,"},{"t":"SoftBreak"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"views"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"data."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"receive"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"update"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"did"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"receive."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"reconcile"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"views,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"updates"},{"t":"Space"},{"t":"Str","c":"arrive."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"eventual"},{"t":"Space"},{"t":"Str","c":"consistency"}]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"particular"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"support"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"reconciliation."},{"t":"SoftBreak"},{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"commutative"},{"t":"Space"},{"t":"Str","c":"replicated"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"(CRDTs)."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"key"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"ability"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"merge"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"instances,"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"captures"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"information"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"instances."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"relies"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"having"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"instance."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"explore"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"idea"},{"t":"Space"},{"t":"Str","c":"further"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"CRDT"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study."}]},{"t":"Header","c":[3,["monoids-in-the-small",[],[]],[{"t":"Str","c":"Monoids"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Small"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"cases"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"inform"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"entire"},{"t":"Space"},{"t":"Str","c":"system"},{"t":"Space"},{"t":"Str","c":"architecture."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"cases"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"having"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"easier"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"small"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"fragment."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"lots"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"studies"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book."}]},{"t":"Header","c":[2,["summary-1",[],[]],[{"t":"Str","c":"Summary"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"hit"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"big"},{"t":"Space"},{"t":"Str","c":"milestone"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter—we"},{"t":"Space"},{"t":"Str","c":"covered"},{"t":"SoftBreak"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"fancy"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"names:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"combination"},{"t":"Space"},{"t":"Str","c":"operation;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"adding"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"zero"}]]},{"t":"Space"},{"t":"Str","c":"element."}]}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroups"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoids"]},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"importing"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"things:"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"themselves,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"care"},{"t":"Space"},{"t":"Str","c":"about,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"semigroup"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"give"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"|+|"]},{"t":"Space"},{"t":"Str","c":"operator:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\nimport cats.instances.string._ // for Monoid\nimport cats.syntax.semigroup._ // for |+|\n\n\"Scala\" |+| \" with \" |+| \"Cats\"\n// res0: String = \"Scala with Cats\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"adding"},{"t":"Space"},{"t":"Str","c":"anything"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.int._    // for Monoid\nimport cats.instances.option._ // for Monoid\n\nOption(1) |+| Option(2)\n// res1: Option[Int] = Some(3)\n\nimport cats.instances.map._ // for Monoid\n\nval map1 = Map(\"a\" -> 1, \"b\" -> 2)\nval map2 = Map(\"b\" -> 3, \"d\" -> 4)\n\nmap1 |+| map2\n// res2: Map[String, Int] = Map(\"b\" -> 5, \"d\" -> 4, \"a\" -> 1)\n\nimport cats.instances.tuple._  // for Monoid\n\n\nval tuple1 = (\"hello\", 123)\nval tuple2 = (\"world\", 321)\n\ntuple1 |+| tuple2\n// res3: (String, Int) = (\"helloworld\", 444)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef addAll[A](values: List[A])\n      (implicit monoid: Monoid[A]): A =\n  values.foldRight(monoid.empty)(_ |+| _)\n\naddAll(List(1, 2, 3))\n// res4: Int = 6\naddAll(List(None, Some(1), Some(2)))\n// res5: Option[Int] = Some(3)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Monoids"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"great"},{"t":"Space"},{"t":"Str","c":"gateway"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Cats."},{"t":"SoftBreak"},{"t":"Str","c":"They’re"},{"t":"Space"},{"t":"Str","c":"easy"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"understand"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"they’re"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"tip"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"iceberg"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"abstractions"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"enables"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"next"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"functors"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"personification"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"beloved"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"That’s"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"fun"},{"t":"Space"},{"t":"Str","c":"really"},{"t":"Space"},{"t":"Str","c":"begins!"}]},{"t":"Header","c":[1,["functors",[],[]],[{"t":"Str","c":"Functors"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"investigate"},{"t":"Space"},{"t":"Strong","c":[{"t":"Str","c":"functors"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"abstraction"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"sequences"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"within"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"SoftBreak"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"thousand"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"possibilities."},{"t":"SoftBreak"},{"t":"Str","c":"Functors"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Str","c":"aren’t"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"useful,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"special"},{"t":"Space"},{"t":"Str","c":"cases"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"functors,"},{"t":"SoftBreak"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Strong","c":[{"t":"Str","c":"monads"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Strong","c":[{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"functors"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"commonly"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"abstractions"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats."}]},{"t":"Header","c":[2,["sec:functors:examples",[],[]],[{"t":"Str","c":"Examples"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Functors"}]]},{"t":"Para","c":[{"t":"Str","c":"Informally,"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"anything"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"probably"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"lots"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"this:"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"name"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"few."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"typically"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"encounter"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"iterating"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"understand"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"way."},{"t":"SoftBreak"},{"t":"Str","c":"Rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"traversing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"list,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"SoftBreak"},{"t":"Str","c":"transforming"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"go."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"specify"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"apply,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"ensures"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"applied"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"item."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"change"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"SoftBreak"},{"t":"Str","c":"(the"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"elements"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"order)"},{"t":"SoftBreak"},{"t":"Str","c":"remains"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nList(1, 2, 3).map(n => n + 1)\n// res0: List[Int] = List(2, 3, 4)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Similarly,"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"contents"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"leave"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"unchanged."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"principle"},{"t":"Space"},{"t":"Str","c":"applies"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Left"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Right"]},{"t":"Space"},{"t":"Str","c":"contexts."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"notion"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"transformation,"},{"t":"SoftBreak"},{"t":"Str","c":"along"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"signatures"},{"t":"SoftBreak"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"1"},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"connects"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"SoftBreak"},{"t":"Str","c":"across"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:functors:list-option-either-type-chart",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"1:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart:"},{"t":"Space"},{"t":"Str","c":"mapping"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"List,"},{"t":"Space"},{"t":"Str","c":"Option,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Either"}],["src/pages/functors/list-option-either-map.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"Because"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"leaves"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"unchanged,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"repeatedly"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"multiple"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"contents"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"initial"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"structure:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nList(1, 2, 3).\n  map(n => n + 1).\n  map(n => n * 2).\n  map(n => s\"${n}!\")\n// res1: List[String] = List(\"4!\", \"6!\", \"8!\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"iteration"},{"t":"Space"},{"t":"Str","c":"pattern,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"ignoring"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"complication"},{"t":"SoftBreak"},{"t":"Str","c":"dictated"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relevant"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":"—the"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"present;"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":"—there"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error;"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":"—there"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"zero"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"values."}]}]]},{"t":"Header","c":[2,["sec:functors:more-examples",[],[]],[{"t":"Str","c":"More"},{"t":"Space"},{"t":"Str","c":"Examples"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Functors"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"SoftBreak"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"eagerly."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"idea"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"this."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"investigate"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"ways."}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Futures"}]}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"sequences"},{"t":"Space"},{"t":"Str","c":"asynchronous"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"queueing"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"applying"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"predecessors"},{"t":"Space"},{"t":"Str","c":"complete."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"signature"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"SoftBreak"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"2"},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"shape"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"signatures"},{"t":"Space"},{"t":"Str","c":"above."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"different."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:functors:future-type-chart",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"2:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart:"},{"t":"Space"},{"t":"Str","c":"mapping"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Future"}],["src/pages/functors/future-map.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"guarantees"},{"t":"SoftBreak"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"internal"},{"t":"Space"},{"t":"Str","c":"state."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"wrapped"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"SoftBreak"},{"t":"Str","c":"ongoing,"},{"t":"Space"},{"t":"Str","c":"complete,"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"rejected."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"complete,"},{"t":"SoftBreak"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"mapping"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"immediately."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"not,"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"underlying"},{"t":"Space"},{"t":"Str","c":"thread"},{"t":"Space"},{"t":"Str","c":"pool"},{"t":"Space"},{"t":"Str","c":"queues"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"comes"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"later."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"when"}]},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"called,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"order"}]},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"in."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"way,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"SoftBreak"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.concurrent.{Future, Await}\nimport scala.concurrent.ExecutionContext.Implicits.global\nimport scala.concurrent.duration._\n\nval future: Future[String] =\n  Future(123).\n    map(n => n + 1).\n    map(n => n * 2).\n    map(n => s\"${n}!\")\n\nAwait.result(future, 1.second)\n// res2: String = \"248!\"\n\\end{lstlisting}"]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{InfoCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Futures"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Referential"},{"t":"Space"},{"t":"Str","c":"Transparency"}]}]},{"t":"Para","c":[{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"Scala’s"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"Space"},{"t":"Str","c":"aren’t"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"great"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"pure"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"aren’t"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"referentially"},{"t":"Space"},{"t":"Str","c":"transparent"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"computes"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"caches"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"there’s"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"tweak"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"behaviour."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"unpredictable"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"wrap"},{"t":"Space"},{"t":"Str","c":"side-effecting"},{"t":"Space"},{"t":"Str","c":"computations."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.util.Random\n\nval future1 = {\n  // Initialize Random with a fixed seed:\n  val r = new Random(0L)\n\n  // nextInt has the side-effect of moving to\n  // the next random number in the sequence:\n  val x = Future(r.nextInt)\n\n  for {\n    a <- x\n    b <- x\n  } yield (a, b)\n}\n\nval future2 = {\n  val r = new Random(0L)\n\n  for {\n    a <- Future(r.nextInt)\n    b <- Future(r.nextInt)\n  } yield (a, b)\n}\n\nval result1 = Await.result(future1, 1.second)\n// result1: (Int, Int) = (-1155484576, -1155484576)\nval result2 = Await.result(future2, 1.second)\n// result2: (Int, Int) = (-1155484576, -723955400)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Ideally"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"result1"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"result2"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"contain"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"value."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"future1"]},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"nextInt"]},{"t":"Space"},{"t":"Str","c":"once"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"future2"]},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"twice."},{"t":"SoftBreak"},{"t":"Str","c":"Because"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"nextInt"]},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"case."}]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"kind"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"discrepancy"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"hard"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"reason"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"SoftBreak"},{"t":"Str","c":"programs"},{"t":"Space"},{"t":"Str","c":"involving"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"side-effects."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"problematic"},{"t":"Space"},{"t":"Str","c":"aspects"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future's"]},{"t":"Space"},{"t":"Str","c":"behaviour,"},{"t":"SoftBreak"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"starts"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"immediately"},{"t":"SoftBreak"},{"t":"Str","c":"rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"allowing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"dictate"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"run."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"information"},{"t":"SoftBreak"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"excellent"},{"t":"Space"},{"t":"Str","c":"Reddit"},{"t":"Space"},{"t":"Str","c":"answer"}],["https://www.reddit.com/r/scala/comments/3zofjl/why_is_future_totally_unusable/",""]]},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"Rob"},{"t":"Space"},{"t":"Str","c":"Norris."}]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"Effect"},{"t":"SoftBreak"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"IO"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"solves"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"problems."}]},{"t":"RawBlock","c":["latex","\\end{InfoCallout}"]}]]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"isn’t"},{"t":"Space"},{"t":"Str","c":"referentially"},{"t":"Space"},{"t":"Str","c":"transparent,"},{"t":"SoftBreak"},{"t":"Str","c":"perhaps"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"data-type"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is."},{"t":"SoftBreak"},{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"recognise"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"one…"}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Functions"},{"t":"Space"},{"t":"Str","c":"(?!)"}]}]},{"t":"Para","c":[{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"turns"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"argument"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"functors."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"tweak"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"little."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters:"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"coerce"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"shape"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"SoftBreak"},{"t":"Str","c":"fix"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"let"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"vary:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"X => A"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"supply"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"X => B"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"X => A"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MyFunc[A]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"3"},{"t":"Str","c":":"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MyFunc[A]"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"supply"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MyFunc[B]"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Image","c":[["fig:functors:function-type-chart",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"3:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart:"},{"t":"Space"},{"t":"Str","c":"mapping"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Function1"}],["src/pages/functors/function-map.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"words,"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"mapping"}]]},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Function1"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"composition:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.function._ // for Functor\nimport cats.syntax.functor._     // for map\n\nval func1: Int => Double =\n  (x: Int) => x.toDouble\n\nval func2: Double => Double =\n  (y: Double) => y * 2\n\n(func1 map func2)(1)     // composition using map\n// res3: Double = 2.0     // composition using map\n(func1 andThen func2)(1) // composition using andThen\n// res4: Double = 2.0 // composition using andThen\nfunc2(func1(1))          // composition written out by hand\n// res5: Double = 2.0\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"How"},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"relate"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"operations?"},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"it,"},{"t":"SoftBreak"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"composition"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"is"}]},{"t":"Space"},{"t":"Str","c":"sequencing."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"performs"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"append"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"chain."},{"t":"SoftBreak"},{"t":"Str","c":"Calling"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"actually"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"run"}]},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"operations,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"pass"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"argument"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"SoftBreak"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"sequence."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"lazily"},{"t":"Space"},{"t":"Str","c":"queueing"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"SoftBreak"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval func =\n  ((x: Int) => x.toDouble).\n    map(x => x + 1).\n    map(x => x * 2).\n    map(x => s\"${x}!\")\n\nfunc(123)\n// res6: String = \"248.0!\"\n\\end{lstlisting}"]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{WarningCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Partial"},{"t":"Space"},{"t":"Str","c":"Unification"}]}]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"work,"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"versions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"2.13,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"option"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"build.sbt"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nscalacOptions += \"-Ypartial-unification\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"otherwise"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"error:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfunc1.map(func2)\n// <console>: error: value map is not a member of Int => Double\n//        func1.map(func2)\n                ^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"why"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"happens"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"detail"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"3.7"},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\end{WarningCallout}"]}]]},{"t":"Header","c":[2,["definition-of-a-functor",[],[]],[{"t":"Str","c":"Definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Functor"}]]},{"t":"Para","c":[{"t":"Str","c":"Every"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"looked"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"far"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functor:"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"encapsulates"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"computations."},{"t":"SoftBreak"},{"t":"Str","c":"Formally,"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"(A => B) => F[B]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"chart"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"SoftBreak"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"4"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:functors:functor-type-chart",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"4:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart:"},{"t":"Space"},{"t":"Str","c":"generalised"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"map"}],["src/pages/functors/generic-map.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"encodes"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class,"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Functor"]}],["http://typelevel.org/cats/api/cats/Functor.html",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"looks"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"little"},{"t":"Space"},{"t":"Str","c":"different."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"initial"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"SoftBreak"},{"t":"Str","c":"alongside"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"transformation"},{"t":"Space"},{"t":"Str","c":"function."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simplified"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\npackage cats\n\n\ntrait Functor[F[_]] {\n  def map[A, B](fa: F[A])(f: A => B): F[B]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"haven’t"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[_]"]},{"t":"Space"},{"t":"Str","c":"before,"},{"t":"SoftBreak"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"take"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"brief"},{"t":"Space"},{"t":"Str","c":"detour"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"discuss"},{"t":"SoftBreak"},{"t":"Emph","c":[{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"higher"},{"t":"Space"},{"t":"Str","c":"kinded"},{"t":"Space"},{"t":"Str","c":"types"}]},{"t":"Str","c":"."}]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{WarningCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Functor"},{"t":"Space"},{"t":"Str","c":"Laws"}]}]},{"t":"Para","c":[{"t":"Str","c":"Functors"},{"t":"Space"},{"t":"Str","c":"guarantee"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"SoftBreak"},{"t":"Str","c":"whether"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"small"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"one,"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"larger"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"mapping"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"laws"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"hold:"}]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Identity"}]},{"t":"Str","c":":"},{"t":"Space"},{"t":"Str","c":"calling"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"doing"},{"t":"Space"},{"t":"Str","c":"nothing:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfa.map(a => a) == fa\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Composition"}]},{"t":"Str","c":":"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"mapping"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"f"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"g"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"mapping"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"f"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"mapping"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"g"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfa.map(g(f(_))) == fa.map(f).map(g)\n\\end{lstlisting}"]},{"t":"RawBlock","c":["latex","\\end{WarningCallout}"]}]]},{"t":"Header","c":[2,["aside-higher-kinds-and-type-constructors",[],[]],[{"t":"Str","c":"Aside:"},{"t":"Space"},{"t":"Str","c":"Higher"},{"t":"Space"},{"t":"Str","c":"Kinds"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Constructors"}]]},{"t":"Para","c":[{"t":"Str","c":"Kinds"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"types."},{"t":"SoftBreak"},{"t":"Str","c":"They"},{"t":"Space"},{"t":"Str","c":"describe"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"holes"}]]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"distinguish"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"regular"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"holes"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors"}]]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"SoftBreak"},{"t":"Str","c":"holes"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"fill"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"types."}]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"hole."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"fill"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"hole"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"specifying"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"regular"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Int]"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[A]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"trick"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"confuse"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"types."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[A]"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nList    // type constructor, takes one parameter\nList[A] // type, produced by applying a type parameter\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"There’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"close"},{"t":"Space"},{"t":"Str","c":"analogy"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"values."},{"t":"SoftBreak"},{"t":"Str","c":"Functions"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"constructors"}]]},{"t":"Str","c":"—they"},{"t":"SoftBreak"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"supply"},{"t":"Space"},{"t":"Str","c":"parameters:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nmath.abs    // function, takes one parameter\nmath.abs(x) // value, produced by applying a value parameter\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"declare"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"underscores."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"specifies"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"holes"}]]},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Str","c":"has."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"refer"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"name."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// Declare F using underscores:\ndef myMethod[F[_]] = {\n\n  // Reference F without underscores:\n  val functor = Functor.apply[F]\n\n  // ...\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"analogous"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"specifying"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"types."},{"t":"SoftBreak"},{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"declare"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"give"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"refer"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"name."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// Declare f specifying parameter types\ndef f(x: Int): Int = \n  // Reference x without type\n  x * 2\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Armed"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"knowledge"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"SoftBreak"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"single-parameter"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor,"},{"t":"SoftBreak"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MyFunc"]},{"t":"Str","c":"."}]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{InfoCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Language"},{"t":"Space"},{"t":"Str","c":"Feature"},{"t":"Space"},{"t":"Str","c":"Imports"}]}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"versions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"2.13"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"enable"}]]},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"higher"},{"t":"Space"},{"t":"Str","c":"kinded"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"language"},{"t":"Space"},{"t":"Str","c":"feature,"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"suppress"},{"t":"Space"},{"t":"Str","c":"warnings"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler,"},{"t":"SoftBreak"},{"t":"Str","c":"whenever"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"declare"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A[_]"]},{"t":"Space"},{"t":"Str","c":"syntax."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"language"},{"t":"Space"},{"t":"Str","c":"import"}]]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"above:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.language.higherKinds\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"adding"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"scalacOptions"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"build.sbt"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nscalacOptions += \"-language:higherKinds\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"practice"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"scalacOptions"]},{"t":"Space"},{"t":"Str","c":"flag"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"simpler"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"options."}]},{"t":"RawBlock","c":["latex","\\end{InfoCallout}"]}]]},{"t":"Header","c":[2,["functors-in-cats",[],[]],[{"t":"Str","c":"Functors"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"examine"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"aspects"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"did"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"monoids:"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"}]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"instances"}]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"syntax"}]},{"t":"Str","c":"."}]},{"t":"Header","c":[3,["the-functor-type-class-and-instances",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Functor"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Class"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Instances"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Functor"]}],["http://typelevel.org/cats/api/cats/Functor.html",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"obtain"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor.apply"]},{"t":"SoftBreak"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object."},{"t":"SoftBreak"},{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"usual,"},{"t":"Space"},{"t":"Str","c":"default"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"arranged"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances"]}],["http://typelevel.org/cats/api/cats/instances/",""]]},{"t":"Space"},{"t":"Str","c":"package:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Functor\nimport cats.instances.list._   // for Functor\nimport cats.instances.option._ // for Functor\n\nval list1 = List(1, 2, 3)\n// list1: List[Int] = List(1, 2, 3)\nval list2 = Functor[List].map(list1)(_ * 2)\n// list2: List[Int] = List(2, 4, 6)\n\nval option1 = Option(123)\n// option1: Option[Int] = Some(123)\nval option2 = Functor[Option].map(option1)(_.toString)\n// option2: Option[String] = Some(\"123\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"lift"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"converts"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"operates"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A] => F[B]"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval func = (x: Int) => x + 1\n// func: Int => Int = <function1>\n\nval liftedFunc = Functor[Option].lift(func)\n// liftedFunc: Option[Int] => Option[Int] = cats.Functor$$Lambda$11546/665425203@13439aca\n\nliftedFunc(Option(1))\n// res1: Option[Int] = Some(2)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"as"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"likely"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"replaces"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"given"},{"t":"Space"},{"t":"Str","c":"value."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nFunctor[List].as(list1, \"As\")\n// res2: List[String] = List(\"As\", \"As\", \"As\")\n\\end{lstlisting}"]},{"t":"Header","c":[3,["functor-syntax",[],[]],[{"t":"Str","c":"Functor"},{"t":"Space"},{"t":"Str","c":"Syntax"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"main"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"difficult"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"demonstrate"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Options"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Str","c":"built-in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"prefer"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"built-in"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"examples."}]},{"t":"Para","c":[{"t":"Str","c":"First"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"mapping"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"functions."},{"t":"SoftBreak"},{"t":"Str","c":"Scala’s"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Function1"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"(it’s"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"andThen"]},{"t":"Space"},{"t":"Str","c":"instead)"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"naming"},{"t":"Space"},{"t":"Str","c":"conflicts:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.function._ // for Functor\nimport cats.syntax.functor._     // for map\n\nval func1 = (a: Int) => a + 1\nval func2 = (a: Int) => a * 2\nval func3 = (a: Int) => s\"${a}!\"\nval func4 = func1.map(func2).map(func3)\n\nfunc4(123)\n// res3: String = \"248!\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"example."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"particular"},{"t":"Space"},{"t":"Str","c":"concrete"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"applies"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"equation"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"SoftBreak"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"matter"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"in:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef doMath[F[_]](start: F[Int])\n    (implicit functor: Functor[F]): F[Int] =\n  start.map(n => n + 1 * 2)\n\nimport cats.instances.option._ // for Functor\nimport cats.instances.list._   // for Functor\n\ndoMath(Option(20))\n// res4: Option[Int] = Some(22)\ndoMath(List(1, 2, 3))\n// res5: List[Int] = List(3, 4, 5)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"illustrate"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"works,"},{"t":"SoftBreak"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"take"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.syntax.functor"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simplified"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit class FunctorOps[F[_], A](src: F[A]) {\n  def map[B](func: A => B)\n      (implicit functor: Functor[F]): F[B] =\n    functor.map(src)(func)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"insert"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"wherever"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"built-in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"available:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfoo.map(value => value + 1)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Assuming"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foo"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"built-in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"detects"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"potential"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"SoftBreak"},{"t":"Str","c":"wraps"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"expression"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"FunctorOps"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"fix"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nnew FunctorOps(foo).map(value => value + 1)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"FunctorOps"]},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"SoftBreak"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"compile"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"error:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class Box[A](value: A)\n\nval box = Box[Int](123)\n\nbox.map(value => value + 1)\n// error: value map is not a member of repl.Session.App0.Box[Int]\n// box.map(value => value + 1)\n// ^^^^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"as"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"available"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"syntax."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nList(1, 2, 3).as(\"As\")\n// res7: List[String] = List(\"As\", \"As\", \"As\")\n\\end{lstlisting}"]},{"t":"Header","c":[3,["instances-for-custom-types",[],[]],[{"t":"Str","c":"Instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"Custom"},{"t":"Space"},{"t":"Str","c":"Types"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"map"},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"though"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"thing"},{"t":"Space"},{"t":"Str","c":"already"},{"t":"Space"},{"t":"Str","c":"exists"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances"]}],["http://typelevel.org/cats/api/cats/instances/",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"trivial—we"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option's"]},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val optionFunctor: Functor[Option] =\n  new Functor[Option] {\n    def map[A, B](value: Option[A])(func: A => B): Option[B] =\n      value.map(func)\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Sometimes"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"inject"},{"t":"Space"},{"t":"Str","c":"dependencies"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"instances."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"had"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"custom"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"SoftBreak"},{"t":"Str","c":"(another"},{"t":"Space"},{"t":"Str","c":"hypothetical"},{"t":"Space"},{"t":"Str","c":"example—Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.instances.future"]},{"t":"Str","c":")"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"account"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext"]},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"future.map"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"extra"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"functor.map"]},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"account"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"dependency"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instance:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.concurrent.{Future, ExecutionContext}\n\nimplicit def futureFunctor\n    (implicit ec: ExecutionContext): Functor[Future] =\n  new Functor[Future] {\n    def map[A, B](value: Future[A])(func: A => B): Future[B] =\n      value.map(func)\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Whenever"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"summon"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"directly"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor.apply"]},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"indirectly"},{"t":"Space"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"locate"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"futureFunctor"]},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"resolution"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"recursively"},{"t":"Space"},{"t":"Str","c":"search"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext"]},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"site."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"expansion"},{"t":"Space"},{"t":"Str","c":"might"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"like:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// We write this:\nFunctor[Future]\n\n// The compiler expands to this first:\nFunctor[Future](futureFunctor)\n\n// And then to this:\nFunctor[Future](futureFunctor(executionContext))\n\\end{lstlisting}"]},{"t":"Header","c":[3,["exercise-branching-out-with-functors",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Branching"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Functors"}]]},{"t":"Para","c":[{"t":"Str","c":"Write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"tree"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"Verify"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"expected"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Branch"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Leaf"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsealed trait Tree[+A]\n\nfinal case class Branch[A](left: Tree[A], right: Tree[A])\n  extends Tree[A]\n\nfinal case class Leaf[A](value: A) extends Tree[A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:af4f4b8a97c65937efb59464d783ef20",""]]}]},{"t":"Para","c":[{"t":"Str","c":"##"},{"t":"Space"},{"t":"Str","c":"Contravariant"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Invariant"},{"t":"Space"},{"t":"Str","c":"Functors"},{"t":"Space"},{"t":"Str","c":"{#contravariant-invariant}"}]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"seen,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor's"]},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"SoftBreak"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"appending"}]]},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"transformation"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"chain."},{"t":"SoftBreak"},{"t":"Str","c":"We’re"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"going"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes,"},{"t":"SoftBreak"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"representing"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"prepending"}]},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"chain,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"representing"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"bidirectional"}]},{"t":"SoftBreak"},{"t":"Str","c":"chain"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"operations."},{"t":"Space"},{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"contravariant"}]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"invariant"},{"t":"Space"},{"t":"Str","c":"functors"}]},{"t":"Space"},{"t":"Str","c":"respectively."}]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{InfoCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"Optional!"}]}]},{"t":"Para","c":[{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"contravariant"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"invariant"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"understand"},{"t":"Space"},{"t":"Str","c":"monads,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"important"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"focus"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"next"},{"t":"Space"},{"t":"Str","c":"chapter."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"contravariant"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"invariant"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"come"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"handy"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"SoftBreak"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"discussion"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"6"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"move"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"now,"},{"t":"SoftBreak"},{"t":"Str","c":"feel"},{"t":"Space"},{"t":"Str","c":"free"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"skip"},{"t":"Space"},{"t":"Str","c":"straight"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"4"},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Come"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"read"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"6"},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\end{InfoCallout}"]}]]},{"t":"Header","c":[3,["contravariant",[],[]],[{"t":"Str","c":"Contravariant"},{"t":"Space"},{"t":"Str","c":"Functors"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"contramap"}]},{"t":"Space"},{"t":"Str","c":"Method"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"contravariant"},{"t":"Space"},{"t":"Str","c":"functor"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"prepending"}]]},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"chain."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"signature"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"5"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:functors:contramap-type-chart",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"5:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart:"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"contramap"},{"t":"Space"},{"t":"Str","c":"method"}],["src/pages/functors/generic-contramap.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"sense"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"transformations"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"feeding"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Option[B]"]},{"t":"Space"},{"t":"Str","c":"backwards"},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"discussed"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"1"},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Printable[A] {\n  def format(value: A): String\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable[A]"]},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"transformation"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Its"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"func"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B => A"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"creates"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable[B]"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Printable[A] {\n  def format(value: A): String\n\n  def contramap[B](func: B => A): Printable[B] =\n    ???\n}\n\ndef format[A](value: A)(implicit p: Printable[A]): String =\n  p.format(value)\n\\end{lstlisting}"]},{"t":"Header","c":[4,["exercise-showing-off-with-contramap",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Showing"},{"t":"Space"},{"t":"Str","c":"off"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Contramap"}]]},{"t":"Para","c":[{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"above."},{"t":"SoftBreak"},{"t":"Str","c":"Start"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"template"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"replace"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"???"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"body:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Printable[A] {\n  def format(value: A): String\n\n  def contramap[B](func: B => A): Printable[B] =\n    new Printable[B] {\n      def format(value: B): String =\n        ???\n    }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"stuck,"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types."},{"t":"SoftBreak"},{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"turn"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"available"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"combined?"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:eea3361dcc120b9751cd08d185a3ce01",""]]}]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"testing"},{"t":"Space"},{"t":"Str","c":"purposes,"},{"t":"SoftBreak"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Boolean"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val stringPrintable: Printable[String] =\n  new Printable[String] {\n    def format(value: String): String =\n      s\"'${value}'\"\n  }\n\nimplicit val booleanPrintable: Printable[Boolean] =\n  new Printable[Boolean] {\n    def format(value: Boolean): String =\n      if(value) \"yes\" else \"no\"\n  }\n\nformat(\"hello\")\n// res2: String = \"'hello'\"\nformat(true)\n// res3: String = \"yes\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Box"]},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"class."},{"t":"SoftBreak"},{"t":"Str","c":"You’ll"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit def"]},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"described"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"1.2.3"},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class Box[A](value: A)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"scratch"},{"t":"SoftBreak"},{"t":"Str","c":"("},{"t":"Code","c":[["",[],[]],"new Printable[Box]"]},{"t":"Space"},{"t":"Str","c":"etc…),"},{"t":"SoftBreak"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"SoftBreak"},{"t":"Str","c":"existing"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Your"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nformat(Box(\"hello world\"))\n// res4: String = \"'hello world'\"\nformat(Box(true))\n// res5: String = \"yes\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Box"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"format"]},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"compile:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nformat(Box(123))\n// error: could not find implicit value for parameter p: repl.Session.App1.Printable[repl.Session.App1.Box[Int]]\n//       def encode(value: B): String =\n//                 ^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:b05e80e1df95713a78cb966761a03752",""]]}]},{"t":"Header","c":[3,["sec:functors:invariant",[],[]],[{"t":"Str","c":"Invariant"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"imap"}]},{"t":"Space"},{"t":"Str","c":"method"}]]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Invariant"},{"t":"Space"},{"t":"Str","c":"functors"}]},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"informally"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"SoftBreak"},{"t":"Str","c":"combination"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"generates"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"SoftBreak"},{"t":"Str","c":"appending"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"chain,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Space"},{"t":"Str","c":"generates"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"SoftBreak"},{"t":"Str","c":"prepending"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"chain,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"Space"},{"t":"Str","c":"generates"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"via"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"pair"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"bidirectional"},{"t":"Space"},{"t":"Str","c":"transformations."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"intuitive"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"encoding"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"decoding"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type,"},{"t":"SoftBreak"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"Play"},{"t":"Space"},{"t":"Str","c":"JSON’s"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"Format"]}],["https://www.playframework.com/documentation/2.6.x/ScalaJsonCombinators#Format",""]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"scodec’s"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"Codec"]}],["http://scodec.org/guide/Core+Algebra.html#Codec",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codec"]},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"enhancing"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"support"},{"t":"Space"},{"t":"Str","c":"encoding"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"decoding"},{"t":"Space"},{"t":"Str","c":"to/from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Codec[A] {\n  def encode(value: A): String\n  def decode(value: String): A\n  def imap[B](dec: A => B, enc: B => A): Codec[B] = ???\n}\n\ndef encode[A](value: A)(implicit c: Codec[A]): String =\n  c.encode(value)\n\ndef decode[A](value: String)(implicit c: Codec[A]): A =\n  c.decode(value)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"chart"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"SoftBreak"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"6"},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codec[A]"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"pair"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B => A"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"creates"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codec[B]"]},{"t":"Str","c":":"}]},{"t":"Para","c":[{"t":"Image","c":[["fig:functors:imap-type-chart",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"6:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart:"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"imap"},{"t":"Space"},{"t":"Str","c":"method"}],["src/pages/functors/generic-imap.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"case,"},{"t":"Space"},{"t":"Str","c":"imagine"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"basic"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codec[String]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"whose"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"encode"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"decode"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"SoftBreak"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"passed:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val stringCodec: Codec[String] =\n  new Codec[String] {\n    def encode(value: String): String = value\n    def decode(value: String): String = value\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"construct"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codecs"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"off"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"stringCodec"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val intCodec: Codec[Int] =\n  stringCodec.imap(_.toInt, _.toString)\n\nimplicit val booleanCodec: Codec[Boolean] =\n  stringCodec.imap(_.toBoolean, _.toString)\n\\end{lstlisting}"]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{InfoCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Coping"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Failure"}]}]},{"t":"Para","c":[{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"decode"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codec"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"account"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"failures."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"sophisticated"},{"t":"Space"},{"t":"Str","c":"relationships"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"move"},{"t":"Space"},{"t":"Str","c":"beyond"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"lenses"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"optics"}]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Optics"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"beyond"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"Julien"},{"t":"Space"},{"t":"Str","c":"Truffaut’s"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Monocle"}],["http://julien-truffaut.github.io/Monocle/",""]]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"great"},{"t":"SoftBreak"},{"t":"Str","c":"starting"},{"t":"Space"},{"t":"Str","c":"point"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"further"},{"t":"Space"},{"t":"Str","c":"investigation."}]},{"t":"RawBlock","c":["latex","\\end{InfoCallout}"]}]]},{"t":"Header","c":[4,["transformative-thinking-with-imap",[],[]],[{"t":"Str","c":"Transformative"},{"t":"Space"},{"t":"Str","c":"Thinking"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"imap"}]}]]},{"t":"Para","c":[{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codec"]},{"t":"Space"},{"t":"Str","c":"above."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:e67d071c4124aae78bc1b394fc972d63",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Demonstrate"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"SoftBreak"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codec"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Double"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:83d89776f00a10e21798bb6ace22cde4",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codec"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Box"]},{"t":"Space"},{"t":"Str","c":"type:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class Box[A](value: A)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:e630df8ffd8731c552bcccd4fc205297",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Your"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nencode(123.4)\n// res11: String = \"123.4\"\ndecode[Double](\"123.4\")\n// res12: Double = 123.4\n\nencode(Box(123.4))\n// res13: String = \"123.4\"\ndecode[Box[Double]](\"123.4\")\n// res14: Box[Double] = Box(123.4)\n\\end{lstlisting}"]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{WarningCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"What’s"},{"t":"Space"},{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Names?"}]}]},{"t":"Para","c":[{"t":"Str","c":"What’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relationship"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"SoftBreak"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"contravariance"}]]},{"t":"Str","c":","},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"invariance"}]]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"covariance"}]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"kinds"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"functor?"}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"recall"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"1.6.1"},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"variance"},{"t":"Space"},{"t":"Str","c":"affects"},{"t":"Space"},{"t":"Str","c":"subtyping,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"essentially"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"ability"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"place"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"breaking"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code."}]},{"t":"Para","c":[{"t":"Str","c":"Subtyping"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"viewed"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"conversion."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Equivalently"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"say"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"exists"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B => A"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"covariant"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"captures"},{"t":"Space"},{"t":"Str","c":"exactly"},{"t":"Space"},{"t":"Str","c":"this."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"covariant"},{"t":"Space"},{"t":"Str","c":"functor,"},{"t":"SoftBreak"},{"t":"Str","c":"wherever"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[B]"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"conversion"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B => A"]},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"contravariant"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"captures"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"opposite"},{"t":"Space"},{"t":"Str","c":"case."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"contravariant"},{"t":"Space"},{"t":"Str","c":"functor,"},{"t":"SoftBreak"},{"t":"Str","c":"whenever"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"conversion"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B => A"]},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[B]"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"invariant"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"capture"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[B]"]},{"t":"SoftBreak"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"vice"},{"t":"Space"},{"t":"Str","c":"versa"},{"t":"Space"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B => A"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\end{WarningCallout}"]}]]},{"t":"Header","c":[2,["contravariant-and-invariant-in-cats",[],[]],[{"t":"Str","c":"Contravariant"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Invariant"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"contravariant"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"invariant"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats,"},{"t":"SoftBreak"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Contravariant"]}],["http://typelevel.org/cats/api/cats/Contravariant.html",""]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Invariant"]}],["http://typelevel.org/cats/api/cats/Invariant.html",""]]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simplified"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Contravariant[F[_]] {\n  def contramap[A, B](fa: F[A])(f: B => A): F[B]\n}\n\ntrait Invariant[F[_]] {\n  def imap[A, B](fa: F[A])(f: A => B)(g: B => A): F[B]\n}\n\\end{lstlisting}"]},{"t":"Header","c":[3,["contravariant-in-cats",[],[]],[{"t":"Str","c":"Contravariant"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"summon"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Contravariant"]},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Contravariant.apply"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"consume"},{"t":"Space"},{"t":"Str","c":"parameters,"},{"t":"SoftBreak"},{"t":"Str","c":"including"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Function1"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Contravariant\nimport cats.Show\nimport cats.instances.string._\n\nval showString = Show[String]\n\nval showSymbol = Contravariant[Show].\n  contramap(showString)((sym: Symbol) => s\"'${sym.name}\")\n\nshowSymbol.show(Symbol(\"dave\"))\n// res1: String = \"'dave\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"More"},{"t":"Space"},{"t":"Str","c":"conveniently,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.contravariant"]}],["http://typelevel.org/cats/api/cats/syntax/package$$contravariant$",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"method:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.contravariant._ // for contramap\n\nshowString\n  .contramap[Symbol](sym => s\"'${sym.name}\")\n  .show(Symbol(\"dave\"))\n// res2: String = \"'dave\"\n\\end{lstlisting}"]},{"t":"Header","c":[3,["invariant-in-cats",[],[]],[{"t":"Str","c":"Invariant"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"}]]},{"t":"Para","c":[{"t":"Str","c":"Among"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"types,"},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Invariant"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"little"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codec"]},{"t":"SoftBreak"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"introduced"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"3.5.6"},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"recall,"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"looks"},{"t":"Space"},{"t":"Str","c":"like:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\npackage cats\n\ntrait Monoid[A] {\n  def empty: A\n  def combine(x: A, y: A): A\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Imagine"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"Scala’s"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"Symbol"]}],["http://www.scala-lang.org/api/2.12.1/scala/Symbol.html",""]]},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Symbol"]},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"type:"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"semigroup"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"SoftBreak"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"empty"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"relies"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"empty"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"OrderedList","c":[[1,{"t":"Decimal"},{"t":"Period"}],[[{"t":"Plain","c":[{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Symbols"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"parameters;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Symbols"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Strings"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Strings"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid[String]"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Symbol"]},{"t":"Str","c":"."}]}]]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"passing"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String => Symbol"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Symbol => String"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"parameters."},{"t":"SoftBreak"},{"t":"Str","c":"Here’"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code,"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.syntax.invariant"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\nimport cats.instances.string._ // for Monoid\nimport cats.syntax.invariant._ // for imap\nimport cats.syntax.semigroup._ // for |+|\n\nimplicit val symbolMonoid: Monoid[Symbol] =\n  Monoid[String].imap(Symbol.apply)(_.name)\n\nMonoid[Symbol].empty\n// res3: Symbol = '\n\nSymbol(\"a\") |+| Symbol(\"few\") |+| Symbol(\"words\")\n// res4: Symbol = 'afewwords\n\\end{lstlisting}"]},{"t":"Header","c":[2,["sec:functors:partial-unification",[],[]],[{"t":"Str","c":"Aside:"},{"t":"Space"},{"t":"Str","c":"Partial"},{"t":"Space"},{"t":"Str","c":"Unification"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"3.2"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Function1"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Functor\nimport cats.instances.function._ // for Functor\nimport cats.syntax.functor._     // for map\n\nval func1 = (x: Int)    => x.toDouble\nval func2 = (y: Double) => y * 2\n\nval func3 = func1.map(func2)\n// func3: Int => Double = scala.Function1$$Lambda$6493/63932183@157213ca\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Function1"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"SoftBreak"},{"t":"Str","c":"(the"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"argument"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"type):"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Function1[-A, +B] {\n  def apply(arg: A): B\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"parameter:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Functor[F[_]] {\n  def map[A, B](fa: F[A])(func: A => B): F[B]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"fix"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Function1"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"kind"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"pass"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"options"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"choose"},{"t":"Space"},{"t":"Str","c":"from:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype F[A] = Int => A\ntype F[A] = A => Double\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"We"}]},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"former"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"choice."},{"t":"SoftBreak"},{"t":"Str","c":"However"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"understand"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"means."},{"t":"SoftBreak"},{"t":"Str","c":"Instead"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"relies"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"rule,"},{"t":"SoftBreak"},{"t":"Str","c":"implementing"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"partial"},{"t":"Space"},{"t":"Str","c":"unification"}]]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"partial"},{"t":"Space"},{"t":"Str","c":"unification"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"SoftBreak"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"fixing"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"left"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"right."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"fixes"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int => Double"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"looks"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int => ?"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype F[A] = Int => A\n\nval functor = Functor[F]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"left-to-right"},{"t":"Space"},{"t":"Str","c":"elimination"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"wide"},{"t":"Space"},{"t":"Str","c":"variety"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"scenarios,"},{"t":"SoftBreak"},{"t":"Str","c":"including"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functors"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"SoftBreak"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Function1"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval either: Either[String, Int] = Right(123)\n// either: Either[String, Int] = Right(123)\n\neither.map(_ + 1)\n// res0: Either[String, Int] = Right(124)\n\\end{lstlisting}"]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{WarningCallout}"]},{"t":"Para","c":[{"t":"Str","c":"Partial"},{"t":"Space"},{"t":"Str","c":"unification"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"default"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"2.13."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"earlier"},{"t":"Space"},{"t":"Str","c":"versions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"-Ypartial-unification"]},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"flag."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"sbt"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"flag"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"build.sbt"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nscalacOptions += \"-Ypartial-unification\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"rationale"},{"t":"Space"},{"t":"Str","c":"behind"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"change"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"discussed"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"SI-2712"}],["https://issues.scala-lang.org/browse/SI-2712",""]]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\end{WarningCallout}"]}]]},{"t":"Header","c":[3,["limitations-of-partial-unification",[],[]],[{"t":"Str","c":"Limitations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Partial"},{"t":"Space"},{"t":"Str","c":"Unification"}]]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"situations"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"SoftBreak"},{"t":"Str","c":"left-to-right"},{"t":"Space"},{"t":"Str","c":"elimination"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"choice."},{"t":"SoftBreak"},{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Or"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Scalactic"}],["http://scalactic.org",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"conventionally"},{"t":"Space"},{"t":"Str","c":"left-biased"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype PossibleResult = ActualResult Or Error\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Another"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Contravariant"]},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Function1"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"While"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"covariant"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Function1"]},{"t":"Space"},{"t":"Str","c":"implements"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"andThen"]},{"t":"Str","c":"-style"},{"t":"Space"},{"t":"Str","c":"left-to-right"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"composition,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Contravariant"]},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"implements"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"compose"]},{"t":"Str","c":"-style"},{"t":"SoftBreak"},{"t":"Str","c":"right-to-left"},{"t":"Space"},{"t":"Str","c":"composition."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"words,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"expressions"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"equivalent:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval func3a: Int => Double =\n  a => func2(func1(a))\n\nval func3b: Int => Double =\n  func2.compose(func1)\n\n// Hypothetical example. This won't actually compile:\nval func3c: Int => Double =\n  func2.contramap(func1)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"real,"},{"t":"Space"},{"t":"Str","c":"however,"},{"t":"SoftBreak"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"won’t"},{"t":"Space"},{"t":"Str","c":"compile:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.contravariant._ // for contramap\n\nval func3c = func2.contramap(func1)\n// error: value contramap is not a member of Double => Double\n// val func3c = func2.contramap(func1)\n//              ^^^^^^^^^^^^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"problem"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Contravariant"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Function1"]},{"t":"SoftBreak"},{"t":"Str","c":"fixes"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"leaves"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"varying,"},{"t":"SoftBreak"},{"t":"Str","c":"requiring"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"eliminate"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"left,"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"below"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"7"},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype F[A] = A => Double\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Image","c":[["fig:functors:function-contramap-type-chart",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"7:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart:"},{"t":"Space"},{"t":"Str","c":"contramapping"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Function1"}],["src/pages/functors/function-contramap.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"fails"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"left-to-right"},{"t":"Space"},{"t":"Str","c":"bias."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"prove"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"flips"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"Function1:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype <=[B, A] = A => B\n\ntype F[A] = Double <= A\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"re-type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"func2"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"<="]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"reset"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"required"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"elimination"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"desired:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval func2b: Double <= Double = func2\n\nval func3c = func2b.contramap(func1)\n// func3c: Int => Double = scala.Function1$$Lambda$6493/63932183@6d3804ec\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"difference"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"func2"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"func2b"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"SoftBreak"},{"t":"Str","c":"purely"},{"t":"Space"},{"t":"Str","c":"syntactic—both"},{"t":"Space"},{"t":"Str","c":"refer"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"aliases"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"otherwise"},{"t":"Space"},{"t":"Str","c":"completely"},{"t":"Space"},{"t":"Str","c":"compatible."},{"t":"SoftBreak"},{"t":"Str","c":"Incredibly,"},{"t":"Space"},{"t":"Str","c":"however,"},{"t":"SoftBreak"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"rephrasing"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"enough"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"give"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"hint"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"needs"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"solve"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"problem."}]},{"t":"Para","c":[{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"rare"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"SoftBreak"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"kind"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"right-to-left"},{"t":"Space"},{"t":"Str","c":"elimination."},{"t":"SoftBreak"},{"t":"Str","c":"Most"},{"t":"Space"},{"t":"Str","c":"multi-parameter"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"designed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"right-biased,"},{"t":"SoftBreak"},{"t":"Str","c":"requiring"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"left-to-right"},{"t":"Space"},{"t":"Str","c":"elimination"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"supported"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"SoftBreak"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"box."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"SoftBreak"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"quirk"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"elimination"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"ever"},{"t":"Space"},{"t":"Str","c":"come"},{"t":"Space"},{"t":"Str","c":"across"},{"t":"SoftBreak"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"odd"},{"t":"Space"},{"t":"Str","c":"scenario"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"above."}]},{"t":"Header","c":[2,["summary-2",[],[]],[{"t":"Str","c":"Summary"}]]},{"t":"Para","c":[{"t":"Str","c":"Functors"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"behaviours."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"covered"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"Regular"},{"t":"Space"},{"t":"Str","c":"covariant"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functors"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"SoftBreak"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"ability"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"context."},{"t":"SoftBreak"},{"t":"Str","c":"Successive"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"SoftBreak"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"sequence"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"accepting"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"predecessor"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter."}]}],[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Contravariant"]},{"t":"Space"},{"t":"Str","c":"functors,"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"SoftBreak"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"ability"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"prepend"}]]},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function-like"},{"t":"Space"},{"t":"Str","c":"context."},{"t":"SoftBreak"},{"t":"Str","c":"Successive"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"SoftBreak"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"opposite"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":"."}]}],[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Invariant"]},{"t":"Space"},{"t":"Str","c":"functors,"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"SoftBreak"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"bidirectional"},{"t":"Space"},{"t":"Str","c":"transformations."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Regular"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functors"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"far"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"rare"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"own."},{"t":"SoftBreak"},{"t":"Str","c":"Functors"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"foundational"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"block"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"several"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"interesting"},{"t":"Space"},{"t":"Str","c":"abstractions"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"time."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"chapters"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"abstractions:"},{"t":"SoftBreak"},{"t":"Emph","c":[{"t":"Str","c":"monads"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"functors"}]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Functors"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"collections"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"extremely"},{"t":"Space"},{"t":"Str","c":"important,"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"element"},{"t":"Space"},{"t":"Str","c":"independently"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"rest."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"parallelise"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"distribute"},{"t":"SoftBreak"},{"t":"Str","c":"transformations"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"large"},{"t":"Space"},{"t":"Str","c":"collections,"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"technique"},{"t":"Space"},{"t":"Str","c":"leveraged"},{"t":"Space"},{"t":"Str","c":"heavily"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"SoftBreak"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"map-reduce"}]]},{"t":"Space"},{"t":"Str","c":"frameworks"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Hadoop"}],["http://hadoop.apache.org",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"investigate"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"detail"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Map-reduce"}],["#map-reduce",""]]},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"Space"},{"t":"Str","c":"later"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"book."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Contravariant"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Invariant"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"less"},{"t":"Space"},{"t":"Str","c":"widely"},{"t":"Space"},{"t":"Str","c":"applicable"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"still"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"transformations."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"revisit"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"discuss"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"Semigroupal"]}],["#semigroupal",""]]},{"t":"SoftBreak"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"later"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"6"},{"t":"Str","c":"."}]},{"t":"Header","c":[1,["sec:monads",[],[]],[{"t":"Str","c":"Monads"}]]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Monads"}]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"abstractions"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala."},{"t":"SoftBreak"},{"t":"Str","c":"Many"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"programmers"},{"t":"Space"},{"t":"Str","c":"quickly"},{"t":"Space"},{"t":"Str","c":"become"},{"t":"Space"},{"t":"Str","c":"intuitively"},{"t":"Space"},{"t":"Str","c":"familiar"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"monads,"},{"t":"SoftBreak"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"name."}]},{"t":"Para","c":[{"t":"Str","c":"Informally,"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"anything"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"last"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"monads,"},{"t":"SoftBreak"},{"t":"Str","c":"including"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"special"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"support"},{"t":"Space"},{"t":"Str","c":"monads:"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehensions."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"despite"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"ubiquity"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"concept,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"lacks"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"concrete"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"encompass"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"things"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMapped"]}]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"benefits"},{"t":"Space"},{"t":"Str","c":"brought"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"Cats."}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"take"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"deep"},{"t":"Space"},{"t":"Str","c":"dive"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"monads."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"motivating"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"few"},{"t":"Space"},{"t":"Str","c":"examples."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"proceed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"formal"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats."},{"t":"SoftBreak"},{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"tour"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"interesting"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"seen,"},{"t":"SoftBreak"},{"t":"Str","c":"providing"},{"t":"Space"},{"t":"Str","c":"introductions"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"use."}]},{"t":"Header","c":[2,["what-is-a-monad",[],[]],[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Monad?"}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"question"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"been"},{"t":"Space"},{"t":"Str","c":"posed"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"thousand"},{"t":"Space"},{"t":"Str","c":"blog"},{"t":"Space"},{"t":"Str","c":"posts,"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"explanations"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"analogies"},{"t":"Space"},{"t":"Str","c":"involving"},{"t":"Space"},{"t":"Str","c":"concepts"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"diverse"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"SoftBreak"},{"t":"Str","c":"cats,"},{"t":"Space"},{"t":"Str","c":"Mexican"},{"t":"Space"},{"t":"Str","c":"food,"},{"t":"Space"},{"t":"Str","c":"space"},{"t":"Space"},{"t":"Str","c":"suits"},{"t":"Space"},{"t":"Str","c":"full"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"toxic"},{"t":"Space"},{"t":"Str","c":"waste,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"category"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"endofunctors"},{"t":"Space"},{"t":"Str","c":"(whatever"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"means)."},{"t":"SoftBreak"},{"t":"Str","c":"We’re"},{"t":"Space"},{"t":"Str","c":"going"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"solve"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"problem"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"explaining"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"once"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"stating"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"simply:"}]},{"t":"BlockQuote","c":[{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"mechanism"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"computations"}]},{"t":"Str","c":"."}]}]},{"t":"Para","c":[{"t":"Str","c":"That"},{"t":"Space"},{"t":"Str","c":"was"},{"t":"Space"},{"t":"Str","c":"easy!"},{"t":"Space"},{"t":"Str","c":"Problem"},{"t":"Space"},{"t":"Str","c":"solved,"},{"t":"Space"},{"t":"Str","c":"right?"},{"t":"SoftBreak"},{"t":"Str","c":"But"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"again,"},{"t":"Space"},{"t":"Str","c":"last"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"said"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"SoftBreak"},{"t":"Str","c":"were"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"control"},{"t":"Space"},{"t":"Str","c":"mechanism"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"exactly"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"thing."},{"t":"SoftBreak"},{"t":"Str","c":"Ok,"},{"t":"Space"},{"t":"Str","c":"maybe"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"discussion…"}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"3.1"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"said"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"ignoring"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"complication."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"limited"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"complication"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"occur"},{"t":"Space"},{"t":"Str","c":"once"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"beginning"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence."},{"t":"SoftBreak"},{"t":"Str","c":"They"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"account"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"further"},{"t":"Space"},{"t":"Str","c":"complications"},{"t":"SoftBreak"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence."}]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"come"},{"t":"Space"},{"t":"Str","c":"in."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"monad’s"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"specify"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"happens"},{"t":"Space"},{"t":"Str","c":"next,"},{"t":"SoftBreak"},{"t":"Str","c":"taking"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"account"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Str","c":"complication."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"takes"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Options"]},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"account."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"handles"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"Str","c":"."},{"t":"Space"},{"t":"Str","c":"And"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"on."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"case,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"passed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"specifies"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"application-specific"},{"t":"Space"},{"t":"Str","c":"part"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"itself"},{"t":"Space"},{"t":"Str","c":"takes"},{"t":"Space"},{"t":"Str","c":"care"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"complication"},{"t":"SoftBreak"},{"t":"Str","c":"allowing"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"again."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"ground"},{"t":"Space"},{"t":"Str","c":"things"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"looking"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"examples."}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Options"}]}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"values."},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"examples:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef parseInt(str: String): Option[Int] =\n  scala.util.Try(str.toInt).toOption\n\ndef divide(a: Int, b: Int): Option[Int] =\n  if(b == 0) None else Some(a / b)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"fail"}]]},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"returning"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ignore"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"operations:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef stringDivideBy(aStr: String, bStr: String): Option[Int] =\n  parseInt(aStr).flatMap { aNum =>\n    parseInt(bStr).flatMap { bNum =>\n      divide(aNum, bNum)\n    }\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"are:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"parseInt"]},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"passes"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"integer"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"aNum"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"second"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"parseInt"]},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"passes"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"bNum"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"divide"]},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"result."}]}]]},{"t":"Para","c":[{"t":"Str","c":"At"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"step,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"chooses"},{"t":"Space"},{"t":"Str","c":"whether"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"function,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"generates"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"next"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"8"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:monads:option-type-chart",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"8:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart:"},{"t":"Space"},{"t":"Str","c":"flatMap"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"Option"}],["src/pages/monads/option-flatmap.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"allowing"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"again"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"continues."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"fail-fast"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"love,"},{"t":"SoftBreak"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Space"},{"t":"Str","c":"overall:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nstringDivideBy(\"6\", \"2\")\n// res0: Option[Int] = Some(3)\nstringDivideBy(\"6\", \"0\")\n// res1: Option[Int] = None\nstringDivideBy(\"6\", \"foo\")\n// res2: Option[Int] = None\nstringDivideBy(\"bar\", \"2\")\n// res3: Option[Int] = None\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Every"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"(see"},{"t":"Space"},{"t":"Str","c":"below"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"proof),"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"rely"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"introduce"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"monad."},{"t":"SoftBreak"},{"t":"Str","c":"Plus,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehensions"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"clarify"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"behaviour:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef stringDivideBy(aStr: String, bStr: String): Option[Int] =\n  for {\n    aNum <- parseInt(aStr)\n    bNum <- parseInt(bStr)\n    ans  <- divide(aNum, bNum)\n  } yield ans\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Lists"}]}]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"encounter"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"budding"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"developers,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"tend"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"iterating"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"reinforced"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehensions,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"much"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"imperative"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"loops:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfor {\n  x <- (1 to 3).toList\n  y <- (4 to 5).toList\n} yield (x, y)\n// res5: List[(Int, Int)] = List(\n//   (1, 4),\n//   (1, 5),\n//   (2, 4),\n//   (2, 5),\n//   (3, 4),\n//   (3, 5)\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"mental"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"highlights"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monadic"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"sets"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Str","c":"results,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"becomes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"construct"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"calculates"},{"t":"SoftBreak"},{"t":"Str","c":"permutations"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"combinations."}]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehension"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"SoftBreak"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"possible"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"x"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"possible"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"y"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"six"},{"t":"Space"},{"t":"Str","c":"possible"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"(x, y)"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"generating"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"combinations"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"states"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"operations:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"get"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"x"]}]}],[{"t":"Plain","c":[{"t":"Str","c":"get"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"y"]}]}],[{"t":"Plain","c":[{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"tuple"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"(x, y)"]}]}]]},{"t":"RawBlock","c":["html","<!--\nThe type chart in Figure [@fig:monads:list-type-chart]\nillustrates this behaviour[^list-lengths].\n\n![Type chart: flatMap for List](src/pages/monads/list-flatmap.pdf+svg){#fig:monads:list-type-chart}\n\n[^list-lengths]: Although the result of `flatMap` (`List[B]`)\nis the same type as the result of the user-supplied function,\nthe end result is actually a larger list\ncreated from combinations of intermediate `As` and `Bs`.\n-->"]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Futures"}]}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"sequences"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"worrying"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"asynchronous:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.concurrent.Future\nimport scala.concurrent.ExecutionContext.Implicits.global\n\ndef doSomethingLongRunning: Future[Int] = ???\ndef doSomethingElseLongRunning: Future[Int] = ???\n\ndef doSomethingVeryLongRunning: Future[Int] =\n  for {\n    result1 <- doSomethingLongRunning\n    result2 <- doSomethingElseLongRunning\n  } yield result1 + result2\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Again,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"specify"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"step,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"takes"},{"t":"Space"},{"t":"Str","c":"care"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"horrifying"},{"t":"SoftBreak"},{"t":"Str","c":"underlying"},{"t":"Space"},{"t":"Str","c":"complexities"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"thread"},{"t":"Space"},{"t":"Str","c":"pools"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"schedulers."}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you’ve"},{"t":"Space"},{"t":"Str","c":"made"},{"t":"Space"},{"t":"Str","c":"extensive"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"you’ll"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"running"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"sequence"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"becomes"},{"t":"Space"},{"t":"Str","c":"clearer"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"expand"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehension"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"show"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"nested"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef doSomethingVeryLongRunning: Future[Int] =\n  doSomethingLongRunning.flatMap { result1 =>\n    doSomethingElseLongRunning.map { result2 =>\n      result1 + result2\n    }\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"created"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"receives"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"words,"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"SoftBreak"},{"t":"Str","c":"once"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"finished."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"born"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"chart"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"9"},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"shows"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => Future[B]"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:monads:future-type-chart",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"9:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart:"},{"t":"Space"},{"t":"Str","c":"flatMap"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"Future"}],["src/pages/monads/future-flatmap.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"can"}]},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"futures"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"parallel,"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"course,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"story"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"shall"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"told"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"time."},{"t":"SoftBreak"},{"t":"Str","c":"Monads"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"sequencing."}]},{"t":"Header","c":[3,["definition-of-a-monad",[],[]],[{"t":"Str","c":"Definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Monad"}]]},{"t":"Para","c":[{"t":"Str","c":"While"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"talked"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"above,"},{"t":"SoftBreak"},{"t":"Str","c":"monadic"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"formally"},{"t":"Space"},{"t":"Str","c":"captured"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"operations:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => F[A]"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"libraries"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"languages,"},{"t":"SoftBreak"},{"t":"Str","c":"notably"},{"t":"Space"},{"t":"Str","c":"Scalaz"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Haskell,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"referred"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"point"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"return"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"referred"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"bind"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],">>="]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"purely"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"difference"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terminology."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"term"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"compatibility"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library."}]}]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"(F[A], A => F[B]) => F[B]"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"abstracts"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"constructors,"},{"t":"SoftBreak"},{"t":"Str","c":"providing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"monadic"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"plain"},{"t":"Space"},{"t":"Str","c":"value."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"already"},{"t":"Space"},{"t":"Str","c":"discussed,"},{"t":"SoftBreak"},{"t":"Str","c":"extracting"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"generating"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"next"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence."},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simplified"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n\ntrait Monad[F[_]] {\n  def pure[A](value: A): F[A]\n\n  def flatMap[A, B](value: F[A])(func: A => F[B]): F[B]\n}\n\\end{lstlisting}"]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{WarningCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Monad"},{"t":"Space"},{"t":"Str","c":"Laws"}]}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"obey"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"laws"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"freely"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"unintended"},{"t":"Space"},{"t":"Str","c":"glitches"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"side-effects:"}]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Left"},{"t":"Space"},{"t":"Str","c":"identity"}]},{"t":"Str","c":":"},{"t":"Space"},{"t":"Str","c":"calling"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"transforming"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"func"]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"calling"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"func"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\npure(a).flatMap(func) == func(a)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Right"},{"t":"Space"},{"t":"Str","c":"identity"}]},{"t":"Str","c":":"},{"t":"Space"},{"t":"Str","c":"passing"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"doing"},{"t":"Space"},{"t":"Str","c":"nothing:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nm.flatMap(pure) == m\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Associativity"}]},{"t":"Str","c":":"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMapping"]},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"f"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"g"]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMapping"]},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"f"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMapping"]},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"g"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nm.flatMap(f).flatMap(g) == m.flatMap(x => f(x).flatMap(g))\n\\end{lstlisting}"]},{"t":"RawBlock","c":["latex","\\end{WarningCallout}"]}]]},{"t":"Header","c":[3,["exercise-getting-func-y",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Getting"},{"t":"Space"},{"t":"Str","c":"Func-y"}]]},{"t":"Para","c":[{"t":"Str","c":"Every"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functor."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"existing"},{"t":"Space"},{"t":"Str","c":"methods,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n\ntrait Monad[F[_]] {\n  def pure[A](a: A): F[A]\n\n  def flatMap[A, B](value: F[A])(func: A => F[B]): F[B]\n\n  def map[A, B](value: F[A])(func: A => B): F[B] =\n    ???\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Try"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"yourself"},{"t":"Space"},{"t":"Str","c":"now."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:0183dc377d1e7f29770ad2c213464c69",""]]}]},{"t":"Header","c":[2,["monads-in-cats",[],[]],[{"t":"Str","c":"Monads"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"}]]},{"t":"Para","c":[{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"give"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"treatment."},{"t":"SoftBreak"},{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"usual"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class,"},{"t":"Space"},{"t":"Str","c":"instances,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"syntax."}]},{"t":"Header","c":[3,["monad-type-class",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Monad"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Class"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Monad"]}],["http://typelevel.org/cats/api/cats/Monad.html",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes:"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"FlatMap"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"exercise"},{"t":"Space"},{"t":"Str","c":"above."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"discuss"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicatives"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"6"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"directly:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monad\nimport cats.instances.option._ // for Monad\nimport cats.instances.list._   // for Monad\n\nval opt1 = Monad[Option].pure(3)\n// opt1: Option[Int] = Some(3)\nval opt2 = Monad[Option].flatMap(opt1)(a => Some(a + 2))\n// opt2: Option[Int] = Some(5)\nval opt3 = Monad[Option].map(opt2)(a => 100 * a)\n// opt3: Option[Int] = Some(500)\n\nval list1 = Monad[List].pure(3)\n// list1: List[Int] = List(3)\nval list2 = Monad[List].\n  flatMap(List(1, 2, 3))(a => List(a, a*10))\n// list2: List[Int] = List(1, 10, 2, 20, 3, 30)\nval list3 = Monad[List].map(list2)(a => a + 123)\n// list3: List[Int] = List(124, 133, 125, 143, 126, 153)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"methods,"},{"t":"SoftBreak"},{"t":"Str","c":"including"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"See"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"scaladoc"}],["http://typelevel.org/cats/api/cats/Monad.html",""]]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"information."}]},{"t":"Header","c":[3,["default-instances",[],[]],[{"t":"Str","c":"Default"},{"t":"Space"},{"t":"Str","c":"Instances"}]]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"SoftBreak"},{"t":"Str","c":"("},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"on)"},{"t":"Space"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances"]}],["http://typelevel.org/cats/api/cats/instances/",""]]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.option._ // for Monad\n\nMonad[Option].flatMap(Option(1))(a => Option(a*2))\n// res0: Option[Int] = Some(2)\n\nimport cats.instances.list._ // for Monad\n\nMonad[List].flatMap(List(1, 2, 3))(a => List(a, a*10))\n// res1: List[Int] = List(1, 10, 2, 20, 3, 30)\n\nimport cats.instances.vector._ // for Monad\n\nMonad[Vector].flatMap(Vector(1, 2, 3))(a => Vector(a, a*10))\n// res2: Vector[Int] = Vector(1, 10, 2, 20, 3, 30)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Unlike"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"itself,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"SoftBreak"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext"]},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"SoftBreak"},{"t":"Str","c":"(because"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"aren’t"},{"t":"Space"},{"t":"Str","c":"part"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definitions"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"trait)."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"this,"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"summon"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.future._ // for Monad\nimport scala.concurrent._\nimport scala.concurrent.duration._\n\nval fm = Monad[Future]\n// error: Could not find an instance of Monad for scala.concurrent.Future\n// val fm = Monad[Future]\n//          ^^^^^^^^^^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Bringing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext"]},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"SoftBreak"},{"t":"Str","c":"fixes"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"resolution"},{"t":"Space"},{"t":"Str","c":"required"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"summon"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instance:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.concurrent.ExecutionContext.Implicits.global\n\nval fm = Monad[Future]\n// fm: Monad[Future] = cats.instances.FutureInstances$$anon$1@5493a1be\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"captured"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext"]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"subsequent"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval future = fm.flatMap(fm.pure(1))(x => fm.pure(x + 2))\n\nAwait.result(future, 1.second)\n// res4: Int = 3\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"above,"},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"host"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"familiarise"},{"t":"Space"},{"t":"Str","c":"ourselves"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"moment."}]},{"t":"Header","c":[3,["monad-syntax",[],[]],[{"t":"Str","c":"Monad"},{"t":"Space"},{"t":"Str","c":"Syntax"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"comes"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"places:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.flatMap"]}],["http://typelevel.org/cats/api/cats/syntax/package$$flatMap$",""]]},{"t":"SoftBreak"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.functor"]}],["http://typelevel.org/cats/api/cats/syntax/package$$functor$",""]]},{"t":"SoftBreak"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.applicative"]}],["http://typelevel.org/cats/api/cats/syntax/package$$applicative$",""]]},{"t":"SoftBreak"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"practice"},{"t":"Space"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"often"},{"t":"Space"},{"t":"Str","c":"easier"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"everything"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"go"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.implicits"]}],["http://typelevel.org/cats/api/cats/implicits$.html",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"individual"},{"t":"Space"},{"t":"Str","c":"imports"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"clarity."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"construct"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"often"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"specify"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"disambiguate"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"particular"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.option._   // for Monad\nimport cats.instances.list._     // for Monad\nimport cats.syntax.applicative._ // for pure\n\n1.pure[Option]\n// res5: Option[Int] = Some(1)\n1.pure[List]\n// res6: List[Int] = List(1)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"difficult"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"demonstrate"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"directly"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Str","c":"explicit"},{"t":"Space"},{"t":"Str","c":"versions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"those"},{"t":"Space"},{"t":"Str","c":"methods."},{"t":"SoftBreak"},{"t":"Str","c":"Instead"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"performs"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"calculation"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"come"},{"t":"Space"},{"t":"Str","c":"wrapped"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"user’s"},{"t":"Space"},{"t":"Str","c":"choice:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monad\nimport cats.syntax.functor._ // for map\nimport cats.syntax.flatMap._ // for flatMap\n\ndef sumSquare[F[_]: Monad](a: F[Int], b: F[Int]): F[Int] =\n  a.flatMap(x => b.map(y => x*x + y*y))\n\nimport cats.instances.option._ // for Monad\nimport cats.instances.list._   // for Monad\n\nsumSquare(Option(3), Option(4))\n// res7: Option[Int] = Some(25)\nsumSquare(List(1, 2, 3), List(4, 5))\n// res8: List[Int] = List(17, 26, 20, 29, 25, 34)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"rewrite"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehensions."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"thing"}]]},{"t":"Space"},{"t":"Str","c":"by"},{"t":"SoftBreak"},{"t":"Str","c":"rewriting"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"comprehension"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"inserting"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"conversions"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef sumSquare[F[_]: Monad](a: F[Int], b: F[Int]): F[Int] =\n  for {\n    x <- a\n    y <- b\n  } yield x*x + y*y\n\nsumSquare(Option(3), Option(4))\n// res10: Option[Int] = Some(25)\nsumSquare(List(1, 2, 3), List(4, 5))\n// res11: List[Int] = List(17, 26, 20, 29, 25, 34)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"That’s"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"less"},{"t":"Space"},{"t":"Str","c":"everything"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"SoftBreak"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"generalities"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats."},{"t":"SoftBreak"},{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"take"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"haven’t"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library."}]},{"t":"Header","c":[2,["sec:monads:identity",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Identity"},{"t":"Space"},{"t":"Str","c":"Monad"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"section"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"demonstrated"},{"t":"Space"},{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"abstracted"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"monads:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monad\nimport cats.syntax.functor._ // for map\nimport cats.syntax.flatMap._ // for flatMap\n\ndef sumSquare[F[_]: Monad](a: F[Int], b: F[Int]): F[Int] =\n  for {\n    x <- a\n    y <- b\n  } yield x*x + y*y\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"well"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Options"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"passing"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"plain"},{"t":"Space"},{"t":"Str","c":"values:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsumSquare(3, 4)\n// error: no type parameters for method sumSquare: (a: F[Int], b: F[Int])(implicit evidence$1: cats.Monad[F])F[Int] exist so that it can be applied to arguments (Int, Int)\n//  --- because ---\n// argument expression's type is not compatible with formal parameter type;\n//  found   : 3\n//  required: ?F[Int]\n// error: type mismatch;\n//  found   : Int(3)\n//  required: F[Int]\n// error: type mismatch;\n//  found   : Int(4)\n//  required: F[Int]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"incredibly"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"sumSquare"]},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"were"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"all."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"monadic"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"non-monadic"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"Fortunately,"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"bridge"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"gap:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Id\n\nsumSquare(3 : Id[Int], 4 : Id[Int])\n// res1: Id[Int] = 25\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"monadic"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"plain"},{"t":"Space"},{"t":"Str","c":"values."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"exact"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"difficult"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"understand."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"cast"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"sumSquare"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[Int]"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"received"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[Int]"]},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"result!"}]},{"t":"Para","c":[{"t":"Str","c":"What’s"},{"t":"Space"},{"t":"Str","c":"going"},{"t":"Space"},{"t":"Str","c":"on?"},{"t":"Space"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"explain:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\npackage cats\n\ntype Id[A] = A\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"actually"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"turns"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"atomic"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single-parameter"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"cast"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"corresponding"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n\"Dave\" : Id[String]\n// res2: Id[String] = \"Dave\"\n123 : Id[Int]\n// res3: Id[Int] = 123\nList(1, 2, 3) : Id[List[Int]]\n// res4: Id[List[Int]] = List(1, 2, 3)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"various"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"including"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"let"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"SoftBreak"},{"t":"Str","c":"passing"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"plain"},{"t":"Space"},{"t":"Str","c":"values:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval a = Monad[Id].pure(3)\n// a: Id[Int] = 3\nval b = Monad[Id].flatMap(a)(_ + 1)\n// b: Id[Int] = 4\n\nimport cats.syntax.functor._ // for map\nimport cats.syntax.flatMap._ // for flatMap\n\nfor {\n  x <- a\n  y <- b\n} yield x + y\n// res5: Id[Int] = 7\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"ability"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"monadic"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"non-monadic"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"extremely"},{"t":"Space"},{"t":"Str","c":"powerful."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"asynchronously"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"production"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"synchronously"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"8"},{"t":"Str","c":"."}]},{"t":"Header","c":[3,["exercise-monadic-secret-identities",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Monadic"},{"t":"Space"},{"t":"Str","c":"Secret"},{"t":"Space"},{"t":"Str","c":"Identities"}]]},{"t":"Para","c":[{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Str","c":"!"},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"interesting"},{"t":"Space"},{"t":"Str","c":"discoveries"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"uncover"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation?"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:20e7baf9d0f2f0e7504a9c459596cc6c",""]]}]},{"t":"Header","c":[2,["either",[],[]],[{"t":"Str","c":"Either"}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"monad:"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"2.11"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"earlier,"},{"t":"SoftBreak"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"people"},{"t":"Space"},{"t":"Str","c":"didn’t"},{"t":"Space"},{"t":"Str","c":"consider"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"didn’t"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"2.12,"},{"t":"Space"},{"t":"Str","c":"however,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"became"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"biased"}]},{"t":"Str","c":"."}]},{"t":"Header","c":[3,["left-and-right-bias",[],[]],[{"t":"Str","c":"Left"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Right"},{"t":"Space"},{"t":"Str","c":"Bias"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"2.11,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"had"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"default"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"made"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"2.11"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"SoftBreak"},{"t":"Str","c":"inconvenient"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehensions."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"had"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"insert"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],".right"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"generator"},{"t":"Space"},{"t":"Str","c":"clause:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval either1: Either[String, Int] = Right(10)\nval either2: Either[String, Int] = Right(32)\n\nfor {\n  a <- either1.right\n  b <- either2.right\n} yield a + b\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"2.12,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"was"},{"t":"Space"},{"t":"Str","c":"redesigned."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"modern"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"decision"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"side"},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"success"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"thus"},{"t":"Space"},{"t":"Str","c":"supports"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"directly."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehensions"},{"t":"Space"},{"t":"Str","c":"much"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"pleasant:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfor {\n  a <- either1\n  b <- either2\n} yield a + b\n// res1: Either[String, Int] = Right(42)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"back-ports"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"2.11"},{"t":"SoftBreak"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.syntax.either"]},{"t":"Space"},{"t":"Str","c":"import,"},{"t":"SoftBreak"},{"t":"Str","c":"allowing"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"right-biased"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"supported"},{"t":"Space"},{"t":"Str","c":"versions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Scala."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"2.12+"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"omit"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"leave"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"place"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"breaking"},{"t":"Space"},{"t":"Str","c":"anything:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.either._ // for map and flatMap\n\nfor {\n  a <- either1\n  b <- either2\n} yield a + b\n\\end{lstlisting}"]},{"t":"Header","c":[3,["creating-instances",[],[]],[{"t":"Str","c":"Creating"},{"t":"Space"},{"t":"Str","c":"Instances"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Left"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Right"]},{"t":"Space"},{"t":"Str","c":"directly,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"asLeft"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"asRight"]},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.either"]}],["http://typelevel.org/cats/api/cats/syntax/package$$either$",""]]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.either._ // for asRight\n\nval a = 3.asRight[String]\n// a: Either[String, Int] = Right(3)\nval b = 4.asRight[String]\n// b: Either[String, Int] = Right(4)\n\nfor {\n  x <- a\n  y <- b\n} yield x*x + y*y\n// res3: Either[String, Int] = Right(25)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"These"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"smart"},{"t":"Space"},{"t":"Str","c":"constructors"}]]},{"t":"Space"},{"t":"Str","c":"have"},{"t":"SoftBreak"},{"t":"Str","c":"advantages"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Left.apply"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Right.apply"]},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"SoftBreak"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Left"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Right"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"helps"},{"t":"Space"},{"t":"Str","c":"avoid"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"inference"},{"t":"Space"},{"t":"Str","c":"problems"},{"t":"SoftBreak"},{"t":"Str","c":"caused"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"over-narrowing,"},{"t":"SoftBreak"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"issue"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"below:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef countPositive(nums: List[Int]) =\n  nums.foldLeft(Right(0)) { (accumulator, num) =>\n    if(num > 0) {\n      accumulator.map(_ + 1)\n    } else {\n      Left(\"Negative. Stopping!\")\n    }\n  }\n// error: type mismatch;\n//  found   : scala.util.Either[Nothing,Int]\n//  required: scala.util.Right[Nothing,Int]\n//       accumulator.map(_ + 1)\n//       ^^^^^^^^^^^^^^^^^^^^^^\n// error: type mismatch;\n//  found   : scala.util.Left[String,Nothing]\n//  required: scala.util.Right[Nothing,Int]\n//       Left(\"Negative. Stopping!\")\n//       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"fails"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"compile"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"reasons:"}]},{"t":"OrderedList","c":[[1,{"t":"Decimal"},{"t":"Period"}],[[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"infers"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"accumulator"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Right"]},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"didn’t"},{"t":"Space"},{"t":"Str","c":"specify"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Right.apply"]},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"infers"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"left"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Nothing"]},{"t":"Str","c":"."}]}]]]},{"t":"Para","c":[{"t":"Str","c":"Switching"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"asRight"]},{"t":"Space"},{"t":"Str","c":"avoids"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"problems."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"asRight"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"completely"},{"t":"Space"},{"t":"Str","c":"specify"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef countPositive(nums: List[Int]) =\n  nums.foldLeft(0.asRight[String]) { (accumulator, num) =>\n    if(num > 0) {\n      accumulator.map(_ + 1)\n    } else {\n      Left(\"Negative. Stopping!\")\n    }\n  }\n\ncountPositive(List(1, 2, 3))\n// res5: Either[String, Int] = Right(3)\ncountPositive(List(1, -2, 3))\n// res6: Either[String, Int] = Left(\"Negative. Stopping!\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"cats.syntax.either"]},{"t":"Space"},{"t":"Str","c":"adds"},{"t":"SoftBreak"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"catchOnly"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"catchNonFatal"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"great"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"capturing"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Exceptions"]},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nEither.catchOnly[NumberFormatException](\"foo\".toInt)\n// res7: Either[NumberFormatException, Int] = Left(\n//   java.lang.NumberFormatException: For input string: \"foo\"\n// )\nEither.catchNonFatal(sys.error(\"Badness\"))\n// res8: Either[Throwable, Nothing] = Left(java.lang.RuntimeException: Badness)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nEither.fromTry(scala.util.Try(\"foo\".toInt))\n// res9: Either[Throwable, Int] = Left(\n//   java.lang.NumberFormatException: For input string: \"foo\"\n// )\nEither.fromOption[String, Int](None, \"Badness\")\n// res10: Either[String, Int] = Left(\"Badness\")\n\\end{lstlisting}"]},{"t":"Header","c":[3,["transforming-eithers",[],[]],[{"t":"Str","c":"Transforming"},{"t":"Space"},{"t":"Str","c":"Eithers"}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"cats.syntax.either"]},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"adds"},{"t":"SoftBreak"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Users"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"2.11"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"2.12"},{"t":"SoftBreak"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"orElse"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"getOrElse"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"extract"},{"t":"SoftBreak"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"side"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"default:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.either._\n\n\"Error\".asLeft[Int].getOrElse(0)\n// res11: Int = 0\n\"Error\".asLeft[Int].orElse(2.asRight[String])\n// res12: Either[String, Int] = Right(2)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ensure"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"whether"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"right-hand"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"SoftBreak"},{"t":"Str","c":"satisfies"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"predicate:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n-1.asRight[String].ensure(\"Must be non-negative!\")(_ > 0)\n// res13: Either[String, Int] = Left(\"Must be non-negative!\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"recover"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"recoverWith"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"namesakes"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n\"error\".asLeft[Int].recover {\n  case _: String => -1\n}\n// res14: Either[String, Int] = Right(-1)\n\n\"error\".asLeft[Int].recoverWith {\n  case _: String => Right(-1)\n}\n// res15: Either[String, Int] = Right(-1)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"leftMap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"bimap"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"complement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n\"foo\".asLeft[Int].leftMap(_.reverse)\n// res16: Either[String, Int] = Left(\"oof\")\n6.asRight[String].bimap(_.reverse, _ * 7)\n// res17: Either[String, Int] = Right(42)\n\"bar\".asLeft[Int].bimap(_.reverse, _ * 7)\n// res18: Either[String, Int] = Left(\"rab\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"swap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"lets"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"exchange"},{"t":"Space"},{"t":"Str","c":"left"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"right:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n123.asRight[String]\n// res19: Either[String, Int] = Right(123)\n123.asRight[String].swap\n// res20: Either[Int, String] = Left(123)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"adds"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"host"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"conversion"},{"t":"Space"},{"t":"Str","c":"methods:"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"toOption"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"toList"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"toTry"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"toValidated"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"on."}]},{"t":"Header","c":[3,["error-handling",[],[]],[{"t":"Str","c":"Error"},{"t":"Space"},{"t":"Str","c":"Handling"}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"typically"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"fail-fast"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"usual."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"fails,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"remaining"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"run:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfor {\n  a <- 1.asRight[String]\n  b <- 0.asRight[String]\n  c <- if(b == 0) \"DIV0\".asLeft[Int]\n       else (a / b).asRight[String]\n} yield c * 100\n// res21: Either[String, Int] = Left(\"DIV0\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"determine"},{"t":"SoftBreak"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"errors."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Throwable"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"this:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype Result[A] = Either[Throwable, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"scala.util.Try"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"problem,"},{"t":"Space"},{"t":"Str","c":"however,"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Throwable"]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"extremely"},{"t":"Space"},{"t":"Str","c":"broad"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"(almost)"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"idea"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"occurred."}]},{"t":"Para","c":[{"t":"Str","c":"Another"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"algebraic"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"occur"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"program:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsealed trait LoginError extends Product with Serializable\n\nfinal case class UserNotFound(username: String)\n  extends LoginError\n\nfinal case class PasswordIncorrect(username: String)\n  extends LoginError\n\ncase object UnexpectedError extends LoginError\n\ncase class User(username: String, password: String)\n\ntype LoginResult = Either[LoginError, User]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"solves"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"problems"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Throwable"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"fixed"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"expected"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"catch-all"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"anything"},{"t":"Space"},{"t":"Str","c":"else"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"didn’t"},{"t":"Space"},{"t":"Str","c":"expect."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"safety"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"exhaustivity"},{"t":"Space"},{"t":"Str","c":"checking"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"matching"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"do:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// Choose error-handling behaviour based on type:\ndef handleError(error: LoginError): Unit =\n  error match {\n    case UserNotFound(u) =>\n      println(s\"User not found: $u\")\n\n    case PasswordIncorrect(u) =>\n      println(s\"Password incorrect: $u\")\n\n    case UnexpectedError =>\n      println(s\"Unexpected error\")\n  }\n\nval result1: LoginResult = User(\"dave\", \"passw0rd\").asRight\n// result1: LoginResult = Right(User(\"dave\", \"passw0rd\"))\nval result2: LoginResult = UserNotFound(\"dave\").asLeft\n// result2: LoginResult = Left(UserNotFound(\"dave\"))\n\nresult1.fold(handleError, println)\n// User(dave,passw0rd)\nresult2.fold(handleError, println)\n// User not found: dave\n\\end{lstlisting}"]},{"t":"Header","c":[3,["exercise-what-is-best",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"Best?"}]]},{"t":"Para","c":[{"t":"Str","c":"Is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling"},{"t":"Space"},{"t":"Str","c":"strategy"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"SoftBreak"},{"t":"Str","c":"well"},{"t":"Space"},{"t":"Str","c":"suited"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"purposes?"},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"features"},{"t":"Space"},{"t":"Str","c":"might"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling?"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:b4a158bb9a5f8c11e6ddda509b04199c",""]]}]},{"t":"Header","c":[2,["aside-error-handling-and-monaderror",[],[]],[{"t":"Str","c":"Aside:"},{"t":"Space"},{"t":"Str","c":"Error"},{"t":"Space"},{"t":"Str","c":"Handling"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"MonadError"}]]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"additional"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MonadError"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"abstracts"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":"-like"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"MonadError"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"extra"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"raising"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"handling"},{"t":"Space"},{"t":"Str","c":"errors."}]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{InfoCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"Optional!"}]}]},{"t":"Para","c":[{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"won’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MonadError"]},{"t":"SoftBreak"},{"t":"Str","c":"unless"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling"},{"t":"Space"},{"t":"Str","c":"monads."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MonadError"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Try"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"EitherT"]},{"t":"SoftBreak"},{"t":"Str","c":"(which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"meet"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"5"},{"t":"Str","c":")."}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"kind"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"abstraction"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"now,"},{"t":"SoftBreak"},{"t":"Str","c":"feel"},{"t":"Space"},{"t":"Str","c":"free"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"skip"},{"t":"Space"},{"t":"Str","c":"onwards"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"4.6"},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\end{InfoCallout}"]}]]},{"t":"Header","c":[3,["the-monaderror-type-class",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"MonadError"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Class"}]]},{"t":"Para","c":[{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simplified"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MonadError"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\npackage cats\n\ntrait MonadError[F[_], E] extends Monad[F] {\n  // Lift an error into the `F` context:\n  def raiseError[A](e: E): F[A]\n\n  // Handle an error, potentially recovering from it:\n  def handleErrorWith[A](fa: F[A])(f: E => F[A]): F[A]\n  \n  // Handle all errors, recovering from them:\n  def handleError[A](fa: F[A])(f: E => A): F[A]\n\n  // Test an instance of `F`,\n  // failing if the predicate is not satisfied:\n  def ensure[A](fa: F[A])(e: E)(f: A => Boolean): F[A]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"MonadError"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monad;"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"E"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"contained"},{"t":"Space"},{"t":"Str","c":"within"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"demonstrate"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"fit"},{"t":"Space"},{"t":"Str","c":"together,"},{"t":"SoftBreak"},{"t":"Str","c":"here’s"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"SoftBreak"},{"t":"Str","c":"instantiate"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.MonadError\nimport cats.instances.either._ // for MonadError\n\ntype ErrorOr[A] = Either[String, A]\n\nval monadError = MonadError[ErrorOr, String]\n\\end{lstlisting}"]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{WarningCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"ApplicativeError"}]}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"reality,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MonadError"]},{"t":"Space"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ApplicativeError"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"won’t"},{"t":"Space"},{"t":"Str","c":"encounter"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicatives"]},{"t":"SoftBreak"},{"t":"Str","c":"until"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"6"},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"ignore"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"detail"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"now."}]},{"t":"RawBlock","c":["latex","\\end{WarningCallout}"]}]]},{"t":"Header","c":[3,["raising-and-handling-errors",[],[]],[{"t":"Str","c":"Raising"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Handling"},{"t":"Space"},{"t":"Str","c":"Errors"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"important"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MonadError"]},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"raiseError"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"handleErrorWith"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"raiseError"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"SoftBreak"},{"t":"Str","c":"except"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"creates"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"representing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"failure:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval success = monadError.pure(42)\n// success: ErrorOr[Int] = Right(42)\nval failure = monadError.raiseError(\"Badness\")\n// failure: ErrorOr[Nothing] = Left(\"Badness\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"handleErrorWith"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"complement"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"raiseError"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"consume"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"(possibly)"},{"t":"SoftBreak"},{"t":"Str","c":"turn"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"success,"},{"t":"SoftBreak"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"recover"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nmonadError.handleErrorWith(failure) {\n  case \"Badness\" =>\n    monadError.pure(\"It's ok\")\n\n  case _ =>\n    monadError.raiseError(\"It's not ok\")\n}\n// res0: ErrorOr[String] = Right(\"It's ok\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"handle"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"possible"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"handleWith"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nmonadError.handleError(failure) {\n  case \"Badness\" => 42\n\n  case _ => -1\n}\n// res1: ErrorOr[Int] = Right(42)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ensure"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"implements"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"filter"]},{"t":"Str","c":"-like"},{"t":"Space"},{"t":"Str","c":"behaviour."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"successful"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"predicate"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"specify"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"raise"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"predicate"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"false"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nmonadError.ensure(success)(\"Number too low!\")(_ > 1000)\n// res2: ErrorOr[Int] = Left(\"Number too low!\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"raiseError"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"handleErrorWith"]},{"t":"SoftBreak"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.applicativeError"]}],["http://typelevel.org/cats/api/cats/syntax/package$$applicativeError$",""]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ensure"]},{"t":"Space"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.monadError"]}],["http://typelevel.org/cats/api/cats/syntax/package$$monadError$",""]]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.applicative._      // for pure\nimport cats.syntax.applicativeError._ // for raiseError etc\nimport cats.syntax.monadError._       // for ensure\n\nval success = 42.pure[ErrorOr]\n// success: ErrorOr[Int] = Right(42)\nval failure = \"Badness\".raiseError[ErrorOr, Int]\n// failure: ErrorOr[Int] = Left(\"Badness\")\nfailure.handleErrorWith{\n  case \"Badness\" =>\n    256.pure\n\n  case _ =>\n    (\"It's not ok\").raiseError\n}\n// res4: ErrorOr[Int] = Right(256)\nsuccess.ensure(\"Number to low!\")(_ > 1000)\n// res5: ErrorOr[Int] = Left(\"Number to low!\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"variants"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"methods."},{"t":"SoftBreak"},{"t":"Str","c":"See"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"source"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.MonadError"]}],["http://typelevel.org/cats/api/cats/MonadError.html",""]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.ApplicativeError"]}],["http://typelevel.org/cats/api/cats/ApplicativeError.html",""]]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"information."}]},{"t":"Header","c":[3,["instances-of-monaderror",[],[]],[{"t":"Str","c":"Instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"MonadError"}]]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MonadError"]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"numerous"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"including"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Try"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"customisable"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"type,"},{"t":"SoftBreak"},{"t":"Str","c":"whereas"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Try"]},{"t":"SoftBreak"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Throwables"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.util.Try\nimport cats.instances.try_._ // for MonadError\n\nval exn: Throwable =\n  new RuntimeException(\"It's all gone wrong\")\n\nexn.raiseError[Try, Int]\n// res6: Try[Int] = Failure(java.lang.RuntimeException: It's all gone wrong)\n\\end{lstlisting}"]},{"t":"Header","c":[3,["exercise-abstracting",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Abstracting"}]]},{"t":"Para","c":[{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"validateAdult"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"signature"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef validateAdult[F[_]](age: Int)(implicit me: MonadError[F, Throwable]): F[Int] =\n  ???\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"passed"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"age"]},{"t":"Space"},{"t":"Str","c":"greater"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"equal"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"18"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"success."},{"t":"Space"},{"t":"Str","c":"Otherwise"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"represented"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"IllegalArgumentException"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"use."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nvalidateAdult[Try](18)\n// res7: Try[Int] = Success(18)\nvalidateAdult[Try](8)\n// res8: Try[Int] = Failure(\n//   java.lang.IllegalArgumentException: Age must be greater than or equal to 18\n// )\ntype ExceptionOr[A] = Either[Throwable, A]\nvalidateAdult[ExceptionOr](-1)\n// res9: ExceptionOr[Int] = Left(\n//   java.lang.IllegalArgumentException: Age must be greater than or equal to 18\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:c6982f9215c04a57facf358c275aa780",""]]}]},{"t":"Header","c":[2,["sec:monads:eval",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Eval"},{"t":"Space"},{"t":"Str","c":"Monad"}]]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Eval"]}],["http://typelevel.org/cats/api/cats/Eval.html",""]]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"models"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"evaluation"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"typically"},{"t":"Space"},{"t":"Str","c":"talk"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"models:"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"eager"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"lazy"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"call-by-value"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"call-by-name"}]},{"t":"Space"},{"t":"Str","c":"respectively."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"memoized"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"call-by-need"}]},{"t":"Space"},{"t":"Str","c":"evaluation."}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"stack-safe"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"deep"},{"t":"Space"},{"t":"Str","c":"recursions"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"blowing"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack."}]},{"t":"Header","c":[3,["eager-lazy-memoized-oh-my",[],[]],[{"t":"Str","c":"Eager,"},{"t":"Space"},{"t":"Str","c":"Lazy,"},{"t":"Space"},{"t":"Str","c":"Memoized,"},{"t":"Space"},{"t":"Str","c":"Oh"},{"t":"Space"},{"t":"Str","c":"My!"}]]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"models"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"evaluation"},{"t":"Space"},{"t":"Str","c":"mean?"},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"examples."}]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"vals"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"evaluation"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"visible"},{"t":"Space"},{"t":"Str","c":"side-effect."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"compute"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"x"]},{"t":"SoftBreak"},{"t":"Str","c":"happens"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"place"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"SoftBreak"},{"t":"Str","c":"rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"access."},{"t":"SoftBreak"},{"t":"Str","c":"Accessing"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"x"]},{"t":"Space"},{"t":"Str","c":"recalls"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stored"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"re-running"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval x = {\n  println(\"Computing X\")\n  math.random\n}\n// Computing X\n// x: Double = 0.15241729989551633\n\nx // first access\n// res0: Double = 0.15241729989551633 // first access\nx // second access\n// res1: Double = 0.15241729989551633\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"call-by-value"},{"t":"Space"},{"t":"Str","c":"evaluation:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"evaluated"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"point"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"(eager);"},{"t":"Space"},{"t":"Str","c":"and"}]}],[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"evaluated"},{"t":"Space"},{"t":"Str","c":"once"},{"t":"Space"},{"t":"Str","c":"(memoized)."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"def"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"compute"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"y"]},{"t":"Space"},{"t":"Str","c":"below"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"until"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"it,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"re-run"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"access:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef y = {\n  println(\"Computing Y\")\n  math.random\n}\n\ny // first access\n// Computing Y\n// res2: Double = 0.6963618800921411 // first access\ny // second access\n// Computing Y\n// res3: Double = 0.7321640587866993\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"properties"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"call-by-name"},{"t":"Space"},{"t":"Str","c":"evaluation:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"evaluated"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"point"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"(lazy);"},{"t":"Space"},{"t":"Str","c":"and"}]}],[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"evaluated"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"(not"},{"t":"Space"},{"t":"Str","c":"memoized)."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Last"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"least,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"lazy vals"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"call-by-need"},{"t":"Space"},{"t":"Str","c":"evaluation."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"compute"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"z"]},{"t":"Space"},{"t":"Str","c":"below"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"until"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"(lazy)."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"cached"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"re-used"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"subsequent"},{"t":"Space"},{"t":"Str","c":"accesses"},{"t":"Space"},{"t":"Str","c":"(memoized):"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nlazy val z = {\n  println(\"Computing Z\")\n  math.random\n}\n\nz // first access\n// Computing Z\n// res4: Double = 0.18457255119783122 // first access\nz // second access\n// res5: Double = 0.18457255119783122\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"summarize."},{"t":"Space"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"properties"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"interest:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"evaluation"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"point"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"(eager)"},{"t":"Space"},{"t":"Str","c":"versus"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"point"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"(lazy);"},{"t":"Space"},{"t":"Str","c":"and"}]}],[{"t":"Plain","c":[{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"saved"},{"t":"Space"},{"t":"Str","c":"once"},{"t":"Space"},{"t":"Str","c":"evaluated"},{"t":"Space"},{"t":"Str","c":"(memoized)"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"(not"},{"t":"Space"},{"t":"Str","c":"memoized)."}]}]]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"possible"},{"t":"Space"},{"t":"Str","c":"combinations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"properties:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"call-by-value"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"eager"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"memoized;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"call-by-name"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"lazy"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"memoized;"},{"t":"Space"},{"t":"Str","c":"and"}]}],[{"t":"Plain","c":[{"t":"Str","c":"call-by-need"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"lazy"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"memoized."}]}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"combination,"},{"t":"Space"},{"t":"Str","c":"eager"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"memoized,"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"possible."}]},{"t":"Header","c":[3,["evals-models-of-evaluation",[],[]],[{"t":"Str","c":"Eval’s"},{"t":"Space"},{"t":"Str","c":"Models"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Evaluation"}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"subtypes:"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Now"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Always"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Later"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"They"},{"t":"Space"},{"t":"Str","c":"correspond"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"call-by-value,"},{"t":"Space"},{"t":"Str","c":"call-by-name,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"call-by-need"},{"t":"Space"},{"t":"Str","c":"respectively."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"construct"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Str","c":"methods,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"typed"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Eval\n\nval now = Eval.now(math.random + 1000)\n// now: Eval[Double] = Now(1000.020590704322)\nval always = Eval.always(math.random + 3000)\n// always: Eval[Double] = cats.Always@4d8ca6eb\nval later = Eval.later(math.random + 2000)\n// later: Eval[Double] = cats.Later@601dc0b2\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"extract"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Space"},{"t":"Str","c":"method:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nnow.value\n// res6: Double = 1000.020590704322\nalways.value\n// res7: Double = 3000.97102818157\nlater.value\n// res8: Double = 2000.0126977436273\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"calculates"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"evaluation"},{"t":"Space"},{"t":"Str","c":"models"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"above."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Eval.now"]},{"t":"Space"},{"t":"Str","c":"captures"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"now"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Its"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"val"]},{"t":"Str","c":"—eager"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"memoized:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval x = Eval.now{\n  println(\"Computing X\")\n  math.random\n}\n// Computing X\n// x: Eval[Double] = Now(0.681816469770503)\n\nx.value // first access\n// res10: Double = 0.681816469770503 // first access\nx.value // second access\n// res11: Double = 0.681816469770503\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Eval.always"]},{"t":"Space"},{"t":"Str","c":"captures"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"lazy"},{"t":"Space"},{"t":"Str","c":"computation,"},{"t":"SoftBreak"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"def"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval y = Eval.always{\n  println(\"Computing Y\")\n  math.random\n}\n// y: Eval[Double] = cats.Always@414a351\n\ny.value // first access\n// Computing Y\n// res12: Double = 0.09982997820703643 // first access\ny.value // second access\n// Computing Y\n// res13: Double = 0.34240334819463436\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval.later"]},{"t":"Space"},{"t":"Str","c":"captures"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"lazy,"},{"t":"Space"},{"t":"Str","c":"memoized"},{"t":"Space"},{"t":"Str","c":"computation,"},{"t":"SoftBreak"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"lazy val"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval z = Eval.later{\n  println(\"Computing Z\")\n  math.random\n}\n// z: Eval[Double] = cats.Later@b0a344a\n\nz.value // first access\n// Computing Z\n// res14: Double = 0.3604236919233441 // first access\nz.value // second access\n// res15: Double = 0.3604236919233441\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"behaviours"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"summarized"},{"t":"Space"},{"t":"Str","c":"below:"}]},{"t":"Table","c":[[],[{"t":"AlignLeft"},{"t":"AlignLeft"},{"t":"AlignLeft"}],[0.2638888888888889,0.3611111111111111,0.3611111111111111],[[{"t":"Plain","c":[{"t":"Str","c":"Scala"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Cats"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Properties"}]}]],[[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"val"]}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"Now"]}]}],[{"t":"Plain","c":[{"t":"Str","c":"eager,"},{"t":"Space"},{"t":"Str","c":"memoized"}]}]],[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"def"]}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"Always"]}]}],[{"t":"Plain","c":[{"t":"Str","c":"lazy,"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"memoized"}]}]],[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"lazy val"]}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"Later"]}]}],[{"t":"Plain","c":[{"t":"Str","c":"lazy,"},{"t":"Space"},{"t":"Str","c":"memoized"}]}]]]]},{"t":"Header","c":[3,["eval-as-a-monad",[],[]],[{"t":"Str","c":"Eval"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Monad"}]]},{"t":"Para","c":[{"t":"Str","c":"Like"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"monads,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval's"]},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"chain."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case,"},{"t":"Space"},{"t":"Str","c":"however,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"chain"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"stored"},{"t":"Space"},{"t":"Str","c":"explicitly"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"functions."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"aren’t"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"until"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Eval's"]},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"request"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"result:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval greeting = Eval\n  .always{ println(\"Step 1\"); \"Hello\" }\n  .map{ str => println(\"Step 2\"); s\"$str world\" }\n// greeting: Eval[String] = cats.Eval$$anon$4@2319703e\n\ngreeting.value\n// Step 1\n// Step 2\n// res16: String = \"Hello world\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that,"},{"t":"Space"},{"t":"Str","c":"while"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"originating"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"maintained,"},{"t":"SoftBreak"},{"t":"Str","c":"mapping"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"SoftBreak"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"lazily"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"demand"},{"t":"Space"},{"t":"Str","c":"("},{"t":"Code","c":[["",[],[]],"def"]},{"t":"Space"},{"t":"Str","c":"semantics):"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval ans = for {\n  a <- Eval.now{ println(\"Calculating A\"); 40 }\n  b <- Eval.always{ println(\"Calculating B\"); 2 }\n} yield {\n  println(\"Adding A and B\")\n  a + b\n}\n// Calculating A\n// ans: Eval[Int] = cats.Eval$$anon$4@2d0f2cbf\n\nans.value // first access\n// Calculating B\n// Adding A and B\n// res17: Int = 42 // first access\nans.value // second access\n// Calculating B\n// Adding A and B\n// res18: Int = 42\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"memoize"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"memoize"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"chain"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"computations."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"chain"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"memoize"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"cached,"},{"t":"SoftBreak"},{"t":"Str","c":"whereas"},{"t":"Space"},{"t":"Str","c":"calculations"},{"t":"Space"},{"t":"Str","c":"after"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"retain"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"original"},{"t":"Space"},{"t":"Str","c":"semantics:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval saying = Eval\n  .always{ println(\"Step 1\"); \"The cat\" }\n  .map{ str => println(\"Step 2\"); s\"$str sat on\" }\n  .memoize\n  .map{ str => println(\"Step 3\"); s\"$str the mat\" }\n// saying: Eval[String] = cats.Eval$$anon$4@ca01c64\n\nsaying.value // first access\n// Step 1\n// Step 2\n// Step 3\n// res19: String = \"The cat sat on the mat\" // first access\nsaying.value // second access\n// Step 3\n// res20: String = \"The cat sat on the mat\"\n\\end{lstlisting}"]},{"t":"Header","c":[3,["trampolining-and-eval.defer",[],[]],[{"t":"Str","c":"Trampolining"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"Eval.defer"}]}]]},{"t":"Para","c":[{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"property"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"trampolined"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"nest"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"arbitrarily"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"consuming"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"frames."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"property"},{"t":"Space"},{"t":"Emph","c":[{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safety"}]]}]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"consider"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"calculating"},{"t":"Space"},{"t":"Str","c":"factorials:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef factorial(n: BigInt): BigInt =\n  if(n == 1) n else n * factorial(n - 1)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"relatively"},{"t":"Space"},{"t":"Str","c":"easy"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"overflow:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfactorial(50000)\n// java.lang.StackOverflowError\n//   ...\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"rewrite"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safe:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef factorial(n: BigInt): Eval[BigInt] =\n  if(n == 1) {\n    Eval.now(n)\n  } else {\n    factorial(n - 1).map(_ * n)\n  }\n\nfactorial(50000).value\n// java.lang.StackOverflowError\n//   ...\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Oops!"},{"t":"Space"},{"t":"Str","c":"That"},{"t":"Space"},{"t":"Str","c":"didn’t"},{"t":"Space"},{"t":"Str","c":"work—our"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"still"},{"t":"Space"},{"t":"Str","c":"blew"},{"t":"Space"},{"t":"Str","c":"up!"},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"still"},{"t":"Space"},{"t":"Str","c":"making"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"recursive"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"factorial"]},{"t":"SoftBreak"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval's"]},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval.defer"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"takes"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"existing"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"defers"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"evaluation."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"defer"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"trampolined"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"quick"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"existing"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safe:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef factorial(n: BigInt): Eval[BigInt] =\n  if(n == 1) {\n    Eval.now(n)\n  } else {\n    Eval.defer(factorial(n - 1).map(_ * n))\n  }\n\nfactorial(50000).value\n// res: A very big value\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"tool"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"enforce"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safety"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"large"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"structures."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"bear"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"mind"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"trampolining"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"free."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"avoids"},{"t":"Space"},{"t":"Str","c":"consuming"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"chain"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"objects"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"heap."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"still"},{"t":"Space"},{"t":"Str","c":"limits"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"deeply"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"nest"},{"t":"Space"},{"t":"Str","c":"computations,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"bounded"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"size"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"heap"},{"t":"Space"},{"t":"Str","c":"rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack."}]},{"t":"Header","c":[3,["exercise-safer-folding-using-eval",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Safer"},{"t":"Space"},{"t":"Str","c":"Folding"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"Eval"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"naive"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"below"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safe."},{"t":"SoftBreak"},{"t":"Str","c":"Make"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef foldRight[A, B](as: List[A], acc: B)(fn: (A, B) => B): B =\n  as match {\n    case head :: tail =>\n      fn(head, foldRight(tail, acc)(fn))\n    case Nil =>\n      acc\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:991265e63ef72a8ad03c36fbe0c70781",""]]}]},{"t":"Header","c":[2,["writer-monad",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Writer"},{"t":"Space"},{"t":"Str","c":"Monad"}]]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data.Writer"]}],["http://typelevel.org/cats/api/cats/data/#Writer%5BS,A%5D=cats.data.WriterT%5Bcats.Eval,S,A%5D",""]]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"lets"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"carry"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"along"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"computation."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"record"},{"t":"Space"},{"t":"Str","c":"messages,"},{"t":"Space"},{"t":"Str","c":"errors,"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"additional"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"computation,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"extract"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"alongside"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"result."}]},{"t":"Para","c":[{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writers"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"SoftBreak"},{"t":"Str","c":"recording"},{"t":"Space"},{"t":"Str","c":"sequences"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"steps"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"multi-threaded"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"SoftBreak"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"imperative"},{"t":"Space"},{"t":"Str","c":"logging"},{"t":"Space"},{"t":"Str","c":"techniques"},{"t":"SoftBreak"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"interleaved"},{"t":"Space"},{"t":"Str","c":"messages"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"contexts."},{"t":"SoftBreak"},{"t":"Str","c":"With"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"tied"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"concurrent"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"mixing"},{"t":"Space"},{"t":"Str","c":"logs."}]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{InfoCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"Data"},{"t":"Space"},{"t":"Str","c":"Types"}]}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data"]}],["http://typelevel.org/cats/api/cats/data/",""]]},{"t":"Space"},{"t":"Str","c":"package."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"package"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"various"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"semantics."},{"t":"SoftBreak"},{"t":"Str","c":"Other"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.data"]},{"t":"Space"},{"t":"Str","c":"include"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"next"},{"t":"Space"},{"t":"Str","c":"chapter,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"Validated"]}],["http://typelevel.org/cats/api/cats/data/Validated.html",""]]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"encounter"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"6"},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\end{InfoCallout}"]}]]},{"t":"Header","c":[3,["creating-and-unpacking-writers",[],[]],[{"t":"Str","c":"Creating"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Unpacking"},{"t":"Space"},{"t":"Str","c":"Writers"}]]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer[W, A]"]},{"t":"Space"},{"t":"Str","c":"carries"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"values:"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"log"}]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"W"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"result"}]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.Writer\nimport cats.instances.vector._ // for Monoid\n\nWriter(Vector(\n  \"It was the best of times\",\n  \"it was the worst of times\"\n), 1859)\n// res0: cats.data.WriterT[cats.package.Id, Vector[String], Int] = WriterT(\n//   (Vector(\"It was the best of times\", \"it was the worst of times\"), 1859)\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Notice"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"reported"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"console"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"actually"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"WriterT[Id, Vector[String], Int]"]},{"t":"SoftBreak"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer[Vector[String], Int]"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"might"},{"t":"Space"},{"t":"Str","c":"expect."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"spirit"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"reuse,"},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"implements"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"type,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"WriterT"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"WriterT"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"concept"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformer"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"cover"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"next"},{"t":"Space"},{"t":"Str","c":"chapter."}]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ignore"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"detail"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"now."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"WriterT"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"read"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"WriterT[Id, W, A]"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer[W, A]"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype Writer[W, A] = WriterT[Id, W, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"convenience,"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writers"]},{"t":"SoftBreak"},{"t":"Str","c":"specifying"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"syntax."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid[W]"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"knows"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"empty"},{"t":"Space"},{"t":"Str","c":"log:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.vector._   // for Monoid\nimport cats.syntax.applicative._ // for pure\n\ntype Logged[A] = Writer[Vector[String], A]\n\n123.pure[Logged]\n// res1: Logged[Int] = WriterT((Vector(), 123))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer[Unit]"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tell"]},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.writer"]}],["http://typelevel.org/cats/api/cats/syntax/package$$writer$",""]]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.writer._ // for tell\n\nVector(\"msg1\", \"msg2\", \"msg3\").tell\n// res2: Writer[Vector[String], Unit] = WriterT(\n//   (Vector(\"msg1\", \"msg2\", \"msg3\"), ())\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"log,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer.apply"]},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"writer"]},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.writer"]}],["http://typelevel.org/cats/api/cats/syntax/package$$writer$",""]]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.writer._ // for writer\n\nval a = Writer(Vector(\"msg1\", \"msg2\", \"msg3\"), 123)\n// a: cats.data.WriterT[cats.package.Id, Vector[String], Int] = WriterT(\n//   (Vector(\"msg1\", \"msg2\", \"msg3\"), 123)\n// )\nval b = 123.writer(Vector(\"msg1\", \"msg2\", \"msg3\"))\n// b: Writer[Vector[String], Int] = WriterT(\n//   (Vector(\"msg1\", \"msg2\", \"msg3\"), 123)\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"extract"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"written"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"respectively:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval aResult: Int =\n  a.value\n// aResult: Int = 123\nval aLog: Vector[String] =\n  a.written\n// aLog: Vector[String] = Vector(\"msg1\", \"msg2\", \"msg3\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"extract"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"run"]},{"t":"Space"},{"t":"Str","c":"method:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval (log, result) = b.run\n// log: Vector[String] = Vector(\"msg1\", \"msg2\", \"msg3\")\n// result: Int = 123\n\\end{lstlisting}"]},{"t":"Header","c":[3,["composing-and-transforming-writers",[],[]],[{"t":"Str","c":"Composing"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Transforming"},{"t":"Space"},{"t":"Str","c":"Writers"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"preserved"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"it."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"appends"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"logs"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"source"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"user’s"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"function."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"reason"},{"t":"Space"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"practice"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"efficient"},{"t":"Space"},{"t":"Str","c":"append"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"concatenate"},{"t":"Space"},{"t":"Str","c":"operations,"},{"t":"SoftBreak"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval writer1 = for {\n  a <- 10.pure[Logged]\n  _ <- Vector(\"a\", \"b\", \"c\").tell\n  b <- 32.writer(Vector(\"x\", \"y\", \"z\"))\n} yield a + b\n// writer1: cats.data.WriterT[cats.package.Id, Vector[String], Int] = WriterT(\n//   (Vector(\"a\", \"b\", \"c\", \"x\", \"y\", \"z\"), 42)\n// )\n\nwriter1.run\n// res3: (Vector[String], Int) = (Vector(\"a\", \"b\", \"c\", \"x\", \"y\", \"z\"), 42)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"transforming"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"mapWritten"]},{"t":"Space"},{"t":"Str","c":"method:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval writer2 = writer1.mapWritten(_.map(_.toUpperCase))\n// writer2: cats.data.WriterT[cats.package.Id, Vector[String], Int] = WriterT(\n//   (Vector(\"A\", \"B\", \"C\", \"X\", \"Y\", \"Z\"), 42)\n// )\n\nwriter2.run\n// res4: (Vector[String], Int) = (Vector(\"A\", \"B\", \"C\", \"X\", \"Y\", \"Z\"), 42)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"simultaneously"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"bimap"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"mapBoth"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"bimap"]},{"t":"Space"},{"t":"Str","c":"takes"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"parameters,"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"mapBoth"]},{"t":"Space"},{"t":"Str","c":"takes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"parameters:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval writer3 = writer1.bimap(\n  log => log.map(_.toUpperCase),\n  res => res * 100\n)\n// writer3: cats.data.WriterT[cats.package.Id, Vector[String], Int] = WriterT(\n//   (Vector(\"A\", \"B\", \"C\", \"X\", \"Y\", \"Z\"), 4200)\n// )\n\nwriter3.run\n// res5: (Vector[String], Int) = (Vector(\"A\", \"B\", \"C\", \"X\", \"Y\", \"Z\"), 4200)\n\nval writer4 = writer1.mapBoth { (log, res) =>\n  val log2 = log.map(_ + \"!\")\n  val res2 = res * 1000\n  (log2, res2)\n}\n// writer4: cats.data.WriterT[cats.package.Id, Vector[String], Int] = WriterT(\n//   (Vector(\"a!\", \"b!\", \"c!\", \"x!\", \"y!\", \"z!\"), 42000)\n// )\n\nwriter4.run\n// res6: (Vector[String], Int) = (\n//   Vector(\"a!\", \"b!\", \"c!\", \"x!\", \"y!\", \"z!\"),\n//   42000\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"clear"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"reset"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"swap"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"swap"]},{"t":"Space"},{"t":"Str","c":"method:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval writer5 = writer1.reset\n// writer5: cats.data.WriterT[cats.package.Id, Vector[String], Int] = WriterT(\n//   (Vector(), 42)\n// )\n\nwriter5.run\n// res7: (Vector[String], Int) = (Vector(), 42)\n\nval writer6 = writer1.swap\n// writer6: cats.data.WriterT[cats.package.Id, Int, Vector[String]] = WriterT(\n//   (42, Vector(\"a\", \"b\", \"c\", \"x\", \"y\", \"z\"))\n// )\n\nwriter6.run\n// res8: (Int, Vector[String]) = (42, Vector(\"a\", \"b\", \"c\", \"x\", \"y\", \"z\"))\n\\end{lstlisting}"]},{"t":"Header","c":[3,["exercise-show-your-working",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Show"},{"t":"Space"},{"t":"Str","c":"Your"},{"t":"Space"},{"t":"Str","c":"Working"}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Writers"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"logging"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"multi-threaded"},{"t":"Space"},{"t":"Str","c":"environments."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"confirm"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"computing"},{"t":"Space"},{"t":"Str","c":"(and"},{"t":"Space"},{"t":"Str","c":"logging)"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"factorials."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"factorial"]},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"below"},{"t":"Space"},{"t":"Str","c":"computes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"factorial"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"prints"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Str","c":"steps"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"runs."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"slowly"]},{"t":"Space"},{"t":"Str","c":"helper"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"ensures"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"takes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"while"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"run,"},{"t":"SoftBreak"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"small"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"below:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef slowly[A](body: => A) =\n  try body finally Thread.sleep(100)\n\ndef factorial(n: Int): Int = {\n  val ans = slowly(if(n == 0) 1 else n * factorial(n - 1))\n  println(s\"fact $n $ans\")\n  ans\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"output—a"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"monotonically"},{"t":"Space"},{"t":"Str","c":"increasing"},{"t":"Space"},{"t":"Str","c":"values:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfactorial(5)\n// fact 0 1\n// fact 1 1\n// fact 2 2\n// fact 3 6\n// fact 4 24\n// fact 5 120\n// res9: Int = 120\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"several"},{"t":"Space"},{"t":"Str","c":"factorials"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"parallel,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"messages"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"become"},{"t":"Space"},{"t":"Str","c":"interleaved"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"out."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"difficult"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"messages"},{"t":"Space"},{"t":"Str","c":"come"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"computation:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.concurrent._\nimport scala.concurrent.ExecutionContext.Implicits._\nimport scala.concurrent.duration._\n\nAwait.result(Future.sequence(Vector(\n  Future(factorial(5)),\n  Future(factorial(5))\n)), 5.seconds)\n// fact 0 1\n// fact 0 1\n// fact 1 1\n// fact 1 1\n// fact 2 2\n// fact 2 2\n// fact 3 6\n// fact 3 6\n// fact 4 24\n// fact 4 24\n// fact 5 120\n// fact 5 120\n// res: scala.collection.immutable.Vector[Int] =\n//   Vector(120, 120)\n\\end{lstlisting}"]},{"t":"RawBlock","c":["html","<!--\nHACK: tut isn't capturing stdout from the threads above,\nso i gone done hacked it.\n-->"]},{"t":"Para","c":[{"t":"Str","c":"Rewrite"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"factorial"]},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"captures"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"messages"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Demonstrate"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"reliably"},{"t":"Space"},{"t":"Str","c":"separate"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"logs"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"concurrent"},{"t":"Space"},{"t":"Str","c":"computations."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:3d509df51451cc252db384725b30d734",""]]}]},{"t":"Header","c":[2,["sec:monads:reader",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Reader"},{"t":"Space"},{"t":"Str","c":"Monad"}]]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data.Reader"]}],["http://typelevel.org/cats/api/cats/data/?search=reader#Reader%5BA,B%5D=cats.data.package.ReaderT%5Bcats.Id,A,B%5D",""]]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"depend"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"input."},{"t":"SoftBreak"},{"t":"Str","c":"Instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"Space"},{"t":"Str","c":"wrap"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"argument,"},{"t":"SoftBreak"},{"t":"Str","c":"providing"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"composing"},{"t":"Space"},{"t":"Str","c":"them."}]},{"t":"Para","c":[{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Readers"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"dependency"},{"t":"Space"},{"t":"Str","c":"injection."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"depend"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"external"},{"t":"Space"},{"t":"Str","c":"configuration,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"chain"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"large"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"configuration"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"runs"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"specified."}]},{"t":"Header","c":[3,["creating-and-unpacking-readers",[],[]],[{"t":"Str","c":"Creating"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Unpacking"},{"t":"Space"},{"t":"Str","c":"Readers"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader[A, B]"]},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader.apply"]},{"t":"Space"},{"t":"Str","c":"constructor:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.Reader\n\nfinal case class Cat(name: String, favoriteFood: String)\n\nval catName: Reader[Cat, String] =\n  Reader(cat => cat.name)\n// catName: Reader[Cat, String] = Kleisli(<function1>)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"extract"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"again"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader's"]},{"t":"Space"},{"t":"Code","c":[["",[],[]],"run"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"usual:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ncatName.run(Cat(\"Garfield\", \"lasagne\"))\n// res1: cats.package.Id[String] = \"Garfield\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"So"},{"t":"Space"},{"t":"Str","c":"far"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"simple,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"advantage"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Readers"]},{"t":"Space"},{"t":"Str","c":"give"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"raw"},{"t":"Space"},{"t":"Str","c":"functions?"}]},{"t":"Header","c":[3,["composing-readers",[],[]],[{"t":"Str","c":"Composing"},{"t":"Space"},{"t":"Str","c":"Readers"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"power"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Readers"]},{"t":"Space"},{"t":"Str","c":"comes"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"kinds"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"composition."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"typically"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Readers"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"configuration,"},{"t":"SoftBreak"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"run"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"inject"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"config"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"end."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"passing"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval greetKitty: Reader[Cat, String] =\n  catName.map(name => s\"Hello ${name}\")\n\ngreetKitty.run(Cat(\"Heathcliff\", \"junk food\"))\n// res2: cats.package.Id[String] = \"Hello Heathcliff\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"interesting."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"readers"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"depend"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"illustrate"},{"t":"Space"},{"t":"Str","c":"this,"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"extend"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"greeting"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"feed"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"cat:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval feedKitty: Reader[Cat, String] =\n  Reader(cat => s\"Have a nice bowl of ${cat.favoriteFood}\")\n\nval greetAndFeed: Reader[Cat, String] =\n  for {\n    greet <- greetKitty\n    feed  <- feedKitty\n  } yield s\"$greet. $feed.\"\n\ngreetAndFeed(Cat(\"Garfield\", \"lasagne\"))\n// res3: cats.package.Id[String] = \"Hello Garfield. Have a nice bowl of lasagne.\"\ngreetAndFeed(Cat(\"Heathcliff\", \"junk food\"))\n// res4: cats.package.Id[String] = \"Hello Heathcliff. Have a nice bowl of junk food.\"\n\\end{lstlisting}"]},{"t":"Header","c":[3,["exercise-hacking-on-readers",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Hacking"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"Readers"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"classic"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Readers"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"programs"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"configuration"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"ground"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"login"},{"t":"Space"},{"t":"Str","c":"system."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"configuration"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"consist"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"databases:"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"valid"},{"t":"Space"},{"t":"Str","c":"users"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"passwords:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class Db(\n  usernames: Map[Int, String],\n  passwords: Map[String, String]\n)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"DbReader"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"consumes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Db"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"input."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"rest"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"shorter."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:287e377f46dc50175a0a1e5d9e6ed2df",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"generate"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"DbReaders"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"username"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"ID,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"SoftBreak"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"password"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Space"},{"t":"Str","c":"username."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"signatures"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef findUsername(userId: Int): DbReader[Option[String]] =\n  ???\n\ndef checkPassword(\n      username: String,\n      password: String): DbReader[Boolean] =\n  ???\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:ce4c4e81b43f5a500d6480c7f118900a",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Finally"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"checkLogin"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"password"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"given"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"ID."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"signature"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef checkLogin(\n      userId: Int,\n      password: String): DbReader[Boolean] =\n  ???\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:e673a8c47a33b909b5e1671f9fba2412",""]]}]},{"t":"Para","c":[{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"checkLogin"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval users = Map(\n  1 -> \"dade\",\n  2 -> \"kate\",\n  3 -> \"margo\"\n)\n\nval passwords = Map(\n  \"dade\"  -> \"zerocool\",\n  \"kate\"  -> \"acidburn\",\n  \"margo\" -> \"secret\"\n)\n\nval db = Db(users, passwords)\n\ncheckLogin(1, \"zerocool\").run(db)\n// res7: cats.package.Id[Boolean] = true\ncheckLogin(4, \"davinci\").run(db)\n// res8: cats.package.Id[Boolean] = false\n\\end{lstlisting}"]},{"t":"Header","c":[3,["when-to-use-readers",[],[]],[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Use"},{"t":"Space"},{"t":"Str","c":"Readers?"}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Readers"]},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"tool"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"doing"},{"t":"Space"},{"t":"Str","c":"dependency"},{"t":"Space"},{"t":"Str","c":"injection."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"steps"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"chain"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"dependency"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"input."}]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"ways"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"implementing"},{"t":"Space"},{"t":"Str","c":"dependency"},{"t":"Space"},{"t":"Str","c":"injection"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala,"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"techniques"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"multiple"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"lists,"},{"t":"SoftBreak"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes,"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"complex"},{"t":"Space"},{"t":"Str","c":"techniques"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"cake"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"DI"},{"t":"Space"},{"t":"Str","c":"frameworks."}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Readers"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"situations"},{"t":"Space"},{"t":"Str","c":"where:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"constructing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"easily"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"represented"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function;"}]}],[{"t":"Para","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"defer"},{"t":"Space"},{"t":"Str","c":"injection"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"known"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"parameters;"}]}],[{"t":"Para","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"SoftBreak"},{"t":"Str","c":"parts"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"isolation."}]}]]},{"t":"Para","c":[{"t":"Str","c":"By"},{"t":"Space"},{"t":"Str","c":"representing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"steps"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Readers"]},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"easily"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"pure"},{"t":"Space"},{"t":"Str","c":"functions,"},{"t":"SoftBreak"},{"t":"Str","c":"plus"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"gain"},{"t":"Space"},{"t":"Str","c":"access"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"combinators."}]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"complicated"},{"t":"Space"},{"t":"Str","c":"problems"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"lots"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"dependencies,"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"Space"},{"t":"Str","c":"isn’t"},{"t":"Space"},{"t":"Str","c":"easily"},{"t":"Space"},{"t":"Str","c":"represented"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"pure"},{"t":"Space"},{"t":"Str","c":"function,"},{"t":"SoftBreak"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"dependency"},{"t":"Space"},{"t":"Str","c":"injection"},{"t":"Space"},{"t":"Str","c":"techniques"},{"t":"Space"},{"t":"Str","c":"tend"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"appropriate."}]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{WarningCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Kleisli"},{"t":"Space"},{"t":"Str","c":"Arrows"}]}]},{"t":"Para","c":[{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"noticed"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"console"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Emph","c":[{"t":"Str","c":"Kleisli"},{"t":"Space"},{"t":"Str","c":"arrows"}]},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"generalise"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"encounter"},{"t":"Space"},{"t":"Str","c":"Kleislis"},{"t":"Space"},{"t":"Str","c":"again"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"5"},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\end{WarningCallout}"]}]]},{"t":"Header","c":[2,["the-state-monad",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"State"},{"t":"Space"},{"t":"Str","c":"Monad"}]]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data.State"]}],["http://typelevel.org/cats/api/cats/data/#State%5BS,A%5D=cats.data.StateT%5Bcats.Eval,S,A%5D",""]]},{"t":"SoftBreak"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"pass"},{"t":"Space"},{"t":"Str","c":"additional"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"part"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"computation."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"representing"},{"t":"Space"},{"t":"Str","c":"atomic"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"thread"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"mutable"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"purely"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"way,"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"actual"},{"t":"Space"},{"t":"Str","c":"mutation."}]},{"t":"Header","c":[3,["creating-and-unpacking-state",[],[]],[{"t":"Str","c":"Creating"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Unpacking"},{"t":"Space"},{"t":"Str","c":"State"}]]},{"t":"Para","c":[{"t":"Str","c":"Boiled"},{"t":"Space"},{"t":"Str","c":"down"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"simplest"},{"t":"Space"},{"t":"Str","c":"form,"},{"t":"SoftBreak"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State[S, A]"]},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"S => (S, A)"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"S"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.State\n\nval a = State[Int, String]{ state =>\n  (state, s\"The state is $state\")\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"words,"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"things:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"transforms"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"state;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"computes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"result."}]}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"run"}]]},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"supplying"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"initial"},{"t":"Space"},{"t":"Str","c":"state."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"methods—"},{"t":"Code","c":[["",[],[]],"run"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"runS"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"runA"]},{"t":"Str","c":"—that"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"SoftBreak"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"combinations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"result."},{"t":"SoftBreak"},{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"maintain"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safety."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"usual"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"extract"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"actual"},{"t":"Space"},{"t":"Str","c":"result:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// Get the state and the result:\nval (state, result) = a.run(10).value\n// state: Int = 10\n// result: String = \"The state is 10\"\n\n// Get the state, ignore the result:\nval justTheState = a.runS(10).value\n// justTheState: Int = 10\n\n// Get the result, ignore the state:\nval justTheResult = a.runA(10).value\n// justTheResult: String = \"The state is 10\"\n\\end{lstlisting}"]},{"t":"Header","c":[3,["composing-and-transforming-state",[],[]],[{"t":"Str","c":"Composing"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Transforming"},{"t":"Space"},{"t":"Str","c":"State"}]]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"power"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"comes"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"combining"},{"t":"Space"},{"t":"Str","c":"instances."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"thread"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"another."},{"t":"SoftBreak"},{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"individual"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"atomic"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"transformation,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"combination"},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"changes:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval step1 = State[Int, String]{ num =>\n  val ans = num + 1\n  (ans, s\"Result of step1: $ans\")\n}\n\nval step2 = State[Int, String]{ num =>\n  val ans = num * 2\n  (ans, s\"Result of step2: $ans\")\n}\n\nval both = for {\n  a <- step1\n  b <- step2\n} yield (a, b)\n\nval (state, result) = both.run(20).value\n// state: Int = 42\n// result: (String, String) = (\"Result of step1: 21\", \"Result of step2: 42\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"see,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"applying"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"transformations"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"sequence."},{"t":"SoftBreak"},{"t":"Str","c":"State"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"threaded"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"SoftBreak"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"though"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"interact"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehension."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"compose"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"steps"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"operators."},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"several"},{"t":"Space"},{"t":"Str","c":"convenience"},{"t":"Space"},{"t":"Str","c":"constructors"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"primitive"},{"t":"Space"},{"t":"Str","c":"steps:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"get"]},{"t":"Space"},{"t":"Str","c":"extracts"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result;"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"set"]},{"t":"Space"},{"t":"Str","c":"updates"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"unit"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result;"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"ignores"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"supplied"},{"t":"Space"},{"t":"Str","c":"result;"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"inspect"]},{"t":"Space"},{"t":"Str","c":"extracts"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"transformation"},{"t":"Space"},{"t":"Str","c":"function;"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"modify"]},{"t":"Space"},{"t":"Str","c":"updates"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"update"},{"t":"Space"},{"t":"Str","c":"function."}]}]]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval getDemo = State.get[Int]\n// getDemo: State[Int, Int] = cats.data.IndexedStateT@741518c8\ngetDemo.run(10).value\n// res1: (Int, Int) = (10, 10)\n\nval setDemo = State.set[Int](30)\n// setDemo: State[Int, Unit] = cats.data.IndexedStateT@509fb0a\nsetDemo.run(10).value\n// res2: (Int, Unit) = (30, ())\n\nval pureDemo = State.pure[Int, String](\"Result\")\n// pureDemo: State[Int, String] = cats.data.IndexedStateT@562ae0a8\npureDemo.run(10).value\n// res3: (Int, String) = (10, \"Result\")\n\nval inspectDemo = State.inspect[Int, String](x => s\"${x}!\")\n// inspectDemo: State[Int, String] = cats.data.IndexedStateT@2dc6b50f\ninspectDemo.run(10).value\n// res4: (Int, String) = (10, \"10!\")\n\nval modifyDemo = State.modify[Int](_ + 1)\n// modifyDemo: State[Int, Unit] = cats.data.IndexedStateT@71c93b27\nmodifyDemo.run(10).value\n// res5: (Int, Unit) = (11, ())\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"assemble"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"blocks"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehension."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"typically"},{"t":"Space"},{"t":"Str","c":"ignore"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Str","c":"stages"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"transformations"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"state:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.State\nimport State._\n\nval program: State[Int, (Int, Int, Int)] = for {\n  a <- get[Int]\n  _ <- set[Int](a + 1)\n  b <- get[Int]\n  _ <- modify[Int](_ + 1)\n  c <- inspect[Int, Int](_ * 1000)\n} yield (a, b, c)\n// program: State[Int, (Int, Int, Int)] = cats.data.IndexedStateT@3b525fbf\n\nval (state, result) = program.run(1).value\n// state: Int = 3\n// result: (Int, Int, Int) = (1, 2, 3000)\n\\end{lstlisting}"]},{"t":"Header","c":[3,["exercise-post-order-calculator",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Post-Order"},{"t":"Space"},{"t":"Str","c":"Calculator"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"SoftBreak"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"interpreters"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"complex"},{"t":"Space"},{"t":"Str","c":"expressions,"},{"t":"SoftBreak"},{"t":"Str","c":"passing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"mutable"},{"t":"Space"},{"t":"Str","c":"registers"},{"t":"Space"},{"t":"Str","c":"along"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"implementing"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"calculator"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"post-order"},{"t":"Space"},{"t":"Str","c":"integer"},{"t":"Space"},{"t":"Str","c":"arithmetic"},{"t":"Space"},{"t":"Str","c":"expressions."}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"haven’t"},{"t":"Space"},{"t":"Str","c":"heard"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"post-order"},{"t":"Space"},{"t":"Str","c":"expressions"},{"t":"Space"},{"t":"Str","c":"before"},{"t":"SoftBreak"},{"t":"Str","c":"(don’t"},{"t":"Space"},{"t":"Str","c":"worry"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"haven’t),"},{"t":"SoftBreak"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"mathematical"},{"t":"Space"},{"t":"Str","c":"notation"},{"t":"SoftBreak"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"operator"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"after"}]},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"operands."},{"t":"SoftBreak"},{"t":"Str","c":"So,"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"1 + 2"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"write:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n1 2 +\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Although"},{"t":"Space"},{"t":"Str","c":"post-order"},{"t":"Space"},{"t":"Str","c":"expressions"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"difficult"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"humans"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"read,"},{"t":"SoftBreak"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"easy"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"evaluate"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"traverse"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"symbols"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"left"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"right,"},{"t":"SoftBreak"},{"t":"Str","c":"carrying"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"stack"}]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"operands"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"go:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"number,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"push"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"onto"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack;"}]}],[{"t":"Para","c":[{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"operator,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"pop"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"operands"},{"t":"Space"},{"t":"Str","c":"off"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack,"},{"t":"SoftBreak"},{"t":"Str","c":"operate"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"them,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"push"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"place."}]}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"evaluate"},{"t":"Space"},{"t":"Str","c":"complex"},{"t":"Space"},{"t":"Str","c":"expressions"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"parentheses."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"evaluate"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"(1 + 2) * 3)"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n1 2 + 3 * // see 1, push onto stack\n2 + 3 *   // see 2, push onto stack\n+ 3 *     // see +, pop 1 and 2 off of stack,\n          //        push (1 + 2) = 3 in their place\n3 3 *     // see 3, push onto stack\n3 *       // see 3, push onto stack\n*         // see *, pop 3 and 3 off of stack,\n          //        push (3 * 3) = 9 in their place\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"interpreter"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"expressions."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"parse"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"symbol"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"SoftBreak"},{"t":"Str","c":"representing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"transformation"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Str","c":"result."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"threaded"},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"interpreter"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"symbols."}]},{"t":"Para","c":[{"t":"Str","c":"Start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalOne"]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"parses"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"symbol"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"below"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"template."},{"t":"SoftBreak"},{"t":"Str","c":"Don’t"},{"t":"Space"},{"t":"Str","c":"worry"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"now—if"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"wrong"},{"t":"Space"},{"t":"Str","c":"configuration,"},{"t":"SoftBreak"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"OK"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"throw"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"exception."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.State\n\ntype CalcState[A] = State[List[Int], A]\n\ndef evalOne(sym: String): CalcState[Int] = ???\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"seems"},{"t":"Space"},{"t":"Str","c":"difficult,"},{"t":"SoftBreak"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"basic"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"you’re"},{"t":"Space"},{"t":"Str","c":"returning."},{"t":"SoftBreak"},{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"transformation"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"pair"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"result."},{"t":"SoftBreak"},{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"ignore"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"wider"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"focus"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"step:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nState[List[Int], Int] { oldStack =>\n  val newStack = someTransformation(oldStack)\n  val result   = someCalculation\n  (newStack, result)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Feel"},{"t":"Space"},{"t":"Str","c":"free"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Stack"]},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"sequences"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"convenience"},{"t":"Space"},{"t":"Str","c":"constructors"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"above."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:ab13ca9c64951097a9fcd78ff67c1152",""]]}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"evalOne"]},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"evaluate"},{"t":"Space"},{"t":"Str","c":"single-symbol"},{"t":"Space"},{"t":"Str","c":"expressions"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"runA"]},{"t":"Space"},{"t":"Str","c":"supplying"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Nil"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"initial"},{"t":"Space"},{"t":"Str","c":"stack,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"unpack"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"resulting"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"instance:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nevalOne(\"42\").runA(Nil).value\n// res10: Int = 42\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"complex"},{"t":"Space"},{"t":"Str","c":"programs"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalOne"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"happening"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"ignore"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Str","c":"steps"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalOne(\"1\")"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalOne(\"2\")"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval program = for {\n  _   <- evalOne(\"1\")\n  _   <- evalOne(\"2\")\n  ans <- evalOne(\"+\")\n} yield ans\n// program: cats.data.IndexedStateT[cats.Eval, List[Int], List[Int], Int] = cats.data.IndexedStateT@3afcc7dd\n\nprogram.runA(Nil).value\n// res11: Int = 3\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Generalise"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalAll"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"computes"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[String]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalOne"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"process"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"symbol,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"thread"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"resulting"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Your"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"signature:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef evalAll(input: List[String]): CalcState[Int] =\n  ???\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:99343a0995dde7786b81a0d048985a7a",""]]}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalAll"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"conveniently"},{"t":"Space"},{"t":"Str","c":"evaluate"},{"t":"Space"},{"t":"Str","c":"multi-stage"},{"t":"Space"},{"t":"Str","c":"expressions:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval multistageProgram = evalAll(List(\"1\", \"2\", \"+\", \"3\", \"*\"))\n// multistageProgram: CalcState[Int] = cats.data.IndexedStateT@228a6340\n\nmultistageProgram.runA(Nil).value\n// res13: Int = 9\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Because"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalOne"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalAll"]},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"thread"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"evalOne"]},{"t":"Space"},{"t":"Str","c":"produces"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"transformation"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"evalAll"]},{"t":"Space"},{"t":"Str","c":"produces"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"complex"},{"t":"Space"},{"t":"Str","c":"one,"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"they’re"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"pure"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"times"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"like:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval biggerProgram = for {\n  _   <- evalAll(List(\"1\", \"2\", \"+\"))\n  _   <- evalAll(List(\"3\", \"4\", \"+\"))\n  ans <- evalOne(\"*\")\n} yield ans\n// biggerProgram: cats.data.IndexedStateT[cats.Eval, List[Int], List[Int], Int] = cats.data.IndexedStateT@1a227435\n\nbiggerProgram.runA(Nil).value\n// res14: Int = 21\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Complete"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"exercise"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"implementing"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalInput"]},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"splits"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"symbols,"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalAll"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"runs"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"initial"},{"t":"Space"},{"t":"Str","c":"stack."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:26dcabd4e4d756e91d0b00e08514844b",""]]}]},{"t":"Header","c":[2,["defining-custom-monads",[],[]],[{"t":"Str","c":"Defining"},{"t":"Space"},{"t":"Str","c":"Custom"},{"t":"Space"},{"t":"Str","c":"Monads"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"custom"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"providing"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"methods:"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"haven’t"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"yet"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monad\nimport scala.annotation.tailrec\n\nval optionMonad = new Monad[Option] {\n  def flatMap[A, B](opt: Option[A])\n      (fn: A => Option[B]): Option[B] =\n    opt flatMap fn\n\n  def pure[A](opt: A): Option[A] =\n    Some(opt)\n\n  @tailrec\n  def tailRecM[A, B](a: A)\n      (fn: A => Option[Either[A, B]]): Option[B] =\n    fn(a) match {\n      case None           => None\n      case Some(Left(a1)) => tailRecM(a1)(fn)\n      case Some(Right(b)) => Some(b)\n    }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"optimisation"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"limit"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"amount"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"space"},{"t":"Space"},{"t":"Str","c":"consumed"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"nested"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"technique"},{"t":"Space"},{"t":"Str","c":"comes"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"2015"},{"t":"Space"},{"t":"Str","c":"paper"}],["http://functorial.com/stack-safety-for-free/index.pdf",""]]},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"PureScript"},{"t":"Space"},{"t":"Str","c":"creator"},{"t":"Space"},{"t":"Str","c":"Phil"},{"t":"Space"},{"t":"Str","c":"Freeman."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"recursively"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"itself"},{"t":"SoftBreak"},{"t":"Str","c":"until"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"fn"]},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Right"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"motivate"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"example:"},{"t":"SoftBreak"},{"t":"Str","c":"Suppose"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"SoftBreak"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"until"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"indicates"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"stop."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"because,"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"know,"},{"t":"SoftBreak"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"notion"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"stopping."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.flatMap._ // For flatMap\n\ndef retry[F[_]: Monad, A](start: A)(f: A => F[A]): F[A] =\n  f(start).flatMap{ a =>\n    retry(a)(f)\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Unfortunately"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"stack-safe."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"small"},{"t":"Space"},{"t":"Str","c":"input."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.option._\n\nretry(100)(a => if(a == 0) None else Some(a - 1))\n// res1: Option[Int] = None\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"large"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"StackOverflowError"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nretry(100000)(a => if(a == 0) None else Some(a - 1))\n// KABLOOIE!!!!\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"rewrite"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.functor._ // for map\n\ndef retryTailRecM[F[_]: Monad, A](start: A)(f: A => F[A]): F[A] =\n  Monad[F].tailRecM(start){ a =>\n    f(a).map(a2 => Left(a2))\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"runs"},{"t":"Space"},{"t":"Str","c":"successfully"},{"t":"SoftBreak"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"matter"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"recurse."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nretryTailRecM(100000)(a => if(a == 0) None else Some(a - 1))\n// res2: Option[Int] = None\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"important"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"note"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"explicitly"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"isn’t"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"transformation"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"non-tail"},{"t":"Space"},{"t":"Str","c":"recursive"},{"t":"SoftBreak"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"tail"},{"t":"Space"},{"t":"Str","c":"recursive"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"several"},{"t":"Space"},{"t":"Str","c":"utilities"},{"t":"SoftBreak"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"kinds"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"easier"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"write."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"rewrite"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"retry"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"iterateWhileM"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"explicitly"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.monad._ // for iterateWhileM\n\ndef retryM[F[_]: Monad, A](start: A)(f: A => F[A]): F[A] =\n  start.iterateWhileM(f)(a => true)\n\nretryM(100000)(a => if(a == 0) None else Some(a - 1))\n// res3: Option[Int] = None\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"7.1"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"built-in"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"SoftBreak"},{"t":"Str","c":"tail-recursive"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"although"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"custom"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"SoftBreak"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"challenge…"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"shall"},{"t":"Space"},{"t":"Str","c":"see."}]},{"t":"Header","c":[3,["exercise-branching-out-further-with-monads",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Branching"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"Further"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Monads"}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Tree"]},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"last"},{"t":"Space"},{"t":"Str","c":"chapter."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"again:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsealed trait Tree[+A]\n\nfinal case class Branch[A](left: Tree[A], right: Tree[A])\n  extends Tree[A]\n\nfinal case class Leaf[A](value: A) extends Tree[A]\n\ndef branch[A](left: Tree[A], right: Tree[A]): Tree[A] =\n  Branch(left, right)\n\ndef leaf[A](value: A): Tree[A] =\n  Leaf(value)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Verify"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Branch"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Leaf"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Str","c":"-like"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"free."}]},{"t":"Para","c":[{"t":"Str","c":"Also"},{"t":"Space"},{"t":"Str","c":"verify"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"having"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehensions,"},{"t":"SoftBreak"},{"t":"Str","c":"despite"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"fact"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"haven’t"},{"t":"Space"},{"t":"Str","c":"directly"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Tree"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Don’t"},{"t":"Space"},{"t":"Str","c":"feel"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Space"},{"t":"Str","c":"tail-recursive."},{"t":"SoftBreak"},{"t":"Str","c":"Doing"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"quite"},{"t":"Space"},{"t":"Str","c":"difficult."},{"t":"SoftBreak"},{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"included"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"tail-recursive"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"non-tail-recursive"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"solutions"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"work."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:4ca8842a5f80939f67ec3e126ef25aa3",""]]}]},{"t":"Header","c":[2,["summary-3",[],[]],[{"t":"Str","c":"Summary"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"up-close."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"viewed"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"operator"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"computations,"},{"t":"SoftBreak"},{"t":"Str","c":"dictating"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"happen."},{"t":"SoftBreak"},{"t":"Str","c":"From"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"viewpoint,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"message,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"message,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"multiple"},{"t":"Space"},{"t":"Str","c":"possible"},{"t":"Space"},{"t":"Str","c":"results,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"point"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"future."}]},{"t":"Para","c":[{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"custom"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"structures"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides,"},{"t":"SoftBreak"},{"t":"Str","c":"including"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"cover"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"wide"},{"t":"Space"},{"t":"Str","c":"range"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"cases."}]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"unlikely"},{"t":"Space"},{"t":"Str","c":"event"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"custom"},{"t":"Space"},{"t":"Str","c":"monad,"},{"t":"SoftBreak"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"learned"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"odd"},{"t":"Space"},{"t":"Str","c":"wrinkle"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"concession"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"stack-safe"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"default."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"understand"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"understand"},{"t":"Space"},{"t":"Str","c":"monads,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"having"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"benefits"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"grateful"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"monadic"},{"t":"Space"},{"t":"Str","c":"code."}]},{"t":"Header","c":[1,["sec:monad-transformers",[],[]],[{"t":"Str","c":"Monad"},{"t":"Space"},{"t":"Str","c":"Transformers"}]]},{"t":"Para","c":[{"t":"Str","c":"Monads"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"burritos"}],["http://blog.plover.com/prog/burritos.html",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"once"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"acquire"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"taste,"},{"t":"SoftBreak"},{"t":"Str","c":"you’ll"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"yourself"},{"t":"Space"},{"t":"Str","c":"returning"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"again"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"again."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"issues."},{"t":"SoftBreak"},{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"burritos"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"bloat"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"waist,"},{"t":"SoftBreak"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"bloat"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"base"},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"nested"},{"t":"Space"},{"t":"Str","c":"for-comprehensions."}]},{"t":"Para","c":[{"t":"Str","c":"Imagine"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"interacting"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"database."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"record."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"present,"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[User]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"communication"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"database"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"reasons"},{"t":"SoftBreak"},{"t":"Str","c":"(network"},{"t":"Space"},{"t":"Str","c":"issues,"},{"t":"Space"},{"t":"Str","c":"authentication"},{"t":"Space"},{"t":"Str","c":"problems,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"on),"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"wrapped"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"giving"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either[Error, Option[User]]"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"nest"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"SoftBreak"},{"t":"Str","c":"(or"},{"t":"Space"},{"t":"Str","c":"equivalently,"},{"t":"Space"},{"t":"Str","c":"for-comprehensions):"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef lookupUserName(id: Long): Either[Error, Option[String]] =\n  for {\n    optUser <- lookupUser(id)\n  } yield {\n    for { user <- optUser } yield user.name\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"quickly"},{"t":"Space"},{"t":"Str","c":"becomes"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"tedious."}]},{"t":"Header","c":[2,["exercise-composing-monads",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Composing"},{"t":"Space"},{"t":"Str","c":"Monads"}]]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"question"},{"t":"Space"},{"t":"Str","c":"arises."},{"t":"SoftBreak"},{"t":"Str","c":"Given"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"arbitrary"},{"t":"Space"},{"t":"Str","c":"monads,"},{"t":"SoftBreak"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"monad?"},{"t":"SoftBreak"},{"t":"Str","c":"That"},{"t":"Space"},{"t":"Str","c":"is,"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"compose"}]},{"t":"Str","c":"?"},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"soon"},{"t":"Space"},{"t":"Str","c":"hit"},{"t":"Space"},{"t":"Str","c":"problems:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.applicative._ // for pure\n\n// Hypothetical example. This won't actually compile:\ndef compose[M1[_]: Monad, M2[_]: Monad] = {\n  type Composed[A] = M1[M2[A]]\n\n  new Monad[Composed] {\n    def pure[A](a: A): Composed[A] =\n      a.pure[M2].pure[M1]\n\n    def flatMap[A, B](fa: Composed[A])\n        (f: A => Composed[B]): Composed[B] =\n      // Problem! How do we write flatMap?\n      ???\n  }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"impossible"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"knowing"},{"t":"Space"},{"t":"Str","c":"something"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M1"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M2"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"do"}]},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"something"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"monad,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"typically"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"fix"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M2"]},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"comes"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"light:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef flatMap[A, B](fa: Composed[A])\n    (f: A => Composed[B]): Composed[B] =\n  fa.flatMap(_.fold[Composed[B]](None.pure[M1])(f))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Notice"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Str","c":"—an"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":"-specific"},{"t":"Space"},{"t":"Str","c":"concept"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"appear"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"interface."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"extra"},{"t":"Space"},{"t":"Str","c":"detail"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"monads."},{"t":"SoftBreak"},{"t":"Str","c":"Similarly,"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"things"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"help"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"composed"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"them."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"idea"},{"t":"Space"},{"t":"Str","c":"behind"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers:"},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"defines"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"variety"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"monads,"},{"t":"SoftBreak"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"providing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"extra"},{"t":"Space"},{"t":"Str","c":"knowledge"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"compose"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"others."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"examples."}]},{"t":"Header","c":[2,["a-transformative-example",[],[]],[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"Transformative"},{"t":"Space"},{"t":"Str","c":"Example"}]]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"monads,"},{"t":"SoftBreak"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"named"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"T"]},{"t":"Space"},{"t":"Str","c":"suffix:"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"EitherT"]},{"t":"Space"},{"t":"Str","c":"composes"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"monads,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"OptionT"]},{"t":"Space"},{"t":"Str","c":"composes"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"on."}]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"OptionT"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"compose"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"OptionT[List, A]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"aliased"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ListOption[A]"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"convenience,"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Option[A]]"]},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"monad:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.OptionT\n\ntype ListOption[A] = OptionT[List, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ListOption"]},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"out:"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"pass"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"outer"},{"t":"Space"},{"t":"Str","c":"monad,"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"OptionT"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"transformer"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"inner"},{"t":"Space"},{"t":"Str","c":"monad."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ListOption"]},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"OptionT"]},{"t":"Space"},{"t":"Str","c":"constructor,"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"conveniently"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.list._     // for Monad\nimport cats.syntax.applicative._ // for pure\n\nval result1: ListOption[Int] = OptionT(List(Option(10)))\n// result1: ListOption[Int] = OptionT(List(Some(10)))\n\nval result2: ListOption[Int] = 32.pure[ListOption]\n// result2: ListOption[Int] = OptionT(List(Some(32)))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"corresponding"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"SoftBreak"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"operations:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nresult1.flatMap { (x: Int) =>\n  result2.map { (y: Int) =>\n    x + y\n  }\n}\n// res1: OptionT[List, Int] = OptionT(List(Some(42)))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"basis"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"combined"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"component"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"having"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"recursively"},{"t":"Space"},{"t":"Str","c":"unpack"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"repack"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"stage"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation."},{"t":"SoftBreak"},{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"API"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"depth."}]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{WarningCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Complexity"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Imports"}]}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"imports"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"samples"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"SoftBreak"},{"t":"Str","c":"hint"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"everything"},{"t":"Space"},{"t":"Str","c":"bolts"},{"t":"Space"},{"t":"Str","c":"together."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.applicative"]}],["http://typelevel.org/cats/api/cats/syntax/package$$applicative$",""]]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"syntax."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative[ListOption]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"haven’t"},{"t":"Space"},{"t":"Str","c":"met"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicatives"]},{"t":"Space"},{"t":"Str","c":"yet,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monads"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicatives"]},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"ignore"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"difference"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"now."}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"generate"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative[ListOption]"]},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"OptionT"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"OptionT"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"comes"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.instances.list"]}],["http://typelevel.org/cats/api/cats/instances/package$$list$",""]]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Notice"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"importing"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.functor"]}],["http://typelevel.org/cats/api/cats/syntax/package$$functor$",""]]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.flatMap"]}],["http://typelevel.org/cats/api/cats/syntax/package$$flatMap$",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"OptionT"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"concrete"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Str","c":"explicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"wouldn’t"},{"t":"Space"},{"t":"Str","c":"cause"},{"t":"Space"},{"t":"Str","c":"problems"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"imported"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"syntax—the"},{"t":"SoftBreak"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"ignore"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"favour"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"explicit"},{"t":"Space"},{"t":"Str","c":"methods."}]},{"t":"Para","c":[{"t":"Str","c":"Remember"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"subjecting"},{"t":"Space"},{"t":"Str","c":"ourselves"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"shenanigans"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"stubbornly"},{"t":"Space"},{"t":"Str","c":"refusing"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"universal"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"import,"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.implicits"]}],["http://typelevel.org/cats/api/cats/implicits$.html",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"did"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"import,"},{"t":"SoftBreak"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"needed"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"everything"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"work."}]},{"t":"RawBlock","c":["latex","\\end{WarningCallout}"]}]]},{"t":"Header","c":[2,["monad-transformers-in-cats",[],[]],[{"t":"Str","c":"Monad"},{"t":"Space"},{"t":"Str","c":"Transformers"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"}]]},{"t":"Para","c":[{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformer"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type,"},{"t":"SoftBreak"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data"]}],["http://typelevel.org/cats/api/cats/data/",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"wrap"}]},{"t":"Space"},{"t":"Str","c":"stacks"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"monads."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"built"},{"t":"Space"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"main"},{"t":"Space"},{"t":"Str","c":"concepts"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"cover"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"understand"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"are:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"available"},{"t":"Space"},{"t":"Str","c":"transformer"},{"t":"Space"},{"t":"Str","c":"classes;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"stacks"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"transformers;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"construct"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"stack;"},{"t":"Space"},{"t":"Str","c":"and"}]}],[{"t":"Plain","c":[{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"pull"},{"t":"Space"},{"t":"Str","c":"apart"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"access"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"wrapped"},{"t":"Space"},{"t":"Str","c":"monads."}]}]]},{"t":"Header","c":[3,["the-monad-transformer-classes",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Monad"},{"t":"Space"},{"t":"Str","c":"Transformer"},{"t":"Space"},{"t":"Str","c":"Classes"}]]},{"t":"Para","c":[{"t":"Str","c":"By"},{"t":"Space"},{"t":"Str","c":"convention,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foo"]},{"t":"SoftBreak"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"transformer"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"FooT"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"fact,"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"combining"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformer"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Space"},{"t":"Str","c":"monad."},{"t":"SoftBreak"},{"t":"Str","c":"Concretely,"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"available"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"are:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data.OptionT"]}],["http://typelevel.org/cats/api/cats/data/OptionT.html",""]]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data.EitherT"]}],["http://typelevel.org/cats/api/cats/data/EitherT.html",""]]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data.ReaderT"]}],["http://typelevel.org/cats/api/cats/data/?search=reader#ReaderT%5BF%5B_%5D,A,B%5D=cats.data.Kleisli%5BF,A,B%5D",""]]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data.WriterT"]}],["http://typelevel.org/cats/api/cats/data/WriterT.html",""]]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data.StateT"]}],["http://typelevel.org/cats/api/cats/data/StateT.html",""]]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data.IdT"]}],["http://typelevel.org/cats/api/cats/data/IdT.html",""]]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"Id"]}],["http://typelevel.org/cats/api/cats/Id.html",""]]},{"t":"Space"},{"t":"Str","c":"monad."}]}]]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{InfoCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Kleisli"},{"t":"Space"},{"t":"Str","c":"Arrows"}]}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"4.8"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"mentioned"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"was"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"specialisation"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"concept"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"kleisli"},{"t":"Space"},{"t":"Str","c":"arrow"}]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"represented"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data.Kleisli"]}],["http://typelevel.org/cats/api/cats/data/Kleisli.html",""]]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"reveal"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ReaderT"]},{"t":"SoftBreak"},{"t":"Str","c":"are,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"fact,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"thing!"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"ReaderT"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"actually"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Hence,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"were"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Readers"]},{"t":"Space"},{"t":"Str","c":"last"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"seeing"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleislis"]},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"console."}]},{"t":"RawBlock","c":["latex","\\end{InfoCallout}"]}]]},{"t":"Header","c":[3,["building-monad-stacks",[],[]],[{"t":"Str","c":"Building"},{"t":"Space"},{"t":"Str","c":"Monad"},{"t":"Space"},{"t":"Str","c":"Stacks"}]]},{"t":"Para","c":[{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"follow"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"convention."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"transformer"},{"t":"Space"},{"t":"Str","c":"itself"},{"t":"Space"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"inner"}]},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"stack,"},{"t":"SoftBreak"},{"t":"Str","c":"while"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"specifies"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"outer"},{"t":"Space"},{"t":"Str","c":"monad."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"remaining"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"SoftBreak"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"corresponding"},{"t":"Space"},{"t":"Str","c":"monads."}]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ListOption"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"OptionT[List, A]"]},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"effectively"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Option[A]]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"words,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"stacks"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"out:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype ListOption[A] = OptionT[List, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Many"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"least"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"often"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"aliases"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Str","c":"stages."}]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"suppose"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"wrap"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"innermost"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"OptionT"]},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformer."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"itself"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"one."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"shape:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// Alias Either to a type constructor with one parameter:\ntype ErrorOr[A] = Either[String, A]\n\n// Build our final monad stack using OptionT:\ntype ErrorOrOption[A] = OptionT[ErrorOr, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"ErrorOrOption"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad,"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ListOption"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"usual"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"instances:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.either._ // for Monad\n\nval a = 10.pure[ErrorOrOption]\n// a: ErrorOrOption[Int] = OptionT(Right(Some(10)))\nval b = 32.pure[ErrorOrOption]\n// b: ErrorOrOption[Int] = OptionT(Right(Some(32)))\n\nval c = a.flatMap(x => b.map(y => x + y))\n// c: OptionT[ErrorOr, Int] = OptionT(Right(Some(42)))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Things"},{"t":"Space"},{"t":"Str","c":"become"},{"t":"Space"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"confusing"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"monads."}]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Once"},{"t":"Space"},{"t":"Str","c":"again"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"OptionT"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"EitherT"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"line"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"EitherT"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ncase class EitherT[F[_], E, A](stack: F[Either[E, A]]) {\n  // etc...\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"F[_]"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"outer"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"("},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"inner);"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"E"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"EitherT"]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"fixes"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Error"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"vary:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.concurrent.Future\nimport cats.data.{EitherT, OptionT}\n\ntype FutureEither[A] = EitherT[Future, String, A]\n\ntype FutureEitherOption[A] = OptionT[FutureEither, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"mammoth"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"composes"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"cut"},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"layers"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"abstraction:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.future._ // for Monad\nimport scala.concurrent.Await\nimport scala.concurrent.ExecutionContext.Implicits.global\nimport scala.concurrent.duration._\n\nval futureEitherOr: FutureEitherOption[Int] =\n  for {\n    a <- 10.pure[FutureEitherOption]\n    b <- 32.pure[FutureEitherOption]\n  } yield a + b\n\\end{lstlisting}"]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{WarningCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Kind"},{"t":"Space"},{"t":"Str","c":"Projector"}]}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"frequently"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"yourself"},{"t":"SoftBreak"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"multiple"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"aliases"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"stacks,"},{"t":"SoftBreak"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Kind"},{"t":"Space"},{"t":"Str","c":"Projector"}],["https://github.com/typelevel/kind-projector",""]]},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"plugin."},{"t":"SoftBreak"},{"t":"Str","c":"Kind"},{"t":"Space"},{"t":"Str","c":"Projector"},{"t":"Space"},{"t":"Str","c":"enhances"},{"t":"Space"},{"t":"Str","c":"Scala’s"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"easier"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"partially"},{"t":"Space"},{"t":"Str","c":"applied"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.option._ // for Monad // for Monad\n\n123.pure[EitherT[Option, String, *]]\n// res3: EitherT[Option, String, Int] = EitherT(Some(Right(123)))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Kind"},{"t":"Space"},{"t":"Str","c":"Projector"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"simplify"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"declarations"},{"t":"Space"},{"t":"Str","c":"down"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"line,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"reduce"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"definitions"},{"t":"SoftBreak"},{"t":"Str","c":"needed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"keep"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"readable."}]},{"t":"RawBlock","c":["latex","\\end{WarningCallout}"]}]]},{"t":"Header","c":[3,["constructing-and-unpacking-instances",[],[]],[{"t":"Str","c":"Constructing"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Unpacking"},{"t":"Space"},{"t":"Str","c":"Instances"}]]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"above,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"transformed"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"stacks"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relevant"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformer’s"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"usual"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MonadError"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"EitherT"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"allowing"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"raiseError"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"well"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Str","c":"."}]}]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// Create using apply:\nval errorStack1 = OptionT[ErrorOr, Int](Right(Some(10)))\n// errorStack1: OptionT[ErrorOr, Int] = OptionT(Right(Some(10)))\n\n// Create using pure:\nval errorStack2 = 32.pure[ErrorOrOption]\n// errorStack2: ErrorOrOption[Int] = OptionT(Right(Some(32)))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Once"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"finished"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformer"},{"t":"Space"},{"t":"Str","c":"stack,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"unpack"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"untransformed"},{"t":"Space"},{"t":"Str","c":"stack."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"manipulate"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"individual"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"usual"},{"t":"Space"},{"t":"Str","c":"way:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// Extracting the untransformed monad stack:\nerrorStack1.value\n// res4: ErrorOr[Option[Int]] = Right(Some(10))\n\n// Mapping over the Either in the stack:\nerrorStack2.value.map(_.getOrElse(-1))\n// res5: Either[String, Int] = Right(32)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Space"},{"t":"Str","c":"unpacks"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformer."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"completely"},{"t":"Space"},{"t":"Str","c":"unpack"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"large"},{"t":"Space"},{"t":"Str","c":"stack."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Await"]},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"FutureEitherOption"]},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"above,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Space"},{"t":"Str","c":"twice:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfutureEitherOr\n// res6: FutureEitherOption[Int] = OptionT(\n//   EitherT(Future(Success(Right(Some(42)))))\n// )\n\nval intermediate = futureEitherOr.value\n// intermediate: FutureEither[Option[Int]] = EitherT(\n//   Future(Success(Right(Some(42))))\n// )\n\nval stack = intermediate.value\n// stack: Future[Either[String, Option[Int]]] = Future(Success(Right(Some(42))))\n\nAwait.result(stack, 1.second)\n// res7: Either[String, Option[Int]] = Right(Some(42))\n\\end{lstlisting}"]},{"t":"Header","c":[3,["default-instances-1",[],[]],[{"t":"Str","c":"Default"},{"t":"Space"},{"t":"Str","c":"Instances"}]]},{"t":"Para","c":[{"t":"Str","c":"Many"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"corresponding"},{"t":"Space"},{"t":"Str","c":"transformer"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Space"},{"t":"Str","c":"monad."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"reassuring"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"confirms"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"APIs"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"identical."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Reader"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"State"]},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"way:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype Reader[E, A] = ReaderT[Id, E, A] // = Kleisli[Id, E, A]\ntype Writer[W, A] = WriterT[Id, W, A]\ntype State[S, A]  = StateT[Id, S, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"cases"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"separately"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"corresponding"},{"t":"Space"},{"t":"Str","c":"monads."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"cases,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"transformer"},{"t":"Space"},{"t":"Str","c":"tend"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"mirror"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monad."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"OptionT"]},{"t":"Space"},{"t":"Str","c":"defines"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"getOrElse"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"EitherT"]},{"t":"Space"},{"t":"Str","c":"defines"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"fold"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"bimap"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"swap"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"methods."}]},{"t":"Header","c":[3,["usage-patterns",[],[]],[{"t":"Str","c":"Usage"},{"t":"Space"},{"t":"Str","c":"Patterns"}]]},{"t":"Para","c":[{"t":"Str","c":"Widespread"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"sometimes"},{"t":"Space"},{"t":"Str","c":"difficult"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"fuse"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"predefined"},{"t":"Space"},{"t":"Str","c":"ways."},{"t":"SoftBreak"},{"t":"Str","c":"Without"},{"t":"Space"},{"t":"Str","c":"careful"},{"t":"Space"},{"t":"Str","c":"thought,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"having"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"unpack"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"repack"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"configurations"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"operate"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"contexts."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"cope"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"multiple"},{"t":"Space"},{"t":"Str","c":"ways."},{"t":"SoftBreak"},{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"involves"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"super"},{"t":"Space"},{"t":"Str","c":"stack"}]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"sticking"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"throughout"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"base."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"largely"},{"t":"Space"},{"t":"Str","c":"uniform"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"nature."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"web"},{"t":"Space"},{"t":"Str","c":"application,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"decide"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"request"},{"t":"Space"},{"t":"Str","c":"handlers"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"asynchronous"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"HTTP"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"codes."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"design"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"custom"},{"t":"Space"},{"t":"Str","c":"ADT"},{"t":"Space"},{"t":"Str","c":"representing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"fusion"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"everywhere"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsealed abstract class HttpError\nfinal case class NotFound(item: String) extends HttpError\nfinal case class BadRequest(msg: String) extends HttpError\n// etc...\n\ntype FutureEither[A] = EitherT[Future, HttpError, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"super"},{"t":"Space"},{"t":"Str","c":"stack"}]]},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"starts"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"larger,"},{"t":"SoftBreak"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"heterogeneous"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"bases"},{"t":"SoftBreak"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"stacks"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"sense"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"contexts."},{"t":"SoftBreak"},{"t":"Str","c":"Another"},{"t":"Space"},{"t":"Str","c":"design"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"sense"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"contexts"},{"t":"SoftBreak"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"local"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"glue"},{"t":"Space"},{"t":"Str","c":"code"}]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"expose"},{"t":"Space"},{"t":"Str","c":"untransformed"},{"t":"Space"},{"t":"Str","c":"stacks"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"module"},{"t":"Space"},{"t":"Str","c":"boundaries,"},{"t":"SoftBreak"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"operate"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"locally,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"untransform"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"passing"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"on."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"module"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Str","c":"decisions"},{"t":"SoftBreak"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.Writer\n\ntype Logged[A] = Writer[List[String], A]\n\n// Methods generally return untransformed stacks:\ndef parseNumber(str: String): Logged[Option[Int]] =\n  util.Try(str.toInt).toOption match {\n    case Some(num) => Writer(List(s\"Read $str\"), Some(num))\n    case None      => Writer(List(s\"Failed on $str\"), None)\n  }\n\n// Consumers use monad transformers locally to simplify composition:\ndef addAll(a: String, b: String, c: String): Logged[Option[Int]] = {\n  import cats.data.OptionT\n\n  val result = for {\n    a <- OptionT(parseNumber(a))\n    b <- OptionT(parseNumber(b))\n    c <- OptionT(parseNumber(c))\n  } yield a + b + c\n\n  result.value\n}\n\n// This approach doesn't force OptionT on other users' code:\nval result1 = addAll(\"1\", \"2\", \"3\")\n// result1: Logged[Option[Int]] = WriterT(\n//   (List(\"Read 1\", \"Read 2\", \"Read 3\"), Some(6))\n// )\nval result2 = addAll(\"1\", \"a\", \"3\")\n// result2: Logged[Option[Int]] = WriterT(\n//   (List(\"Read 1\", \"Failed on a\"), None)\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Unfortunately,"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"aren’t"},{"t":"Space"},{"t":"Str","c":"one-size-fits-all"},{"t":"SoftBreak"},{"t":"Str","c":"approaches"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"best"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"depend"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"lot"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"factors:"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"size"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"experience"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"team,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"complexity"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"base,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"on."},{"t":"SoftBreak"},{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"experiment"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"gather"},{"t":"Space"},{"t":"Str","c":"feedback"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"colleagues"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"determine"},{"t":"Space"},{"t":"Str","c":"whether"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"fit."}]},{"t":"Header","c":[2,["exercise-monads-transform-and-roll-out",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Monads:"},{"t":"Space"},{"t":"Str","c":"Transform"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Roll"},{"t":"Space"},{"t":"Str","c":"Out"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Autobots,"},{"t":"Space"},{"t":"Str","c":"well-known"},{"t":"Space"},{"t":"Str","c":"robots"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"disguise,"},{"t":"SoftBreak"},{"t":"Str","c":"frequently"},{"t":"Space"},{"t":"Str","c":"send"},{"t":"Space"},{"t":"Str","c":"messages"},{"t":"Space"},{"t":"Str","c":"during"},{"t":"Space"},{"t":"Str","c":"battle"},{"t":"SoftBreak"},{"t":"Str","c":"requesting"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"power"},{"t":"Space"},{"t":"Str","c":"levels"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"team"},{"t":"Space"},{"t":"Str","c":"mates."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"helps"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"coordinate"},{"t":"Space"},{"t":"Str","c":"strategies"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"launch"},{"t":"Space"},{"t":"Str","c":"devastating"},{"t":"Space"},{"t":"Str","c":"attacks."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"message"},{"t":"Space"},{"t":"Str","c":"sending"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"looks"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"this:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef getPowerLevel(autobot: String): Response[Int] =\n  ???\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Transmissions"},{"t":"Space"},{"t":"Str","c":"take"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Earth’s"},{"t":"Space"},{"t":"Str","c":"viscous"},{"t":"Space"},{"t":"Str","c":"atmosphere,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"messages"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"occasionally"},{"t":"Space"},{"t":"Str","c":"lost"},{"t":"SoftBreak"},{"t":"Str","c":"due"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"satellite"},{"t":"Space"},{"t":"Str","c":"malfunction"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"sabotage"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"pesky"},{"t":"Space"},{"t":"Str","c":"Decepticons"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"well"},{"t":"Space"},{"t":"Str","c":"known"},{"t":"Space"},{"t":"Str","c":"fact"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"Autobot"},{"t":"Space"},{"t":"Str","c":"neural"},{"t":"Space"},{"t":"Str","c":"nets"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala."},{"t":"SoftBreak"},{"t":"Str","c":"Decepticon"},{"t":"Space"},{"t":"Str","c":"brains"},{"t":"Space"},{"t":"Str","c":"are,"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"course,"},{"t":"Space"},{"t":"Str","c":"dynamically"},{"t":"Space"},{"t":"Str","c":"typed."}]}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Responses"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"therefore"},{"t":"Space"},{"t":"Str","c":"represented"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"monads:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype Response[A] = Future[Either[String, A]]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Optimus"},{"t":"Space"},{"t":"Str","c":"Prime"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"getting"},{"t":"Space"},{"t":"Str","c":"tired"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"nested"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehensions"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"his"},{"t":"Space"},{"t":"Str","c":"neural"},{"t":"Space"},{"t":"Str","c":"matrix."},{"t":"SoftBreak"},{"t":"Str","c":"Help"},{"t":"Space"},{"t":"Str","c":"him"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"rewriting"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Response"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformer."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:b2fcff64807731bcc51e2741ea279e6f",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"implementing"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"getPowerLevel"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"retrieve"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"imaginary"},{"t":"Space"},{"t":"Str","c":"allies."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"use:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval powerLevels = Map(\n  \"Jazz\"      -> 6,\n  \"Bumblebee\" -> 8,\n  \"Hot Rod\"   -> 10\n)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"Autobot"},{"t":"Space"},{"t":"Str","c":"isn’t"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"powerLevels"]},{"t":"Space"},{"t":"Str","c":"map,"},{"t":"SoftBreak"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"message"},{"t":"Space"},{"t":"Str","c":"reporting"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"were"},{"t":"Space"},{"t":"Str","c":"unreachable."},{"t":"SoftBreak"},{"t":"Str","c":"Include"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"name"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"message"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"effect."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:8a3cd02df0f4f3684dceae8902198262",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Two"},{"t":"Space"},{"t":"Str","c":"autobots"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"perform"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"special"},{"t":"Space"},{"t":"Str","c":"move"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"combined"},{"t":"Space"},{"t":"Str","c":"power"},{"t":"Space"},{"t":"Str","c":"level"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"greater"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"15."},{"t":"SoftBreak"},{"t":"Str","c":"Write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"second"},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"canSpecialMove"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"names"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"allies"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"whether"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"special"},{"t":"Space"},{"t":"Str","c":"move"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"possible."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"ally"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"unavailable,"},{"t":"SoftBreak"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"appropriate"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"message:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef canSpecialMove(ally1: String, ally2: String): Response[Boolean] =\n  ???\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:23f197ffcfe8149e28ac1643217515bb",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tacticalReport"]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"takes"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"ally"},{"t":"Space"},{"t":"Str","c":"names"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"prints"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"message"},{"t":"SoftBreak"},{"t":"Str","c":"saying"},{"t":"Space"},{"t":"Str","c":"whether"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"perform"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"special"},{"t":"Space"},{"t":"Str","c":"move:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef tacticalReport(ally1: String, ally2: String): String =\n  ???\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:0cfc8ef90e55f88d5929e73cd67b30ad",""]]}]},{"t":"Para","c":[{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"report"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntacticalReport(\"Jazz\", \"Bumblebee\")\n// res13: String = \"Jazz and Bumblebee need a recharge.\"\ntacticalReport(\"Bumblebee\", \"Hot Rod\")\n// res14: String = \"Bumblebee and Hot Rod are ready to roll out!\"\ntacticalReport(\"Jazz\", \"Ironhide\")\n// res15: String = \"Comms error: Ironhide unreachable\"\n\\end{lstlisting}"]},{"t":"Header","c":[2,["summary-4",[],[]],[{"t":"Str","c":"Summary"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"introduced"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"eliminate"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"nested"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehensions"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"matching"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"stacks"}]]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"nested"},{"t":"Space"},{"t":"Str","c":"monads."}]},{"t":"Para","c":[{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformer,"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"FutureT"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"OptionT"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"EitherT"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"needed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"merge"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"monads."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"transformer"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"wraps"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"stack,"},{"t":"SoftBreak"},{"t":"Str","c":"equipping"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"unpack"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"repack"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"whole"},{"t":"Space"},{"t":"Str","c":"stack."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"signatures"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"out,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"EitherT[Option, String, A]"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"wrapper"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[Either[String, A]]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"often"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"aliases"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"transformer"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"deeply"},{"t":"Space"},{"t":"Str","c":"nested"},{"t":"Space"},{"t":"Str","c":"monads."}]},{"t":"Para","c":[{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"transformers,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"covered"},{"t":"Space"},{"t":"Str","c":"everything"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"next"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"switch"},{"t":"Space"},{"t":"Str","c":"tack"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"discuss"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"support"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"kinds"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"zipping"]},{"t":"SoftBreak"},{"t":"Str","c":"independent"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"within"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"context."}]},{"t":"Header","c":[1,["sec:applicatives",[],[]],[{"t":"Str","c":"Semigroupal"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Applicative"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"chapters"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"SoftBreak"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"let"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"SoftBreak"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"While"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"SoftBreak"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"immensely"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"abstractions,"},{"t":"SoftBreak"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"certain"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"program"},{"t":"Space"},{"t":"Str","c":"flow"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"cannot"},{"t":"Space"},{"t":"Str","c":"represent."}]},{"t":"Para","c":[{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"validation."},{"t":"SoftBreak"},{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"validate"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"all"}]},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"user,"},{"t":"SoftBreak"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"stop"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"encounter."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"fast"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"lose"},{"t":"Space"},{"t":"Str","c":"errors."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"below"},{"t":"SoftBreak"},{"t":"Str","c":"fails"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"parseInt"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"go"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"further:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.either._ // for catchOnly\n\ndef parseInt(str: String): Either[String, Int] =\n  Either.catchOnly[NumberFormatException](str.toInt).\n    leftMap(_ => s\"Couldn't read $str\")\n\nfor {\n  a <- parseInt(\"a\")\n  b <- parseInt(\"b\")\n  c <- parseInt(\"c\")\n} yield (a + b + c)\n// res0: Either[String, Int] = Left(\"Couldn't read a\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Another"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"concurrent"},{"t":"Space"},{"t":"Str","c":"evaluation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"several"},{"t":"Space"},{"t":"Str","c":"long-running"},{"t":"Space"},{"t":"Str","c":"independent"},{"t":"Space"},{"t":"Str","c":"tasks,"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"sense"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"execute"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"concurrently."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"monadic"},{"t":"Space"},{"t":"Str","c":"comprehension"},{"t":"SoftBreak"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"sequence."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"aren’t"},{"t":"Space"},{"t":"Str","c":"quite"},{"t":"Space"},{"t":"Str","c":"capable"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"capturing"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"SoftBreak"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"assumption"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"dependent"}]},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"one:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// context2 is dependent on value1:\ncontext1.flatMap(value1 => context2)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"parseInt"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.apply"]},{"t":"Space"},{"t":"Str","c":"above"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"independent"}]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"another,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"exploit"},{"t":"Space"},{"t":"Str","c":"this."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"weaker"},{"t":"Space"},{"t":"Str","c":"construct—one"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"guarantee"},{"t":"Space"},{"t":"Str","c":"sequencing—to"},{"t":"SoftBreak"},{"t":"Str","c":"achieve"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"support"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"pattern:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"encompasses"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"notion"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"composing"},{"t":"Space"},{"t":"Str","c":"pairs"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"contexts."},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.apply"]}],["http://typelevel.org/cats/api/cats/syntax/package$$semigroupal$",""]]},{"t":"Space"},{"t":"Str","c":"module"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"users"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"multiple"},{"t":"Space"},{"t":"Str","c":"arguments."}]}],[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Parallel"]},{"t":"Space"},{"t":"Str","c":"converts"},{"t":"SoftBreak"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"instance."}]}],[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"applying"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"within"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"context."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"source"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"introduced"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"4"},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Applicatives"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"often"},{"t":"Space"},{"t":"Str","c":"formulated"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"application,"},{"t":"SoftBreak"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"semigroupal"},{"t":"Space"},{"t":"Str","c":"formulation"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"emphasised"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"alternative"},{"t":"Space"},{"t":"Str","c":"formulation"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"link"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"libraries"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"languages"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"Scalaz"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Haskell."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"take"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"formulations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Applicative,"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"well"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relationships"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"towards"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"chapter."}]},{"t":"Header","c":[2,["semigroupal",[],[]],[{"t":"Str","c":"Semigroupal"}]]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Semigroupal"]}],["http://typelevel.org/cats/api/cats/kernel/Semigroupal.html",""]]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"contexts"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"It"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"winner"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Underscore’s"},{"t":"Space"},{"t":"Str","c":"2017"},{"t":"Space"},{"t":"Str","c":"award"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"difficult"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"term"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"coherent"},{"t":"Space"},{"t":"Str","c":"English"},{"t":"Space"},{"t":"Str","c":"sentence."}]}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"objects"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[B]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal[F]"]},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[(A, B)]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Its"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"is:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Semigroupal[F[_]] {\n  def product[A, B](fa: F[A], fb: F[B]): F[(A, B)]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"discussed"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"beginning"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"fa"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"fb"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"independent"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"another:"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"compute"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"passing"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"contrast"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"imposes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"strict"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"parameters."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"freedom"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"SoftBreak"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monads"]},{"t":"Str","c":"."}]},{"t":"Header","c":[3,["joining-two-contexts",[],[]],[{"t":"Str","c":"Joining"},{"t":"Space"},{"t":"Str","c":"Two"},{"t":"Space"},{"t":"Str","c":"Contexts"}]]},{"t":"Para","c":[{"t":"Str","c":"While"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"join"},{"t":"Space"},{"t":"Str","c":"values,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"join"},{"t":"Space"},{"t":"Str","c":"contexts."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"join"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Options"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroupal\nimport cats.instances.option._ // for Semigroupal\n\nSemigroupal[Option].product(Some(123), Some(\"abc\"))\n// res1: Option[(Int, String)] = Some((123, \"abc\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"tuple"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"within."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"evaluates"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"entire"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nSemigroupal[Option].product(None, Some(\"abc\"))\n// res2: Option[Tuple2[Nothing, String]] = None\nSemigroupal[Option].product(Some(123), None)\n// res3: Option[Tuple2[Int, Nothing]] = None\n\\end{lstlisting}"]},{"t":"Header","c":[3,["joining-three-or-more-contexts",[],[]],[{"t":"Str","c":"Joining"},{"t":"Space"},{"t":"Str","c":"Three"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"More"},{"t":"Space"},{"t":"Str","c":"Contexts"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"defines"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"top"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tuple2"]},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tuple22"]},{"t":"SoftBreak"},{"t":"Str","c":"generalise"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"arities:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.option._ // for Semigroupal\n\nSemigroupal.tuple3(Option(1), Option(2), Option(3))\n// res4: Option[(Int, Int, Int)] = Some((1, 2, 3))\nSemigroupal.tuple3(Option(1), Option(2), Option.empty[Int])\n// res5: Option[(Int, Int, Int)] = None\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map2"]},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map22"]},{"t":"SoftBreak"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"user-specified"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"2"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"22"},{"t":"Space"},{"t":"Str","c":"contexts:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nSemigroupal.map3(Option(1), Option(2), Option(3))(_ + _ + _)\n// res6: Option[Int] = Some(6)\n\nSemigroupal.map2(Option(1), Option.empty[Int])(_ + _)\n// res7: Option[Int] = None\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap2"]},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap22"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap2"]},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap22"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"require"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Contravariant"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Invariant"]},{"t":"Space"},{"t":"Str","c":"respectively."}]},{"t":"Header","c":[3,["semigroupal-laws",[],[]],[{"t":"Str","c":"Semigroupal"},{"t":"Space"},{"t":"Str","c":"Laws"}]]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"law"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Str","c":":"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"associative."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nproduct(a, product(b, c)) == product(product(a, b), c)\n\\end{lstlisting}"]},{"t":"Header","c":[2,["apply-syntax",[],[]],[{"t":"Str","c":"Apply"},{"t":"Space"},{"t":"Str","c":"Syntax"}]]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"convenient"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"syntax"}]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"shorthand"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"described"},{"t":"Space"},{"t":"Str","c":"above."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.apply"]}],["http://typelevel.org/cats/api/cats/syntax/package$$semigroupal$",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.option._ // for Semigroupal\nimport cats.syntax.apply._     // for tupled and mapN\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tupled"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"implicitly"},{"t":"Space"},{"t":"Str","c":"added"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"tuple"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Options"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"zip"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Options"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"tuple:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n(Option(123), Option(\"abc\")).tupled\n// res8: Option[(Int, String)] = Some((123, \"abc\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"trick"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"tuples"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"22"},{"t":"Space"},{"t":"Str","c":"values."},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"defines"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"separate"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tupled"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"arity:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n(Option(123), Option(\"abc\"), Option(true)).tupled\n// res9: Option[(Int, String, Boolean)] = Some((123, \"abc\", true))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tupled"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"mapN"]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"arity"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"values."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class Cat(name: String, born: Int, color: String)\n\n(\n  Option(\"Garfield\"),\n  Option(1978),\n  Option(\"Orange & black\")\n).mapN(Cat.apply)\n// res10: Option[Cat] = Some(Cat(\"Garfield\", 1978, \"Orange & black\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Of"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"mentioned"},{"t":"Space"},{"t":"Str","c":"here,"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"mapN"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Internally"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"mapN"]},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"extract"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"function."}]},{"t":"Para","c":[{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"nice"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"checked."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"supply"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"wrong"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"parameters,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"compile"},{"t":"Space"},{"t":"Str","c":"error:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval add: (Int, Int) => Int = (a, b) => a + b\n// add: (Int, Int) => Int = <function2>\n\n(Option(1), Option(2), Option(3)).mapN(add)\n// error: ':' expected but '(' found.\n//   Option(\"Garfield\"),\n//         ^\n// error: identifier expected but '}' found.\n\n(Option(\"cats\"), Option(true)).mapN(add)\n// error: ':' expected but '(' found.\n//   Option(\"Garfield\"),\n//         ^\n// error: identifier expected but '}' found.\n\\end{lstlisting}"]},{"t":"Header","c":[3,["fancy-functors-and-apply-syntax",[],[]],[{"t":"Str","c":"Fancy"},{"t":"Space"},{"t":"Str","c":"Functors"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Apply"},{"t":"Space"},{"t":"Str","c":"Syntax"}]]},{"t":"Para","c":[{"t":"Str","c":"Apply"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramapN"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imapN"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Contravariant"}],["#contravariant",""]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Invariant"}],["#invariant",""]]},{"t":"Space"},{"t":"Str","c":"functors."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoids"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Invariant"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\nimport cats.instances.int._        // for Monoid\nimport cats.instances.invariant._  // for Semigroupal\nimport cats.instances.list._       // for Monoid\nimport cats.instances.string._     // for Monoid\nimport cats.syntax.apply._         // for imapN\n\nfinal case class Cat(\n  name: String,\n  yearOfBirth: Int,\n  favoriteFoods: List[String]\n)\n\nval tupleToCat: (String, Int, List[String]) => Cat =\n  Cat.apply _\n\nval catToTuple: Cat => (String, Int, List[String]) =\n  cat => (cat.name, cat.yearOfBirth, cat.favoriteFoods)\n\nimplicit val catMonoid: Monoid[Cat] = (\n  Monoid[String],\n  Monoid[Int],\n  Monoid[List[String]]\n).imapN(tupleToCat)(catToTuple)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"empty"}]]},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Cats"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Cats"]},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"2"},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.semigroup._ // for |+|\n\nval garfield   = Cat(\"Garfield\", 1978, List(\"Lasagne\"))\nval heathcliff = Cat(\"Heathcliff\", 1988, List(\"Junk Food\"))\n\ngarfield |+| heathcliff\n// res14: Cat = Cat(\"GarfieldHeathcliff\", 3966, List(\"Lasagne\", \"Junk Food\"))\n\\end{lstlisting}"]},{"t":"Header","c":[2,["semigroupal-applied-to-different-types",[],[]],[{"t":"Str","c":"Semigroupal"},{"t":"Space"},{"t":"Str","c":"Applied"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Different"},{"t":"Space"},{"t":"Str","c":"Types"}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"expect,"},{"t":"SoftBreak"},{"t":"Str","c":"particularly"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"types."}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Future"}]}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"SoftBreak"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"opposed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sequential"},{"t":"Space"},{"t":"Str","c":"execution:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroupal\nimport cats.instances.future._ // for Semigroupal\nimport scala.concurrent._\nimport scala.concurrent.duration._\nimport scala.concurrent.ExecutionContext.Implicits.global\n\nval futurePair = Semigroupal[Future].\n  product(Future(\"Hello\"), Future(123))\n\nAwait.result(futurePair, 1.second)\n// res0: (String, Int) = (\"Hello\", 123)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"executing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"moment"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"them,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"already"},{"t":"Space"},{"t":"Str","c":"calculating"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"zip"},{"t":"Space"},{"t":"Str","c":"fixed"},{"t":"Space"},{"t":"Str","c":"numbers"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.apply._ // for mapN\n\ncase class Cat(\n  name: String,\n  yearOfBirth: Int,\n  favoriteFoods: List[String]\n)\n\nval futureCat = (\n  Future(\"Garfield\"),\n  Future(1978),\n  Future(List(\"Lasagne\"))\n).mapN(Cat.apply)\n\nAwait.result(futureCat, 1.second)\n// res1: Cat = Cat(\"Garfield\", 1978, List(\"Lasagne\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"List"}]}]},{"t":"Para","c":[{"t":"Str","c":"Combining"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"SoftBreak"},{"t":"Str","c":"produces"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"potentially"},{"t":"Space"},{"t":"Str","c":"unexpected"},{"t":"Space"},{"t":"Str","c":"results."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"might"},{"t":"Space"},{"t":"Str","c":"expect"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"zip"}]},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"lists,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"actually"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"cartesian"},{"t":"Space"},{"t":"Str","c":"product"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"elements:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroupal\nimport cats.instances.list._ // for Semigroupal\n\nSemigroupal[List].product(List(1, 2), List(3, 4))\n// res2: List[(Int, Int)] = List((1, 3), (1, 4), (2, 3), (2, 4))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"perhaps"},{"t":"Space"},{"t":"Str","c":"surprising."},{"t":"SoftBreak"},{"t":"Str","c":"Zipping"},{"t":"Space"},{"t":"Str","c":"lists"},{"t":"Space"},{"t":"Str","c":"tends"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"operation."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"why"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"moment."}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Either"}]}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"opened"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"discussion"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"fail-fast"},{"t":"Space"},{"t":"Str","c":"versus"},{"t":"Space"},{"t":"Str","c":"accumulating"},{"t":"Space"},{"t":"Str","c":"error-handling."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"might"},{"t":"Space"},{"t":"Str","c":"expect"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"applied"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"accumulate"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"fast."},{"t":"SoftBreak"},{"t":"Str","c":"Again,"},{"t":"Space"},{"t":"Str","c":"perhaps"},{"t":"Space"},{"t":"Str","c":"surprisingly,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"implements"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"fail-fast"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.either._ // for Semigroupal\n\ntype ErrorOr[A] = Either[Vector[String], A]\n\nSemigroupal[ErrorOr].product(\n  Left(Vector(\"Error 1\")),\n  Left(Vector(\"Error 2\"))\n)\n// res3: ErrorOr[Tuple2[Nothing, Nothing]] = Left(Vector(\"Error 1\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"sees"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"failure"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"stops,"},{"t":"SoftBreak"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"though"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"possible"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"examine"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"second"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"failure."}]},{"t":"Header","c":[3,["semigroupal-applied-to-monads",[],[]],[{"t":"Str","c":"Semigroupal"},{"t":"Space"},{"t":"Str","c":"Applied"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Monads"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"reason"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"surprising"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"monads."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monad\nimport cats.syntax.functor._ // for map\nimport cats.syntax.flatMap._ // for flatmap\n\ndef product[F[_]: Monad, A, B](fa: F[A], fb: F[B]): F[(A,B)] =\n  fa.flatMap(a => \n    fb.map(b =>\n      (a, b)\n    )\n  )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"strange"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"had"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"depending"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Str","c":"it."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"Space"},{"t":"Str","c":"consistent"},{"t":"Space"},{"t":"Str","c":"semantics,"},{"t":"SoftBreak"},{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"(which"},{"t":"Space"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Str","c":")"},{"t":"SoftBreak"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"showed"},{"t":"Space"},{"t":"Str","c":"above."}]},{"t":"Para","c":[{"t":"Str","c":"Even"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"trick"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"light."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"sequential"},{"t":"Space"},{"t":"Str","c":"ordering,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"execution"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"observe"},{"t":"SoftBreak"},{"t":"Str","c":"occurs"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"constituent"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"SoftBreak"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"running"},{"t":"Space"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"classic"},{"t":"SoftBreak"},{"t":"Str","c":"create-then-flatMap"},{"t":"Space"},{"t":"Str","c":"pattern:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval a = Future(\"Future 1\")\nval b = Future(\"Future 2\")\n\nfor {\n  x <- a\n  y <- b\n} yield (x, y)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"So"},{"t":"Space"},{"t":"Str","c":"why"},{"t":"Space"},{"t":"Str","c":"bother"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"all?"},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"answer"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"(and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":")"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"frees"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"ways."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"examine"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"further"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"moment"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"alternative"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling."}]},{"t":"Header","c":[4,["exercise-the-product-of-lists",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Product"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Lists"}]]},{"t":"Para","c":[{"t":"Str","c":"Why"},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"SoftBreak"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Cartesian"},{"t":"Space"},{"t":"Str","c":"product?"},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"above."},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"again."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nSemigroupal[List].product(List(1, 2), List(3, 4))\n// res5: List[(Int, Int)] = List((1, 3), (1, 4), (2, 3), (2, 4))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tupled"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n(List(1, 2), List(3, 4)).tupled\n// res6: List[(Int, Int)] = List((1, 3), (1, 4), (2, 3), (2, 4))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:15e027c2bb4cf949237cd708af7f2808",""]]}]},{"t":"Header","c":[2,["parallel",[],[]],[{"t":"Str","c":"Parallel"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"section"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"sequential"},{"t":"Space"},{"t":"Str","c":"semantics."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"sense"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"point-of-view"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"keeping"},{"t":"Space"},{"t":"Str","c":"consistency"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"SoftBreak"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However"},{"t":"Space"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Parallel"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"associated"},{"t":"Space"},{"t":"Str","c":"syntax,"},{"t":"SoftBreak"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"access"},{"t":"Space"},{"t":"Str","c":"alternate"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"certain"},{"t":"Space"},{"t":"Str","c":"monads."}]},{"t":"Para","c":[{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"SoftBreak"},{"t":"Str","c":"stops"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"error."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroupal\nimport cats.instances.either._ // for Semigroupal\n\ntype ErrorOr[A] = Either[Vector[String], A]\nval error1: ErrorOr[Int] = Left(Vector(\"Error 1\"))\nval error2: ErrorOr[Int] = Left(Vector(\"Error 2\"))\n\nSemigroupal[ErrorOr].product(error1, error2)\n// res0: ErrorOr[(Int, Int)] = Left(Vector(\"Error 1\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tupled"]},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"short-cut."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.apply._ // for tupled\nimport cats.instances.vector._ // for Semigroup on Vector\n\n(error1, error2).tupled\n// res1: ErrorOr[(Int, Int)] = Left(Vector(\"Error 1\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"collect"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"replace"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tupled"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"parallel"}]]},{"t":"Space"},{"t":"Str","c":"version"},{"t":"SoftBreak"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"parTupled"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.parallel._ // for parTupled\n\n(error1, error2).parTupled\n// res2: ErrorOr[(Int, Int)] = Left(Vector(\"Error 1\", \"Error 2\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Notice"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"returned!"},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"special"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"Any"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"work."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"instead."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.list._ // for Semigroup on List\n\ntype ErrorOrList[A] = Either[List[String], A]\nval errStr1: ErrorOrList[Int] = Left(List(\"error 1\"))\nval errStr2: ErrorOrList[Int] = Left(List(\"error 2\"))\n\n(errStr1, errStr2).parTupled\n// res3: ErrorOrList[(Int, Int)] = Left(List(\"error 1\", \"error 2\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Parallel"]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"types,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"commonly"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"parMapN"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"parMapN"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling"},{"t":"Space"},{"t":"Str","c":"situation."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval success1: ErrorOr[Int] = Right(1)\nval success2: ErrorOr[Int] = Right(2)\nval addTwo = (x: Int, y: Int) => x + y\n\n(error1, error2).parMapN(addTwo)\n// res4: ErrorOr[Int] = Left(Vector(\"Error 1\", \"Error 2\"))\n(success1, success2).parMapN(addTwo)\n// res5: ErrorOr[Int] = Right(3)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"dig"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Parallel"]},{"t":"Space"},{"t":"Str","c":"works."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"below"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"core"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Parallel"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Parallel[M[_]] {\n  type F[_]\n  \n  def applicative: Applicative[F]\n  def monad: Monad[M]\n  def parallel: ~>[M, F]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"tells"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Parallel"]},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M"]},{"t":"Space"},{"t":"Str","c":"then:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"instance;"},{"t":"Space"},{"t":"Str","c":"and"}]}],[{"t":"Plain","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"haven’t"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"~>"]},{"t":"Space"},{"t":"Str","c":"before."},{"t":"SoftBreak"},{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"FunctionK"]}],["http://typelevel.org/cats/api/cats/arrow/FunctionK.html",""]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"performs"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"conversion"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"normal"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"Space"},{"t":"Str","c":"converts"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Remember"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"types;"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"FunctionK"]},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M ~> F"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M[A]"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"quick"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"FunctionK"]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"converts"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.arrow.FunctionK\n\nobject optionToList extends FunctionK[Option, List] {\n  def apply[A](fa: Option[A]): List[A] =\n    fa match {\n      case None    => List.empty[A]\n      case Some(a) => List(a)\n    }\n}\n\noptionToList(Some(1))\n// res6: List[Int] = List(1)\noptionToList(None)\n// res7: List[Nothing] = List()\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"FunctionK"]},{"t":"Space"},{"t":"Str","c":"cannot"},{"t":"Space"},{"t":"Str","c":"inspect"},{"t":"SoftBreak"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"contained"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"conversion"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"performed"},{"t":"SoftBreak"},{"t":"Str","c":"purely"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"M"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"optionToList"]},{"t":"Space"},{"t":"Str","c":"above"},{"t":"SoftBreak"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"indeed"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"case."}]},{"t":"Para","c":[{"t":"Str","c":"So"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"summary,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Parallel"]},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"take"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"(or"},{"t":"Space"},{"t":"Str","c":"semigroupal)"},{"t":"Space"},{"t":"Str","c":"instance."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"alternate"},{"t":"Space"},{"t":"Str","c":"semantics."},{"t":"SoftBreak"},{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"SoftBreak"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"accumulation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"SoftBreak"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"fail-fast"},{"t":"Space"},{"t":"Str","c":"semantics."}]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Parallel"]},{"t":"SoftBreak"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"finally"},{"t":"Space"},{"t":"Str","c":"learn"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":"."}]},{"t":"Header","c":[4,["exercise-parallel-list",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Parallel"},{"t":"Space"},{"t":"Str","c":"List"}]]},{"t":"Para","c":[{"t":"Str","c":"Does"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Parallel"]},{"t":"Space"},{"t":"Str","c":"instance?"},{"t":"Space"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"so,"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Parallel"]},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"do?"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:bbac1855c2a5685ffc22e8e237e36859",""]]}]},{"t":"Header","c":[2,["apply-and-applicative",[],[]],[{"t":"Str","c":"Apply"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Applicative"}]]},{"t":"Para","c":[{"t":"Str","c":"Semigroupals"},{"t":"Space"},{"t":"Str","c":"aren’t"},{"t":"Space"},{"t":"Str","c":"mentioned"},{"t":"Space"},{"t":"Str","c":"frequently"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"wider"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"literature."},{"t":"SoftBreak"},{"t":"Str","c":"They"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subset"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"functionality"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"functor"}]},{"t":"Space"},{"t":"Str","c":"("},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"applicative"}]]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"short)."}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"effectively"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"SoftBreak"},{"t":"Str","c":"alternative"},{"t":"Space"},{"t":"Str","c":"encodings"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"notion"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"joining"},{"t":"Space"},{"t":"Str","c":"contexts."},{"t":"SoftBreak"},{"t":"Str","c":"Both"},{"t":"Space"},{"t":"Str","c":"encodings"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"introduced"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"2008"},{"t":"Space"},{"t":"Str","c":"paper"}],["http://www.staff.city.ac.uk/~ross/papers/Applicative.html",""]]},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"Conor"},{"t":"Space"},{"t":"Str","c":"McBride"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Ross"},{"t":"Space"},{"t":"Str","c":"Paterson"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"Semigroupal"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"referred"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"monoidal"}]]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"paper."}]}]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"models"},{"t":"Space"},{"t":"Str","c":"applicatives"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"first,"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Apply"]}],["http://typelevel.org/cats/api/cats/Apply.html",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"adds"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"applies"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"within"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"context."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"second,"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.Applicative"]}],["http://typelevel.org/cats/api/cats/Applicative.html",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Apply"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"adds"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"introduced"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"4"},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simplified"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"code:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Apply[F[_]] extends Semigroupal[F] with Functor[F] {\n  def ap[A, B](ff: F[A => B])(fa: F[A]): F[B]\n\n  def product[A, B](fa: F[A], fb: F[B]): F[(A, B)] =\n    ap(map(fa)(a => (b: B) => (a, b)))(fb)\n}\n\ntrait Applicative[F[_]] extends Apply[F] {\n  def pure[A](a: A): F[A]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Breaking"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"down,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"applies"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"fa"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ff"]},{"t":"Space"},{"t":"Str","c":"within"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[_]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Don’t"},{"t":"Space"},{"t":"Str","c":"worry"},{"t":"Space"},{"t":"Str","c":"too"},{"t":"Space"},{"t":"Str","c":"much"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Str","c":"—it’s"},{"t":"SoftBreak"},{"t":"Str","c":"difficult"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"read"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"details"},{"t":"Space"},{"t":"Str","c":"aren’t"},{"t":"Space"},{"t":"Str","c":"particuarly"},{"t":"Space"},{"t":"Str","c":"important."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"main"},{"t":"Space"},{"t":"Str","c":"point"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"tight"},{"t":"Space"},{"t":"Str","c":"relationship"},{"t":"SoftBreak"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ap"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"two."}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"introduces"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"constructs"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"unwrapped"},{"t":"Space"},{"t":"Str","c":"value."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"sense,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Apply"]},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Str","c":"."}]},{"t":"Header","c":[3,["the-hierarchy-of-sequencing-type-classes",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Hierarchy"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Sequencing"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Classes"}]]},{"t":"Para","c":[{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"introduction"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Apply"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"zoom"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"whole"},{"t":"Space"},{"t":"Str","c":"family"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"concern"},{"t":"Space"},{"t":"Str","c":"themselves"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"ways."},{"t":"SoftBreak"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"10"},{"t":"Space"},{"t":"Str","c":"shows"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relationship"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"covered"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"See"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Rob"},{"t":"Space"},{"t":"Str","c":"Norris’"},{"t":"Space"},{"t":"Str","c":"infographic"}],["https://github.com/tpolecat/cats-infographic",""]]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"picture."}]}]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:applicatives:hierarchy",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"10:"},{"t":"Space"},{"t":"Str","c":"Monad"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"hierarchy"}],["src/pages/applicatives/hierarchy.png","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"hierarchy"},{"t":"SoftBreak"},{"t":"Str","c":"represents"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"particular"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"semantics,"},{"t":"SoftBreak"},{"t":"Str","c":"introduces"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"characteristic"},{"t":"Space"},{"t":"Str","c":"methods,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"defines"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"functionality"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"supertypes"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"them:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"applicative;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"semigroupal;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"on."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Because"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"lawful"},{"t":"Space"},{"t":"Str","c":"nature"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relationships"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"inheritance"},{"t":"Space"},{"t":"Str","c":"relationships"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"constant"},{"t":"SoftBreak"},{"t":"Str","c":"across"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Apply"]},{"t":"Space"},{"t":"Str","c":"defines"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":";"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"defines"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ap"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"illustrate"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"consider"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"hypothetical"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Foo"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"implements"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"inherits"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"definitions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ap"]},{"t":"Str","c":";"}]}],[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Bar"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"functor."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"implements"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ap"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"inherits"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"definitions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"say"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"knowing"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"implementation?"}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"strictly"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foo"]},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Bar"]},{"t":"Str","c":":"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"guarantee"},{"t":"Space"},{"t":"Str","c":"properties"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foo"]},{"t":"Space"},{"t":"Str","c":"(namely"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":")"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"cannot"},{"t":"Space"},{"t":"Str","c":"guarantee"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Bar"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Conversely,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Bar"]},{"t":"SoftBreak"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"wider"},{"t":"Space"},{"t":"Str","c":"range"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"behaviours"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foo"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"fewer"},{"t":"Space"},{"t":"Str","c":"laws"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"obey"},{"t":"Space"},{"t":"Str","c":"(no"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"),"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"behaviours"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foo"]},{"t":"Space"},{"t":"Str","c":"cannot."}]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"demonstrates"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"classic"},{"t":"Space"},{"t":"Str","c":"trade-off"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"power"},{"t":"SoftBreak"},{"t":"Str","c":"(in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"mathematical"},{"t":"Space"},{"t":"Str","c":"sense)"},{"t":"Space"},{"t":"Str","c":"versus"},{"t":"Space"},{"t":"Str","c":"constraint."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"constraints"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"place"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"guarantees"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"behaviour,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"fewer"},{"t":"Space"},{"t":"Str","c":"behaviours"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"model."}]},{"t":"Para","c":[{"t":"Str","c":"Monads"},{"t":"Space"},{"t":"Str","c":"happen"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sweet"},{"t":"Space"},{"t":"Str","c":"spot"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"trade-off."},{"t":"SoftBreak"},{"t":"Str","c":"They"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"flexible"},{"t":"Space"},{"t":"Str","c":"enough"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"wide"},{"t":"Space"},{"t":"Str","c":"range"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"behaviours"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"restrictive"},{"t":"Space"},{"t":"Str","c":"enough"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"give"},{"t":"Space"},{"t":"Str","c":"strong"},{"t":"Space"},{"t":"Str","c":"guarantees"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"those"},{"t":"Space"},{"t":"Str","c":"behaviours."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"situations"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"SoftBreak"},{"t":"Str","c":"aren’t"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"tool"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"job."},{"t":"SoftBreak"},{"t":"Str","c":"Sometimes"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"Thai"},{"t":"Space"},{"t":"Str","c":"food,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"burritos"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"won’t"},{"t":"Space"},{"t":"Str","c":"satisfy."}]},{"t":"Para","c":[{"t":"Str","c":"Whereas"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"impose"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"strict"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"sequencing"}]},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"model,"},{"t":"SoftBreak"},{"t":"Str","c":"applicatives"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"semigroupals"},{"t":"Space"},{"t":"Str","c":"impose"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"restriction."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"puts"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"sweet"},{"t":"Space"},{"t":"Str","c":"spot"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"hierarchy."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"SoftBreak"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"/"},{"t":"Space"},{"t":"Str","c":"independent"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"cannot."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"choose"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"choosing"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"structures."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"choose"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"strict"},{"t":"Space"},{"t":"Str","c":"sequencing."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"choose"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"applicative,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"lose"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"ability"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"trade-off"},{"t":"Space"},{"t":"Str","c":"enforced"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"consistency"},{"t":"Space"},{"t":"Str","c":"laws."},{"t":"SoftBreak"},{"t":"Str","c":"So"},{"t":"Space"},{"t":"Str","c":"choose"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"carefully!"}]},{"t":"Header","c":[2,["summary-5",[],[]],[{"t":"Str","c":"Summary"}]]},{"t":"Para","c":[{"t":"Str","c":"While"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"widely"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"SoftBreak"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"covered"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book,"},{"t":"SoftBreak"},{"t":"Str","c":"semigroupals"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"applicatives"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"general."},{"t":"SoftBreak"},{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"mechanism"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"within"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"context,"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"fashion"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"variety"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"combinators."}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Semigroupal"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"SoftBreak"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"commonly"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"combining"},{"t":"Space"},{"t":"Str","c":"independent"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"validation"},{"t":"Space"},{"t":"Str","c":"rules."},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Validated"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"specific"},{"t":"Space"},{"t":"Str","c":"purpose,"},{"t":"SoftBreak"},{"t":"Str","c":"along"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"convenient"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"express"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"combination"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"rules."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"almost"},{"t":"Space"},{"t":"Str","c":"covered"},{"t":"SoftBreak"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"concepts"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"agenda"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"next"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"covers"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"powerful"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"converting"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types."},{"t":"SoftBreak"},{"t":"Str","c":"After"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"several"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"studies"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"bring"},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"concepts"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"Part"},{"t":"Space"},{"t":"Str","c":"I."}]},{"t":"Header","c":[1,["sec:foldable-traverse",[],[]],[{"t":"Str","c":"Foldable"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Traverse"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"capture"},{"t":"Space"},{"t":"Str","c":"iteration"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"collections:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"abstracts"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"familiar"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"operations;"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"higher-level"},{"t":"Space"},{"t":"Str","c":"abstraction"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicatives"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"iterate"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"less"},{"t":"Space"},{"t":"Str","c":"pain"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"folding."}]}]]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"looking"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"examine"},{"t":"Space"},{"t":"Str","c":"cases"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"folding"},{"t":"Space"},{"t":"Str","c":"becomes"},{"t":"Space"},{"t":"Str","c":"complex"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Space"},{"t":"Str","c":"becomes"},{"t":"Space"},{"t":"Str","c":"convenient."}]},{"t":"Header","c":[2,["sec:foldable",[],[]],[{"t":"Str","c":"Foldable"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"captures"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"sequences"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vectors"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Streams"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"folds"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"variety"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"types."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"invent"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"sequences"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"plug"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"great"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"cases"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoids"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"monad."}]},{"t":"Header","c":[3,["folds-and-folding",[],[]],[{"t":"Str","c":"Folds"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Folding"}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"quick"},{"t":"Space"},{"t":"Str","c":"recap"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"concept"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"folding."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"supply"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"accumulator"}]},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"function"}]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"item"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef show[A](list: List[A]): String =\n  list.foldLeft(\"nil\")((accum, item) => s\"$item then $accum\")\n\nshow(Nil)\n// res0: String = \"nil\"\n\nshow(List(1, 2, 3))\n// res1: String = \"3 then 2 then 1 then nil\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"recursively"},{"t":"Space"},{"t":"Str","c":"down"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"repeatedly"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"item,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"becoming"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"accumulator"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"next."},{"t":"SoftBreak"},{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"reach"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"accumulator"},{"t":"Space"},{"t":"Str","c":"becomes"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"result."}]},{"t":"Para","c":[{"t":"Str","c":"Depending"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"performing,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"fold"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"important."},{"t":"SoftBreak"},{"t":"Str","c":"Because"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"variants"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"fold:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"traverses"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"left"}]]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"right"}]]},{"t":"Space"},{"t":"Str","c":"(start"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"finish);"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"traverses"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"right"}]]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"left"}]]},{"t":"Space"},{"t":"Str","c":"(finish"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"start)."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"11"},{"t":"Space"},{"t":"Str","c":"illustrates"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"direction."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:foldable-traverse:fold",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"11:"},{"t":"Space"},{"t":"Str","c":"Illustration"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"foldLeft"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"foldRight"}],["src/pages/foldable-traverse/fold.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"associative."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"sum"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Int]"]},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"folding"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"direction,"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"0"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"accumulator"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"operation:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nList(1, 2, 3).foldLeft(0)(_ + _)\n// res2: Int = 6\nList(1, 2, 3).foldRight(0)(_ + _)\n// res3: Int = 6\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"non-associative"},{"t":"Space"},{"t":"Str","c":"operator"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"evaluation"},{"t":"Space"},{"t":"Str","c":"makes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"difference."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"fold"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"subtraction,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"direction:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nList(1, 2, 3).foldLeft(0)(_ - _)\n// res4: Int = -6\nList(1, 2, 3).foldRight(0)(_ - _)\n// res5: Int = 2\n\\end{lstlisting}"]},{"t":"Header","c":[3,["exercise-reflecting-on-folds",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Reflecting"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"Folds"}]]},{"t":"Para","c":[{"t":"Str","c":"Try"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"empty"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"accumulator"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"::"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"operator."},{"t":"Space"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"case?"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:4da8b35ffb551130bd42a5464bc7f8e5",""]]}]},{"t":"Header","c":[3,["exercise-scaf-fold-ing-other-methods",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Scaf-fold-ing"},{"t":"Space"},{"t":"Str","c":"Other"},{"t":"Space"},{"t":"Str","c":"Methods"}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"methods."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"SoftBreak"},{"t":"Str","c":"high-level"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"know."},{"t":"SoftBreak"},{"t":"Str","c":"Prove"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"yourself"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"implementing"},{"t":"Space"},{"t":"Str","c":"substitutes"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List's"]},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"filter"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"sum"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:1c56b7fdcd89142b847263178dae4abb",""]]}]},{"t":"Header","c":[3,["foldable-in-cats",[],[]],[{"t":"Str","c":"Foldable"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"}]]},{"t":"Para","c":[{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"abstracts"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class."},{"t":"SoftBreak"},{"t":"Str","c":"Instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"inherit"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"host"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"derived"},{"t":"Space"},{"t":"Str","c":"methods."},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"out-of-the-box"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"handful"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types:"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"LazyList"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"summon"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"usual"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable.apply"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"directly."},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Foldable\nimport cats.instances.list._ // for Foldable\n\nval ints = List(1, 2, 3)\n\nFoldable[List].foldLeft(ints, 0)(_ + _)\n// res0: Int = 6\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Other"},{"t":"Space"},{"t":"Str","c":"sequences"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"LazyList"]},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"way."},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"treated"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"zero"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"elements:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.option._ // for Foldable\n\nval maybeInt = Option(123)\n\nFoldable[Option].foldLeft(maybeInt, 10)(_ * _)\n// res1: Int = 1230\n\\end{lstlisting}"]},{"t":"Header","c":[4,["folding-right",[],[]],[{"t":"Str","c":"Folding"},{"t":"Space"},{"t":"Str","c":"Right"}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"defines"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"differently"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"monad:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef foldRight[A, B](fa: F[A], lb: Eval[B])\n                     (f: (A, Eval[B]) => Eval[B]): Eval[B]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"folding"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safe"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"collection’s"},{"t":"Space"},{"t":"Str","c":"default"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"default"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"LazyList"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safe."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"longer"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"lazy"},{"t":"Space"},{"t":"Str","c":"list,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"larger"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"requirements"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"fold."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"sufficiently"},{"t":"Space"},{"t":"Str","c":"large"},{"t":"Space"},{"t":"Str","c":"lazy"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"trigger"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"StackOverflowError"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Eval\nimport cats.Foldable\n\ndef bigData = (1 to 100000).to(LazyList)\n\nbigData.foldRight(0L)(_ + _)\n// java.lang.StackOverflowError ...\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"forces"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safe"},{"t":"Space"},{"t":"Str","c":"operations,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"fixes"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"overflow"},{"t":"Space"},{"t":"Str","c":"exception:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.lazyList._ // for Foldable\n\nval eval: Eval[Long] =\n  Foldable[LazyList].\n    foldRight(bigData, Eval.now(0L)) { (num, eval) =>\n      eval.map(_ + num)\n    }\n\neval.value\n// res3: Long = 5000050000L\n\\end{lstlisting}"]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{InfoCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Stack"},{"t":"Space"},{"t":"Str","c":"Safety"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Standard"},{"t":"Space"},{"t":"Str","c":"Library"}]}]},{"t":"Para","c":[{"t":"Str","c":"Stack"},{"t":"Space"},{"t":"Str","c":"safety"},{"t":"Space"},{"t":"Str","c":"isn’t"},{"t":"Space"},{"t":"Str","c":"typically"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"issue"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"commonly"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"collection"},{"t":"Space"},{"t":"Str","c":"types,"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safe"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n(1 to 100000).toList.foldRight(0L)(_ + _)\n// res4: Long = 5000050000L\n(1 to 100000).toVector.foldRight(0L)(_ + _)\n// res5: Long = 5000050000L\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Stream"]},{"t":"Space"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"exception"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"rule."},{"t":"SoftBreak"},{"t":"Str","c":"Whatever"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"using,"},{"t":"Space"},{"t":"Str","c":"though,"},{"t":"SoftBreak"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"back."}]},{"t":"RawBlock","c":["latex","\\end{InfoCallout}"]}]]},{"t":"Header","c":[4,["folding-with-monoids",[],[]],[{"t":"Str","c":"Folding"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Monoids"}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"host"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"top"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Many"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"facsimiles"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"familiar"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library:"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"find"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"exists"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"forall"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"toList"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"isEmpty"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"nonEmpty"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"on:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nFoldable[Option].nonEmpty(Option(42))\n// res6: Boolean = true\n\nFoldable[List].find(List(1, 2, 3))(_ % 2 == 0)\n// res7: Option[Int] = Some(2)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"familiar"},{"t":"Space"},{"t":"Str","c":"methods,"},{"t":"SoftBreak"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoids"]},{"t":"Str","c":":"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"combineAll"]},{"t":"Space"},{"t":"Str","c":"(and"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"fold"]},{"t":"Str","c":")"},{"t":"Space"},{"t":"Str","c":"combines"},{"t":"SoftBreak"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"elements"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Str","c":";"}]}],[{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Space"},{"t":"Str","c":"maps"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"user-supplied"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"combines"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combineAll"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sum"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Int]"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.int._ // for Monoid\n\nFoldable[List].combineAll(List(1, 2, 3))\n// res8: Int = 6\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Alternatively,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"concatenate"},{"t":"Space"},{"t":"Str","c":"them:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.string._ // for Monoid\n\nFoldable[List].foldMap(List(1, 2, 3))(_.toString)\n// res9: String = \"123\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"compose"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldables"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"support"},{"t":"Space"},{"t":"Str","c":"deep"},{"t":"Space"},{"t":"Str","c":"traversal"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"nested"},{"t":"Space"},{"t":"Str","c":"sequences:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.vector._ // for Monoid\n\nval ints = List(Vector(1, 2, 3), Vector(4, 5, 6))\n\n(Foldable[List] compose Foldable[Vector]).combineAll(ints)\n// res11: Int = 21\n\\end{lstlisting}"]},{"t":"Header","c":[4,["syntax-for-foldable",[],[]],[{"t":"Str","c":"Syntax"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"Foldable"}]]},{"t":"Para","c":[{"t":"Str","c":"Every"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"available"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"SoftBreak"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.foldable"]}],["http://typelevel.org/cats/api/cats/syntax/package$$foldable$",""]]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"case,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"argument"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"SoftBreak"},{"t":"Str","c":"becomes"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"receiver"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"call:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.foldable._ // for combineAll and foldMap\n\nList(1, 2, 3).combineAll\n// res12: Int = 6\n\nList(1, 2, 3).foldMap(_.toString)\n// res13: String = \"123\"\n\\end{lstlisting}"]},{"t":"Div","c":[["",[],[]],[{"t":"RawBlock","c":["latex","\\begin{InfoCallout}"]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Explicits"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"Implicits"}]}]},{"t":"Para","c":[{"t":"Str","c":"Remember"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"isn’t"},{"t":"Space"},{"t":"Str","c":"explicitly"},{"t":"Space"},{"t":"Str","c":"available"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"receiver."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"SoftBreak"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nList(1, 2, 3).foldLeft(0)(_ + _)\n// res14: Int = 6\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"whereas"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n\n\ndef sum[F[_]: Foldable](values: F[Int]): Int =\n  values.foldLeft(0)(_ + _)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"typically"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"worry"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"distinction."},{"t":"Space"},{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"feature!"},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"needed"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"expected."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"stack-safe"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"accumulator"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"enough"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"force"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"select"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"Cats."}]},{"t":"RawBlock","c":["latex","\\end{InfoCallout}"]}]]},{"t":"Header","c":[2,["sec:traverse",[],[]],[{"t":"Str","c":"Traverse"}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"flexible"},{"t":"Space"},{"t":"Str","c":"iteration"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"require"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"lot"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"accumulators"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"combinator"},{"t":"Space"},{"t":"Str","c":"functions."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"higher"},{"t":"Space"},{"t":"Str","c":"level"},{"t":"Space"},{"t":"Str","c":"tool"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"leverages"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicatives"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"convenient,"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"lawful,"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"iteration."}]},{"t":"Header","c":[3,["traversing-with-futures",[],[]],[{"t":"Str","c":"Traversing"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Futures"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"demonstrate"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.traverse"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.sequence"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library."},{"t":"SoftBreak"},{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":"-specific"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"traverse"},{"t":"Space"},{"t":"Str","c":"pattern."},{"t":"SoftBreak"},{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"suppose"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"server"},{"t":"Space"},{"t":"Str","c":"hostnames"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"poll"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"host"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"uptime:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.concurrent._\nimport scala.concurrent.duration._\nimport scala.concurrent.ExecutionContext.Implicits.global\n\nval hostnames = List(\n  \"alpha.example.com\",\n  \"beta.example.com\",\n  \"gamma.demo.com\"\n)\n\ndef getUptime(hostname: String): Future[Int] =\n  Future(hostname.length * 60) // just for demonstration\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now,"},{"t":"Space"},{"t":"Str","c":"suppose"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"poll"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"hosts"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"collect"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"uptimes."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"hostnames"]},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result—a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Future[Int]]"]},{"t":"Str","c":"—would"},{"t":"SoftBreak"},{"t":"Str","c":"contain"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"reduce"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"something"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"block"},{"t":"Space"},{"t":"Str","c":"on."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"doing"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"manually"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"fold:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval allUptimes: Future[List[Int]] =\n  hostnames.foldLeft(Future(List.empty[Int])) {\n    (accum, host) =>\n      val uptime = getUptime(host)\n      for {\n        accum  <- accum\n        uptime <- uptime\n      } yield accum :+ uptime\n  }\n\nAwait.result(allUptimes, 1.second)\n// res0: List[Int] = List(1020, 960, 840)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Intuitively,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"iterate"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"hostnames"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"func"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"item,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"sounds"},{"t":"Space"},{"t":"Str","c":"simple,"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"fairly"},{"t":"Space"},{"t":"Str","c":"unwieldy"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"iteration."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"improve"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"things"},{"t":"Space"},{"t":"Str","c":"greatly"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.traverse"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"tailor-made"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"pattern:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval allUptimes: Future[List[Int]] =\n  Future.traverse(hostnames)(getUptime)\n\nAwait.result(allUptimes, 1.second)\n// res2: List[Int] = List(1020, 960, 840)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"much"},{"t":"Space"},{"t":"Str","c":"clearer"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"concise—let’s"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"works."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"ignore"},{"t":"Space"},{"t":"Str","c":"distractions"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"CanBuildFrom"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.traverse"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"looks"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"this:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef traverse[A, B](values: List[A])\n    (func: A => Future[B]): Future[List[B]] =\n  values.foldLeft(Future(List.empty[B])) { (accum, host) =>\n    val item = func(host)\n    for {\n      accum <- accum\n      item  <- item\n    } yield accum :+ item\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"essentially"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"above."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Future.traverse"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"abstracting"},{"t":"Space"},{"t":"Str","c":"away"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"pain"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"folding"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"accumulators"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"combination"},{"t":"Space"},{"t":"Str","c":"functions."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"clean"},{"t":"Space"},{"t":"Str","c":"high-level"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[A]"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => Future[B]"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future[List[B]]"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.sequence"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"assumes"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"starting"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Future[B]]"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"function:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nobject Future {\n  def sequence[B](futures: List[Future[B]]): Future[List[B]] =\n    traverse(futures)(identity)\n\n  // etc...\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"intuitive"},{"t":"Space"},{"t":"Str","c":"understanding"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"simpler:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Future[A]]"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future[List[A]]"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Future.traverse"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.sequence"]},{"t":"SoftBreak"},{"t":"Str","c":"solve"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"specific"},{"t":"Space"},{"t":"Str","c":"problem:"},{"t":"SoftBreak"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"iterate"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"accumulate"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"result."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"simplified"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"real"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.traverse"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.sequence"]},{"t":"SoftBreak"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"collection."}]},{"t":"Para","c":[{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"generalises"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"patterns"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":":"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Validated"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"on."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"next"},{"t":"Space"},{"t":"Str","c":"sections"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"steps:"},{"t":"SoftBreak"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"generalise"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"generalise"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"extremely"},{"t":"Space"},{"t":"Str","c":"valuable"},{"t":"Space"},{"t":"Str","c":"tool"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"trivialises"},{"t":"SoftBreak"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"involving"},{"t":"Space"},{"t":"Str","c":"sequences"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types."}]},{"t":"Header","c":[3,["traversing-with-applicatives",[],[]],[{"t":"Str","c":"Traversing"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Applicatives"}]]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"squint,"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"rewrite"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"traverse"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"accumulator"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"above:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nFuture(List.empty[Int])\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative.pure"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Applicative\nimport cats.instances.future._   // for Applicative\nimport cats.syntax.applicative._ // for pure\n\nList.empty[Int].pure[Future]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"combinator,"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"this:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef oldCombine(\n  accum : Future[List[Int]],\n  host  : String\n): Future[List[Int]] = {\n  val uptime = getUptime(host)\n  for {\n    accum  <- accum\n    uptime <- uptime\n  } yield accum :+ uptime\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroupal.combine"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.apply._ // for mapN\n\n// Combining accumulator and hostname using an Applicative:\ndef newCombine(accum: Future[List[Int]],\n      host: String): Future[List[Int]] =\n  (accum, getUptime(host)).mapN(_ :+ _)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"By"},{"t":"Space"},{"t":"Str","c":"substituting"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"snippets"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"traverse"]},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"generalise"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n\ndef listTraverse[F[_]: Applicative, A, B]\n      (list: List[A])(func: A => F[B]): F[List[B]] =\n  list.foldLeft(List.empty[B].pure[F]) { (accum, item) =>\n    (accum, func(item)).mapN(_ :+ _)\n  }\n\ndef listSequence[F[_]: Applicative, B]\n      (list: List[F[B]]): F[List[B]] =\n  listTraverse(list)(identity)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"listTraverse"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"re-implement"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"uptime"},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval totalUptime = listTraverse(hostnames)(getUptime)\n\nAwait.result(totalUptime, 1.second)\n// res5: List[Int] = List(1020, 960, 840)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"exercises."}]},{"t":"Header","c":[4,["exercise-traversing-with-vectors",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Traversing"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Vectors"}]]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following?"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.vector._ // for Applicative\n\nlistSequence(List(Vector(1, 2), Vector(3, 4)))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:3384f66e5c912c1b4bcf4f0b40ef5e59",""]]}]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"parameters?"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nlistSequence(List(Vector(1, 2), Vector(3, 4), Vector(5, 6)))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:e25a61aa3fe05eb85b41190ce790a474",""]]}]},{"t":"Header","c":[4,["exercise-traversing-with-options",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Traversing"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Options"}]]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Options"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.option._ // for Applicative\n\ndef process(inputs: List[Int]) =\n  listTraverse(inputs)(n => if(n % 2 == 0) Some(n) else None)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"method?"},{"t":"Space"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"inputs?"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nprocess(List(2, 4, 6))\nprocess(List(1, 2, 3))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:85188ec1673b0979591ce536324968a6",""]]}]},{"t":"Header","c":[4,["exercise-traversing-with-validated",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Traversing"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Validated"}]]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Validated"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.Validated\nimport cats.instances.list._ // for Monoid\n\ntype ErrorsOr[A] = Validated[List[String], A]\n\ndef process(inputs: List[Int]): ErrorsOr[List[Int]] =\n  listTraverse(inputs) { n =>\n    if(n % 2 == 0) {\n      Validated.valid(n)\n    } else {\n      Validated.invalid(List(s\"$n is not even\"))\n    }\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"inputs?"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nprocess(List(2, 4, 6))\nprocess(List(1, 2, 3))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:fbf8cca97530a91b41d64272b6da9747",""]]}]},{"t":"Header","c":[3,["traverse-in-cats",[],[]],[{"t":"Str","c":"Traverse"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Cats"}]]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"listTraverse"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"listSequence"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"sequence:"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"generalise"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"brings"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"abbreviated"},{"t":"Space"},{"t":"Str","c":"definition:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\npackage cats\n\ntrait Traverse[F[_]] {\n  def traverse[G[_]: Applicative, A, B]\n      (inputs: F[A])(func: A => G[B]): G[F[B]]\n\n  def sequence[G[_]: Applicative, B]\n      (inputs: F[G[B]]): G[F[B]] =\n    traverse(inputs)(identity)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Stream"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"variety"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"types."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"summon"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"usual"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse.apply"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"traverse"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"sequence"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"described"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"section:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Traverse\nimport cats.instances.future._ // for Applicative\nimport cats.instances.list._   // for Traverse\n\nval totalUptime: Future[List[Int]] =\n  Traverse[List].traverse(hostnames)(getUptime)\n\nAwait.result(totalUptime, 1.second)\n// res0: List[Int] = List(1020, 960, 840)\n\nval numbers = List(Future(1), Future(2), Future(3))\n\nval numbers2: Future[List[Int]] =\n  Traverse[List].sequence(numbers)\n\nAwait.result(numbers2, 1.second)\n// res1: List[Int] = List(1, 2, 3)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"versions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"methods,"},{"t":"SoftBreak"},{"t":"Str","c":"imported"},{"t":"Space"},{"t":"Str","c":"via"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.syntax.traverse"]}],["http://typelevel.org/cats/api/cats/syntax/package$$traverse$",""]]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.traverse._ // for sequence and traverse\n\nAwait.result(hostnames.traverse(getUptime), 1.second)\n// res2: List[Int] = List(1020, 960, 840)\nAwait.result(numbers.sequence, 1.second)\n// res3: List[Int] = List(1, 2, 3)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"see,"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"much"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"compact"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"readable"},{"t":"SoftBreak"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"started"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"earlier"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter!"}]},{"t":"Header","c":[2,["summary-6",[],[]],[{"t":"Str","c":"Summary"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"chapter"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"were"},{"t":"Space"},{"t":"Str","c":"introduced"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"iterating"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"sequences."}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"abstracts"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"collections"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"adds"},{"t":"Space"},{"t":"Str","c":"stack-safe"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"handful"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"extra"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"defines"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"host"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"situationally"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"additions."},{"t":"SoftBreak"},{"t":"Str","c":"That"},{"t":"Space"},{"t":"Str","c":"said,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"introduce"},{"t":"Space"},{"t":"Str","c":"much"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"didn’t"},{"t":"Space"},{"t":"Str","c":"already"},{"t":"Space"},{"t":"Str","c":"know."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"real"},{"t":"Space"},{"t":"Str","c":"power"},{"t":"Space"},{"t":"Str","c":"comes"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"abstracts"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"generalises"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"traverse"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"sequence"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Using"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"turn"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[G[A]]"]},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"G[F[A]]"]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"G"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"reduction"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"lines"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"code,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"powerful"},{"t":"Space"},{"t":"Str","c":"patterns"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"reduce"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"folds"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"lines"},{"t":"Space"},{"t":"Str","c":"down"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foo.traverse"]},{"t":"Str","c":"."}]},{"t":"HorizontalRule"},{"t":"Para","c":[{"t":"Str","c":"…and"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"that,"},{"t":"SoftBreak"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"finished"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"theory"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book."},{"t":"SoftBreak"},{"t":"Str","c":"There’s"},{"t":"Space"},{"t":"Str","c":"plenty"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"come,"},{"t":"Space"},{"t":"Str","c":"though,"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"put"},{"t":"Space"},{"t":"Str","c":"everything"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"learned"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"practice"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"series"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"in-depth"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"studies"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Part"},{"t":"Space"},{"t":"Str","c":"II!"}]},{"t":"Para","c":[{"t":"RawInline","c":["tex","\\partimage[width=.5\\linewidth]{src/pages/parts/part2.png}"]},{"t":"SoftBreak"},{"t":"RawInline","c":["tex","\\part{Case Studies}"]}]},{"t":"Header","c":[1,["sec:case-studies:testing",[],[]],[{"t":"Str","c":"Case"},{"t":"Space"},{"t":"Str","c":"Study:"},{"t":"Space"},{"t":"Str","c":"Testing"},{"t":"Space"},{"t":"Str","c":"Asynchronous"},{"t":"Space"},{"t":"Str","c":"Code"}]]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"straightforward"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study:"},{"t":"SoftBreak"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"simplify"},{"t":"Space"},{"t":"Str","c":"unit"},{"t":"Space"},{"t":"Str","c":"tests"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"asynchronous"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"making"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"synchronous."}]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"7"},{"t":"SoftBreak"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"measuring"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"uptime"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"servers."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"flesh"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"structure."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"components."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeClient"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"polls"},{"t":"Space"},{"t":"Str","c":"remote"},{"t":"Space"},{"t":"Str","c":"servers"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"uptime:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.concurrent.Future\n\ntrait UptimeClient {\n  def getUptime(hostname: String): Future[Int]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeService"]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"maintains"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"servers"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"poll"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"total"},{"t":"Space"},{"t":"Str","c":"uptime:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.future._ // for Applicative\nimport cats.instances.list._   // for Traverse\nimport cats.syntax.traverse._  // for traverse\nimport scala.concurrent.ExecutionContext.Implicits.global\n\nclass UptimeService(client: UptimeClient) {\n  def getTotalUptime(hostnames: List[String]): Future[Int] =\n    hostnames.traverse(client.getUptime).map(_.sum)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"modelled"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeClient"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"trait"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"going"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"stub"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"unit"},{"t":"Space"},{"t":"Str","c":"tests."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"client"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"dummy"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"SoftBreak"},{"t":"Str","c":"rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"calling"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"actual"},{"t":"Space"},{"t":"Str","c":"servers:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nclass TestUptimeClient(hosts: Map[String, Int]) extends UptimeClient {\n  def getUptime(hostname: String): Future[Int] =\n    Future.successful(hosts.getOrElse(hostname, 0))\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now,"},{"t":"Space"},{"t":"Str","c":"suppose"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"unit"},{"t":"Space"},{"t":"Str","c":"tests"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeService"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"ability"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sum"},{"t":"Space"},{"t":"Str","c":"values,"},{"t":"SoftBreak"},{"t":"Str","c":"regardless"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"getting"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"from."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef testTotalUptime() = {\n  val hosts    = Map(\"host1\" -> 10, \"host2\" -> 6)\n  val client   = new TestUptimeClient(hosts)\n  val service  = new UptimeService(client)\n  val actual   = service.getTotalUptime(hosts.keys.toList)\n  val expected = hosts.values.sum\n  assert(actual == expected)\n}\n//\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"compile"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"made"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"classic"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"Technically"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"warning"}]},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"been"},{"t":"Space"},{"t":"Str","c":"promoted"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"-Xfatal-warnings"]},{"t":"Space"},{"t":"Str","c":"flag"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"scalac"]},{"t":"Str","c":"."}]}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"forgot"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"application"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"asynchronous."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"actual"]},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future[Int]"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"expected"]},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"compare"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"directly!"}]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"couple"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"ways"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"solve"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"problem."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"alter"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"accommodate"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"asynchronousness."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"alternative."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"service"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"synchronous"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"modification!"}]},{"t":"Header","c":[2,["abstracting-over-type-constructors",[],[]],[{"t":"Str","c":"Abstracting"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Constructors"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"versions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeClient"]},{"t":"Str","c":":"},{"t":"SoftBreak"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"asynchronous"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"production"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"synchronous"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"unit"},{"t":"Space"},{"t":"Str","c":"tests:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait RealUptimeClient extends UptimeClient {\n  def getUptime(hostname: String): Future[Int]\n}\n\ntrait TestUptimeClient extends UptimeClient {\n  def getUptime(hostname: String): Int\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"question"},{"t":"Space"},{"t":"Str","c":"is:"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"give"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeClient"]},{"t":"Str","c":"?"},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future[Int]"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait UptimeClient {\n  def getUptime(hostname: String): ???\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"At"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"seem"},{"t":"Space"},{"t":"Str","c":"difficult."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"retain"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"part"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"throw"},{"t":"Space"},{"t":"Str","c":"away"}]]},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"part"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"Fortunately,"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"solution"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"type"}]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"discussed"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"4.3"},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"wrap"}]]},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"changing"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"meaning:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\npackage cats\n\ntype Id[A] = A\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeClient"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"now:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"trait"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeClient"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[_]"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter;"}]}],[{"t":"Para","c":[{"t":"Str","c":"extend"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"traits,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"RealUptimeClient"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"TestUptimeClient"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"bind"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Space"},{"t":"Str","c":"respectively;"}]}],[{"t":"Para","c":[{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"signature"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"getUptime"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"verify"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"compiles."}]}]]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:d3378fa77d6ab042c4c97fa4c25b2093",""]]}]},{"t":"Para","c":[{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"flesh"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"TestUptimeClient"]},{"t":"SoftBreak"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"full"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"based"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Map[String, Int]"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"before."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:cc1f183c52ef5c6c2ba3d60b01024e99",""]]}]},{"t":"Header","c":[2,["abstracting-over-monads",[],[]],[{"t":"Str","c":"Abstracting"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"Monads"}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"turn"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"attention"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeService"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"rewrite"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeClient"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"stages:"},{"t":"SoftBreak"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"rewrite"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"signatures,"},{"t":"SoftBreak"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"bodies."},{"t":"SoftBreak"},{"t":"Str","c":"Starting"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"signatures:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"comment"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"body"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"getTotalUptime"]},{"t":"SoftBreak"},{"t":"Str","c":"(replace"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"???"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"everything"},{"t":"Space"},{"t":"Str","c":"compile);"}]}],[{"t":"Para","c":[{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[_]"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeService"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"pass"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeClient"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:7ca5eccbd9a2031355f44b330264a8ba",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"uncomment"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"body"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"getTotalUptime"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"compilation"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// <console>:28: error: could not find implicit value for\n//               evidence parameter of type cats.Applicative[F]\n//            hostnames.traverse(client.getUptime).map(_.sum)\n//                              ^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"problem"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"traverse"]},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"sequences"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"original"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"were"},{"t":"Space"},{"t":"Str","c":"traversing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Future[Int]]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"was"},{"t":"Space"},{"t":"Str","c":"fine."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"traversing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[F[Int]]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"prove"}]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Do"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"adding"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeService"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:1d7cad1b9880227857c117dd29856bd1",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"turn"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"attention"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"unit"},{"t":"Space"},{"t":"Str","c":"tests."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"intended"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"modification."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"TestUptimeClient"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"wrap"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"UptimeService"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"effectively"},{"t":"Space"},{"t":"Str","c":"binds"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"allowing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"rest"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"operate"},{"t":"SoftBreak"},{"t":"Str","c":"synchronously"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"worrying"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"applicatives:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef testTotalUptime() = {\n  val hosts    = Map(\"host1\" -> 10, \"host2\" -> 6)\n  val client   = new TestUptimeClient(hosts)\n  val service  = new UptimeService(client)\n  val actual   = service.getTotalUptime(hosts.keys.toList)\n  val expected = hosts.values.sum\n  assert(actual == expected)\n}\n\ntestTotalUptime()\n\\end{lstlisting}"]},{"t":"Header","c":[2,["summary-7",[],[]],[{"t":"Str","c":"Summary"}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"help"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"SoftBreak"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"computational"},{"t":"Space"},{"t":"Str","c":"scenarios."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"asynchronous"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"synchronous"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"Leaning"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"abstraction"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"specify"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"perform"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"worrying"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"details"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation."}]},{"t":"Para","c":[{"t":"Str","c":"Back"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"10"},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"showed"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"stack"}]]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"computational"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"meant"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"exactly"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"kind"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"abstraction."},{"t":"SoftBreak"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"patterns"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"mapping,"},{"t":"Space"},{"t":"Str","c":"zipping,"},{"t":"Space"},{"t":"Str","c":"sequencing,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"iteration."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"mathematical"},{"t":"Space"},{"t":"Str","c":"laws"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"those"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"consistent"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"semantics."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"was"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"least"},{"t":"Space"},{"t":"Str","c":"powerful"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"did"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"needed."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"had"},{"t":"Space"},{"t":"Str","c":"required"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"swapped"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"had"},{"t":"Space"},{"t":"Str","c":"needed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"types,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ApplicativeError"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"MonadError"]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"help"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"failures"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"well"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"successful"},{"t":"Space"},{"t":"Str","c":"computations."}]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"move"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"complex"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"SoftBreak"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"help"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"something"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"interesting:"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"map-reduce-style"},{"t":"Space"},{"t":"Str","c":"framework"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"processing."}]},{"t":"Header","c":[1,["map-reduce",[],[]],[{"t":"Str","c":"Case"},{"t":"Space"},{"t":"Str","c":"Study:"},{"t":"Space"},{"t":"Str","c":"Map-Reduce"}]]},{"t":"RawBlock","c":["html","<!--\nTODO:\n\n- DONE - talk about map-reduce - it's just foldMap\n- DONE - introduce/reimplement foldMap\n- DONE - implement parallelFoldMap to mimic map-reduce\n  - DONE - mention that we're specifically imitating multi-machine\n           map-reduce where we need to split data between machines\n           in large blocks\n  - DONE - implement in terms of our foldMap first\n  - DONE - then implement in terms of Cats' foldMap\n  - DONE - talk about traverse\n- summary\n  - DONE - real-world map-reduce has communication costs\n  - DONE - multi-cpu map-reduce doesn't have communication costs\n  - DONE - parallelFoldMap mimics multi-machine\n  - DONE - our final version of parallelFoldMap (based on traverse) is far simpler\n  - talk about substitution and the things it doesn't model:\n    - performance\n    - parallelism\n    - side-effects (future starts immediately)\n    - etc...\n\nTODO:\n\n- DONE - drop the current foldMapM stuff\n- DONE - maybe move it elsewhere\n-->"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"going"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple-but-powerful"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"processing"},{"t":"Space"},{"t":"Str","c":"framework"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoids"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functors"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"host"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"goodies."}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"Hadoop"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"otherwise"},{"t":"Space"},{"t":"Str","c":"worked"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"big"},{"t":"Space"},{"t":"Str","c":"data"}]]},{"t":"SoftBreak"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"heard"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"MapReduce"}],["http://research.google.com/archive/map-reduce.html",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"doing"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"processing"},{"t":"SoftBreak"},{"t":"Str","c":"across"},{"t":"Space"},{"t":"Str","c":"clusters"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"(aka"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"nodes"}]]},{"t":"Str","c":")."},{"t":"SoftBreak"},{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"name"},{"t":"Space"},{"t":"Str","c":"suggests,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"built"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"map"}]},{"t":"Space"},{"t":"Str","c":"phase,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"reduce"}]},{"t":"Space"},{"t":"Str","c":"phase,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"usually"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"fold"]},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"Hadoop"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"shuffle"},{"t":"Space"},{"t":"Str","c":"phase"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"ignore"},{"t":"Space"},{"t":"Str","c":"here."}]}]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala."}]},{"t":"Header","c":[2,["parallelizing-map-and-fold",[],[]],[{"t":"Str","c":"Parallelizing"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"map"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"fold"}]}]]},{"t":"Para","c":[{"t":"Str","c":"Recall"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"signature"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"returning"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[B]"]},{"t":"Str","c":":"}]},{"t":"Para","c":[{"t":"Image","c":[["fig:map-reduce:functor-type-chart",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"12:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart:"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"map"}],["src/pages/functors/generic-map.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"transforms"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"individual"},{"t":"Space"},{"t":"Str","c":"element"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"independently."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"easily"},{"t":"Space"},{"t":"Str","c":"parallelize"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"because"},{"t":"SoftBreak"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"dependencies"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"transformations"},{"t":"Space"},{"t":"Str","c":"applied"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"elements"},{"t":"SoftBreak"},{"t":"Str","c":"(the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"signature"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"Space"},{"t":"Str","c":"shows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"this,"},{"t":"SoftBreak"},{"t":"Str","c":"assuming"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"side-effects"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"reflected"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types)."}]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"fold"]},{"t":"Str","c":"?"},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Not"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"foldable"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"map-reduce"},{"t":"Space"},{"t":"Str","c":"system"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"top"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"reduction"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"Space"},{"t":"Str","c":"becomes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"SoftBreak"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"distributed"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:map-reduce:foldleft-type-chart",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"13:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart:"},{"t":"Space"},{"t":"Str","c":"fold"}],["src/pages/foldable-traverse/generic-foldleft.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"By"},{"t":"Space"},{"t":"Str","c":"distributing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"reduce"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"lose"},{"t":"Space"},{"t":"Str","c":"control"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"traversal."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"overall"},{"t":"Space"},{"t":"Str","c":"reduction"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"entirely"},{"t":"Space"},{"t":"Str","c":"left-to-right—we"},{"t":"SoftBreak"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"reduce"},{"t":"Space"},{"t":"Str","c":"left-to-right"},{"t":"Space"},{"t":"Str","c":"across"},{"t":"Space"},{"t":"Str","c":"several"},{"t":"Space"},{"t":"Str","c":"subsequences"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"Space"},{"t":"Str","c":"correctness"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"reduction"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"associative"}]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nreduce(a1, reduce(a2, a3)) == reduce(reduce(a1, a2), a3)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"associativity,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"arbitrarily"},{"t":"Space"},{"t":"Str","c":"distribute"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"SoftBreak"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"nodes"},{"t":"Space"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"subsequences"},{"t":"SoftBreak"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"node"},{"t":"Space"},{"t":"Str","c":"stay"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"initial"},{"t":"Space"},{"t":"Str","c":"dataset."}]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"fold"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"seed"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"element"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Since"},{"t":"Space"},{"t":"Str","c":"fold"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"split"},{"t":"SoftBreak"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"arbitrary"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"steps,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"seed"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"affect"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"naturally"},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"seed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"identity"}]},{"t":"Space"},{"t":"Str","c":"element:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nreduce(seed, a1) == reduce(a1, seed) == a1\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"summary,"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"fold"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"yield"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"if:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"require"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"reducer"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"associative;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"seed"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"function."}]}]]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"sound"},{"t":"Space"},{"t":"Str","c":"like?"},{"t":"SoftBreak"},{"t":"Str","c":"That’s"},{"t":"Space"},{"t":"Str","c":"right,"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"come"},{"t":"Space"},{"t":"Str","c":"full"},{"t":"Space"},{"t":"Str","c":"circle"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"discussed"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"recognise"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"importance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"monoids."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"design"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"map-reduce"},{"t":"Space"},{"t":"Str","c":"jobs"}],["http://arxiv.org/abs/1304.7544",""]]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"core"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"recent"},{"t":"Space"},{"t":"Str","c":"big"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"systems"},{"t":"SoftBreak"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"Twitter’s"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Summingbird"}],["https://github.com/twitter/summingbird",""]]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"project"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"going"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"single-machine"},{"t":"Space"},{"t":"Str","c":"map-reduce."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"implementing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data-flow"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need."}]},{"t":"Header","c":[2,["implementing-foldmap",[],[]],[{"t":"Str","c":"Implementing"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"foldMap"}]}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Space"},{"t":"Str","c":"briefly"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"covered"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"derived"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"sits"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"top"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"re-implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"ourselves"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"insight"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"map-reduce."}]},{"t":"Para","c":[{"t":"Str","c":"Start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"signature"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"parameters:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector[A]"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":";"}]}]]},{"t":"Para","c":[{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"bounds"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"signature."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:20768a4d870dcf5d94d8f14afd37d02f",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"body"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"flow"},{"t":"Space"},{"t":"Str","c":"chart"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"14"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"guide"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"steps"},{"t":"Space"},{"t":"Str","c":"required:"}]},{"t":"OrderedList","c":[[1,{"t":"Decimal"},{"t":"Period"}],[[{"t":"Plain","c":[{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"items"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"map"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"produce"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"items"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"reduce"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"items"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":"."}]}]]]},{"t":"Para","c":[{"t":"Image","c":[["fig:map-reduce:fold-map",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"14:"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"foldMap"}]},{"t":"Space"},{"t":"Str","c":"algorithm"}],["src/pages/case-studies/map-reduce/fold-map.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"sample"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"reference:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.int._ // for Monoid\n\nfoldMap(Vector(1, 2, 3))(identity)\n// res1: Int = 6\n\nimport cats.instances.string._ // for Monoid\n\n// Mapping to a String uses the concatenation monoid:\nfoldMap(Vector(1, 2, 3))(_.toString + \"! \")\n// res2: String = \"1! 2! 3! \"\n\n// Mapping over a String to produce a String:\nfoldMap(\"Hello world!\".toVector)(_.toString.toUpperCase)\n// res3: String = \"HELLO WORLD!\"\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:bc5aa4dcb5c5db1b4a283d822788b8bd",""]]}]},{"t":"Header","c":[2,["parallelising-foldmap",[],[]],[{"t":"Str","c":"Parallelising"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"foldMap"}]}]]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"single-threaded"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"distributing"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"parallel."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"single-threaded"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"block."}]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"multi-CPU"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"simulates"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"distribute"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"map-reduce"},{"t":"Space"},{"t":"Str","c":"cluster"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"15"},{"t":"Str","c":":"}]},{"t":"OrderedList","c":[[1,{"t":"Decimal"},{"t":"Period"}],[[{"t":"Plain","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"initial"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"process;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"divide"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"batches,"},{"t":"Space"},{"t":"Str","c":"sending"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"batch"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"CPU;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"CPUs"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"batch-level"},{"t":"Space"},{"t":"Str","c":"map"},{"t":"Space"},{"t":"Str","c":"phase"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"parallel;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"CPUs"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"batch-level"},{"t":"Space"},{"t":"Str","c":"reduce"},{"t":"Space"},{"t":"Str","c":"phase"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"parallel,"},{"t":"SoftBreak"},{"t":"Str","c":"producing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"local"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"batch;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"reduce"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"batch"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"result."}]}]]]},{"t":"Para","c":[{"t":"Image","c":[["fig:map-reduce:parallel-fold-map",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"15:"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"parallelFoldMap"}]},{"t":"Space"},{"t":"Str","c":"algorithm"}],["src/pages/case-studies/map-reduce/parallel-fold-map.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"tools"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"distribute"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"amongst"},{"t":"Space"},{"t":"Str","c":"threads."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"collections"},{"t":"Space"},{"t":"Str","c":"library"}],["http://docs.scala-lang.org/overviews/parallel-collections/overview.html",""]]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"solution,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"challenge"},{"t":"Space"},{"t":"Str","c":"ourselves"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"diving"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"bit"},{"t":"Space"},{"t":"Str","c":"deeper"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"implementing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"algorithm"},{"t":"Space"},{"t":"Str","c":"ourselves"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"Str","c":"."}]},{"t":"Header","c":[3,["futures-thread-pools-and-executioncontexts",[],[]],[{"t":"Emph","c":[{"t":"Str","c":"Futures"}]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"Thread"},{"t":"Space"},{"t":"Str","c":"Pools,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"ExecutionContexts"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"already"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"fair"},{"t":"Space"},{"t":"Str","c":"amount"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monadic"},{"t":"Space"},{"t":"Str","c":"nature"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"take"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"moment"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"quick"},{"t":"Space"},{"t":"Str","c":"recap,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"describe"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"futures"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"scheduled"},{"t":"Space"},{"t":"Str","c":"behind"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"scenes."}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"thread"},{"t":"Space"},{"t":"Str","c":"pool,"},{"t":"SoftBreak"},{"t":"Str","c":"determined"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext"]},{"t":"Space"},{"t":"Str","c":"parameter."},{"t":"SoftBreak"},{"t":"Str","c":"Whenever"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"whether"},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.apply"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"combinator,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.concurrent.Future\nimport scala.concurrent.ExecutionContext.Implicits.global\n\nval future1 = Future {\n  (1 to 100).toList.foldLeft(0)(_ + _)\n}\n// future1: Future[Int] = Future(Success(5050))\n\nval future2 = Future {\n  (100 to 200).toList.foldLeft(0)(_ + _)\n}\n// future2: Future[Int] = Future(Success(15150))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"imported"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext.Implicits.global"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"default"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"allocates"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"thread"},{"t":"Space"},{"t":"Str","c":"pool"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"thread"},{"t":"Space"},{"t":"Str","c":"per"},{"t":"Space"},{"t":"Str","c":"CPU"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"machine."},{"t":"SoftBreak"},{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext"]},{"t":"Space"},{"t":"Str","c":"schedules"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"execution."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"free"},{"t":"Space"},{"t":"Str","c":"thread"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"pool,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"starts"},{"t":"Space"},{"t":"Str","c":"executing"},{"t":"Space"},{"t":"Str","c":"immediately."},{"t":"SoftBreak"},{"t":"Str","c":"Most"},{"t":"Space"},{"t":"Str","c":"modern"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"least"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"CPUs,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"likely"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"future1"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"future2"]},{"t":"SoftBreak"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"execute"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"parellel."}]},{"t":"Para","c":[{"t":"Str","c":"Some"},{"t":"Space"},{"t":"Str","c":"combinators"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"schedule"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"based"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"methods,"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"schedule"},{"t":"Space"},{"t":"Str","c":"computations"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"soon"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"SoftBreak"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"computed"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"CPU"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"available:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval future3 = future1.map(_.toString)\n// future3: Future[String] = Future(Success(5050))\n\nval future4 = for {\n  a <- future1\n  b <- future2\n} yield a + b\n// future4: Future[Int] = Future(Success(20200))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"7.2"},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Future[A]]"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future[List[A]]"]},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.sequence"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nFuture.sequence(List(Future(1), Future(2), Future(3)))\n// res6: Future[List[Int]] = Future(Success(List(1, 2, 3)))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverse"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.future._ // for Applicative\nimport cats.instances.list._   // for Traverse\nimport cats.syntax.traverse._  // for sequence\n\nList(Future(1), Future(2), Future(3)).sequence\n// res7: Future[List[Int]] = Future(Success(List(1, 2, 3)))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"An"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ExecutionContext"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"required"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"case."},{"t":"SoftBreak"},{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Await.result"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"block"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"until"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"available:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.concurrent._\nimport scala.concurrent.duration._\n\nAwait.result(Future(1), 1.second) // wait for the result\n// res8: Int = 1\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"implementations"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"SoftBreak"},{"t":"Str","c":"available"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.instances.future"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.{Monad, Monoid}\nimport cats.instances.int._    // for Monoid\nimport cats.instances.future._ // for Monad and Monoid\n\nMonad[Future].pure(42)\n\nMonoid[Future[Int]].combine(Future(1), Future(2))\n\\end{lstlisting}"]},{"t":"Header","c":[3,["dividing-work",[],[]],[{"t":"Str","c":"Dividing"},{"t":"Space"},{"t":"Str","c":"Work"}]]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"refreshed"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"memory"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Futures"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"divide"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"batches."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"query"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"available"},{"t":"Space"},{"t":"Str","c":"CPUs"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"API"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Java"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"library:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nRuntime.getRuntime.availableProcessors\n// res11: Int = 2\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"partition"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"SoftBreak"},{"t":"Str","c":"(actually"},{"t":"Space"},{"t":"Str","c":"anything"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"implements"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"Str","c":")"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"grouped"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"split"},{"t":"Space"},{"t":"Str","c":"off"},{"t":"Space"},{"t":"Str","c":"batches"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"CPU:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n(1 to 10).toList.grouped(3).toList\n// res12: List[List[Int]] = List(\n//   List(1, 2, 3),\n//   List(4, 5, 6),\n//   List(7, 8, 9),\n//   List(10)\n// )\n\\end{lstlisting}"]},{"t":"Header","c":[3,["implementing-parallelfoldmap",[],[]],[{"t":"Str","c":"Implementing"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"parallelFoldMap"}]}]]},{"t":"Para","c":[{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"parallelFoldMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"signature:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef parallelFoldMap[A, B : Monoid]\n      (values: Vector[A])\n      (func: A => B): Future[B] = ???\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"techniques"},{"t":"Space"},{"t":"Str","c":"described"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"split"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"batches,"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"batch"},{"t":"Space"},{"t":"Str","c":"per"},{"t":"Space"},{"t":"Str","c":"CPU."},{"t":"SoftBreak"},{"t":"Str","c":"Process"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"batch"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"thread."},{"t":"SoftBreak"},{"t":"Str","c":"Refer"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"15"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"review"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"overall"},{"t":"Space"},{"t":"Str","c":"algorithm."}]},{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"bonus"},{"t":"Space"},{"t":"Str","c":"points,"},{"t":"Space"},{"t":"Str","c":"process"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"batches"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"CPU"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"above."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:33eb2f9e1612df99e5df6f948596dd6a",""]]}]},{"t":"Header","c":[3,["parallelfoldmap-with-more-cats",[],[]],[{"t":"Emph","c":[{"t":"Str","c":"parallelFoldMap"}]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"Cats"}]]},{"t":"Para","c":[{"t":"Str","c":"Although"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Space"},{"t":"Str","c":"ourselves"},{"t":"Space"},{"t":"Str","c":"above,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"available"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"part"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"SoftBreak"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"discussed"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"7.1"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Reimplement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"parallelFoldMap"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"Cats’"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Traverseable"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:739decfb88e2864a9d6f62e057a27213",""]]}]},{"t":"Header","c":[2,["summary-8",[],[]],[{"t":"Str","c":"Summary"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"system"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"imitates"},{"t":"Space"},{"t":"Str","c":"map-reduce"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"performed"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"cluster."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"algorithm"},{"t":"Space"},{"t":"Str","c":"followed"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"steps:"}]},{"t":"OrderedList","c":[[1,{"t":"Decimal"},{"t":"Period"}],[[{"t":"Plain","c":[{"t":"Str","c":"batch"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"send"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"batch"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"node"}]]},{"t":"Str","c":";"}]}],[{"t":"Plain","c":[{"t":"Str","c":"perform"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"local"},{"t":"Space"},{"t":"Str","c":"map-reduce"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"batch;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"addition."}]}]]]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"toy"},{"t":"Space"},{"t":"Str","c":"system"},{"t":"Space"},{"t":"Str","c":"emulates"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"batching"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"real-world"},{"t":"Space"},{"t":"Str","c":"map-reduce"},{"t":"Space"},{"t":"Str","c":"systems"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"Hadoop."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"reality"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"running"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"communcation"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"nodes"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"negligible."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"actually"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"batch"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"gain"},{"t":"Space"},{"t":"Str","c":"efficient"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"processing"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"map"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"reduce"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Regardless"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"batching"},{"t":"Space"},{"t":"Str","c":"strategy,"},{"t":"SoftBreak"},{"t":"Str","c":"mapping"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"reducing"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoids"]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"powerful"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"framework"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"isn’t"},{"t":"Space"},{"t":"Str","c":"limited"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"tasks"},{"t":"SoftBreak"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"string"},{"t":"Space"},{"t":"Str","c":"concatenation."},{"t":"SoftBreak"},{"t":"Str","c":"Most"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"tasks"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"scientists"},{"t":"Space"},{"t":"Str","c":"perform"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"day-to-day"},{"t":"Space"},{"t":"Str","c":"analyses"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"cast"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"monoids."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"approximate"},{"t":"Space"},{"t":"Str","c":"sets"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Bloom"},{"t":"Space"},{"t":"Str","c":"filter;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"cardinality"},{"t":"Space"},{"t":"Str","c":"estimators,"},{"t":"SoftBreak"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"HyperLogLog"},{"t":"Space"},{"t":"Str","c":"algorithm;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"vectors"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"vector"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"SoftBreak"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"stochastic"},{"t":"Space"},{"t":"Str","c":"gradient"},{"t":"Space"},{"t":"Str","c":"descent;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"quantile"},{"t":"Space"},{"t":"Str","c":"estimators"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"t-digest"}]}]]},{"t":"Para","c":[{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"name"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"few."}]},{"t":"Header","c":[1,["case-study-data-validation",[],[]],[{"t":"Str","c":"Case"},{"t":"Space"},{"t":"Str","c":"Study:"},{"t":"Space"},{"t":"Str","c":"Data"},{"t":"Space"},{"t":"Str","c":"Validation"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"validation."},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"mean"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"validation?"},{"t":"SoftBreak"},{"t":"Str","c":"Almost"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"programs"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"meets"},{"t":"Space"},{"t":"Str","c":"certain"},{"t":"Space"},{"t":"Str","c":"criteria."},{"t":"SoftBreak"},{"t":"Str","c":"Usernames"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"blank,"},{"t":"Space"},{"t":"Str","c":"email"},{"t":"Space"},{"t":"Str","c":"addresses"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"valid,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"on."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"validation"},{"t":"Space"},{"t":"Str","c":"often"},{"t":"Space"},{"t":"Str","c":"occurs"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"web"},{"t":"Space"},{"t":"Str","c":"forms,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"performed"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"configuration"},{"t":"Space"},{"t":"Str","c":"files,"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"web"},{"t":"Space"},{"t":"Str","c":"service"},{"t":"Space"},{"t":"Str","c":"responses,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"where"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"deal"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"guarantee"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"correct."},{"t":"SoftBreak"},{"t":"Str","c":"Authentication,"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"specialised"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"validation."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"performs"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"checks."},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"design"},{"t":"Space"},{"t":"Str","c":"goals"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have?"},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"inspiration,"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"perform:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"18"},{"t":"Space"},{"t":"Str","c":"years"},{"t":"Space"},{"t":"Str","c":"old"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"parental"},{"t":"Space"},{"t":"Str","c":"consent."}]}],[{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Space"},{"t":"Str","c":"ID"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"parsable"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"correspond"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"valid"},{"t":"Space"},{"t":"Str","c":"record"},{"t":"Space"},{"t":"Str","c":"ID."}]}],[{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"bid"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"auction"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"items"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"positive"},{"t":"Space"},{"t":"Str","c":"value."}]}],[{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"username"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"contain"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"least"},{"t":"Space"},{"t":"Str","c":"four"},{"t":"Space"},{"t":"Str","c":"characters"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"characters"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"alphanumeric."}]}],[{"t":"Para","c":[{"t":"Str","c":"An"},{"t":"Space"},{"t":"Str","c":"email"},{"t":"Space"},{"t":"Str","c":"address"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"contain"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"@"]},{"t":"Space"},{"t":"Str","c":"sign."},{"t":"SoftBreak"},{"t":"Str","c":"Split"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"string"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"@"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"string"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"left"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"empty."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"string"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"SoftBreak"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"least"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"characters"},{"t":"Space"},{"t":"Str","c":"long"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"contain"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"dot."}]}]]},{"t":"Para","c":[{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"mind"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"goals:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"associate"},{"t":"Space"},{"t":"Str","c":"meaningful"},{"t":"Space"},{"t":"Str","c":"messages"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"validation"},{"t":"Space"},{"t":"Str","c":"failure,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"knows"},{"t":"Space"},{"t":"Str","c":"why"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"valid."}]}],[{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"small"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"larger"},{"t":"Space"},{"t":"Str","c":"ones."},{"t":"SoftBreak"},{"t":"Str","c":"Taking"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"username"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"above,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"express"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"combining"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"length"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"alphanumeric"},{"t":"Space"},{"t":"Str","c":"values."}]}],[{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"while"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"checking"},{"t":"Space"},{"t":"Str","c":"it."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"requiring"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"parse"},{"t":"Space"},{"t":"Str","c":"data,"},{"t":"SoftBreak"},{"t":"Str","c":"changing"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Str","c":"."}]}],[{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"accumulate"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"failures"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"go,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"issues"},{"t":"Space"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"resubmitting."}]}]]},{"t":"Para","c":[{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"goals"},{"t":"Space"},{"t":"Str","c":"assume"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"checking"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"piece"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"data."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"across"},{"t":"Space"},{"t":"Str","c":"multiple"},{"t":"Space"},{"t":"Str","c":"pieces"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"data."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"login"},{"t":"Space"},{"t":"Str","c":"form,"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"username"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"password."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"turn"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"quite"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"small"},{"t":"Space"},{"t":"Str","c":"component"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"library,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"majority"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"focus"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"checking"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"item."}]},{"t":"Header","c":[2,["sketching-the-library-structure",[],[]],[{"t":"Str","c":"Sketching"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Library"},{"t":"Space"},{"t":"Str","c":"Structure"}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"bottom,"},{"t":"SoftBreak"},{"t":"Str","c":"checking"},{"t":"Space"},{"t":"Str","c":"individual"},{"t":"Space"},{"t":"Str","c":"pieces"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"data."},{"t":"SoftBreak"},{"t":"Str","c":"Before"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"coding"},{"t":"SoftBreak"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"develop"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"feel"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"building."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"graphical"},{"t":"Space"},{"t":"Str","c":"notation"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"help"},{"t":"Space"},{"t":"Str","c":"us."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"go"},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"goals"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"one."}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Providing"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"messages"}]}]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"goal"},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"associate"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"messages"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"failure."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"being"},{"t":"Space"},{"t":"Str","c":"checked,"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"passed"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"check,"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"kind"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"message."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"abstractly"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"context,"},{"t":"SoftBreak"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"possibility"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"message"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"16"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:validation:result",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"16:"},{"t":"Space"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"validation"},{"t":"Space"},{"t":"Str","c":"result"}],["src/pages/case-studies/validation/result.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"itself"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"therefore"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"transforms"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"17"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:validation:check",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"17:"},{"t":"Space"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"validation"},{"t":"Space"},{"t":"Str","c":"check"}],["src/pages/case-studies/validation/check.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Combine"},{"t":"Space"},{"t":"Str","c":"checks"}]}]},{"t":"Para","c":[{"t":"Str","c":"How"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"smaller"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"larger"},{"t":"Space"},{"t":"Str","c":"ones?"},{"t":"SoftBreak"},{"t":"Str","c":"Is"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"semigroupal"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"18"},{"t":"Str","c":"?"}]},{"t":"Para","c":[{"t":"Image","c":[["fig:validation:applicative",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"18:"},{"t":"Space"},{"t":"Str","c":"Applicative"},{"t":"Space"},{"t":"Str","c":"combination"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"checks"}],["src/pages/case-studies/validation/applicative.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"Not"},{"t":"Space"},{"t":"Str","c":"really."},{"t":"SoftBreak"},{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"combination,"},{"t":"SoftBreak"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"applied"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"tuple"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"repeated."},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"feels"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"19"},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sensible"},{"t":"Space"},{"t":"Str","c":"identity—a"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"passes—and"},{"t":"SoftBreak"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"combination"},{"t":"Space"},{"t":"Str","c":"operators—"},{"t":"Emph","c":[{"t":"Str","c":"and"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"or"}]},{"t":"Str","c":":"}]},{"t":"Para","c":[{"t":"Image","c":[["fig:validation:monoid",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"19:"},{"t":"Space"},{"t":"Str","c":"Monoid"},{"t":"Space"},{"t":"Str","c":"combination"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"checks"}],["src/pages/case-studies/validation/monoid.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"probably"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"and"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"or"}]},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"equally"},{"t":"Space"},{"t":"Str","c":"often"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"validation"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"annoying"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"continuously"},{"t":"SoftBreak"},{"t":"Str","c":"switch"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"combining"},{"t":"Space"},{"t":"Str","c":"rules."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"consequently"},{"t":"Space"},{"t":"Str","c":"won’t"},{"t":"Space"},{"t":"Str","c":"actually"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"API:"},{"t":"SoftBreak"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"separate"},{"t":"Space"},{"t":"Str","c":"methods,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"and"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"or"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"instead."}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Accumulating"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"check"}]}]},{"t":"Para","c":[{"t":"Str","c":"Monoids"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"feel"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"mechanism"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"accumulating"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"messages."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"store"},{"t":"Space"},{"t":"Str","c":"messages"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"NonEmptyList"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"pre-existing"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"Cats."}]},{"t":"Para","c":[{"t":"Strong","c":[{"t":"Str","c":"Transforming"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"it"}]}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"checking"},{"t":"Space"},{"t":"Str","c":"data,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"goal"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"transforming"},{"t":"Space"},{"t":"Str","c":"it."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"seems"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"SoftBreak"},{"t":"Str","c":"depending"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"whether"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"not,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"seems"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"20"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:validation:monad",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"20:"},{"t":"Space"},{"t":"Str","c":"Monadic"},{"t":"Space"},{"t":"Str","c":"combination"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"checks"}],["src/pages/case-studies/validation/monad.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"broken"},{"t":"Space"},{"t":"Str","c":"down"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"familiar"},{"t":"Space"},{"t":"Str","c":"abstractions"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"position"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"begin"},{"t":"Space"},{"t":"Str","c":"development."}]},{"t":"Header","c":[2,["the-check-datatype",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"Check"},{"t":"Space"},{"t":"Str","c":"Datatype"}]]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"design"},{"t":"Space"},{"t":"Str","c":"revolves"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"said"},{"t":"Space"},{"t":"Str","c":"was"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"context."},{"t":"SoftBreak"},{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"soon"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"description"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"something"},{"t":"Space"},{"t":"Str","c":"like"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype Check[A] = A => Either[String, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"represented"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"message"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"probably"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"best"},{"t":"Space"},{"t":"Str","c":"representation."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"accumulate"},{"t":"Space"},{"t":"Str","c":"messages"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"representation"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"internationalization"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"codes."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"attempt"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"kind"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ErrorMessage"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"holds"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"information"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"of."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"predict"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"user’s"},{"t":"Space"},{"t":"Str","c":"requirements."},{"t":"SoftBreak"},{"t":"Str","c":"Instead"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"let"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"specify"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"want."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"adding"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"second"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype Check[E, A] = A => Either[E, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"probably"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"custom"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"declare"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"trait"]},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"alias:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Check[E, A] {\n  def apply(value: A): Either[E, A]\n\n  // other methods...\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"said"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Essential"},{"t":"Space"},{"t":"Str","c":"Scala"}],["http://underscore.io/books/essential-scala",""]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"patterns"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"consider"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"trait:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"typeclass,"},{"t":"Space"},{"t":"Str","c":"or;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"algebraic"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"(and"},{"t":"Space"},{"t":"Str","c":"hence"},{"t":"Space"},{"t":"Str","c":"seal"},{"t":"Space"},{"t":"Str","c":"it)."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"Space"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"unify"},{"t":"Space"},{"t":"Str","c":"disparate"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"interface."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"seem"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"trying"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"here."},{"t":"SoftBreak"},{"t":"Str","c":"That"},{"t":"Space"},{"t":"Str","c":"leaves"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"algebraic"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"keep"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"thought"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"mind"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"explore"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"design"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"bit"},{"t":"Space"},{"t":"Str","c":"further."}]},{"t":"Header","c":[2,["basic-combinators",[],[]],[{"t":"Str","c":"Basic"},{"t":"Space"},{"t":"Str","c":"Combinators"}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"combinator"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"starting"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"and"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"combines"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"one,"},{"t":"SoftBreak"},{"t":"Str","c":"succeeding"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"succeed."},{"t":"SoftBreak"},{"t":"Str","c":"Think"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"implementing"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"now."},{"t":"SoftBreak"},{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"hit"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"problems."},{"t":"Space"},{"t":"Str","c":"Read"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"do!"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Check[E, A] {\n  def and(that: Check[E, A]): Check[E, A] =\n    ???\n\n  // other methods...\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"problem"},{"t":"Space"},{"t":"Str","c":"is:"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"both"}]},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"fail?"},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"thing"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"errors,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"currently"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Es"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"}]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"abstracts"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"concept"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"accumulating"}]]},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"21"},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"looks"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"this?"},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"operator"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"•"]},{"t":"Space"},{"t":"Str","c":"operation?"}]},{"t":"Para","c":[{"t":"Image","c":[["fig:validation:error-semigroup",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"21:"},{"t":"Space"},{"t":"Str","c":"Combining"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"messages"}],["src/pages/case-studies/validation/error-semigroup.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:81bdf324cc9ed1b76f5d553d4fb1d394",""]]}]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"semantic"},{"t":"Space"},{"t":"Str","c":"issue"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"come"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"quite"},{"t":"Space"},{"t":"Str","c":"quickly:"},{"t":"SoftBreak"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"and"]},{"t":"Space"},{"t":"Str","c":"short-circuit"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"fails."},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"think"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"is?"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:6e44cf2cf6daa7257e8c9f4fa60f3239",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Use"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"knowledge"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"and"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Make"},{"t":"Space"},{"t":"Str","c":"sure"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"expect!"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:cdb87a550e29317cf5375850b0751abc",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Strictly"},{"t":"Space"},{"t":"Str","c":"speaking,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either[E, A]"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"wrong"},{"t":"Space"},{"t":"Str","c":"abstraction"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"check."},{"t":"Space"},{"t":"Str","c":"Why"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"case?"},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"instead?"},{"t":"SoftBreak"},{"t":"Str","c":"Switch"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:ccc6d81f7e502591a79d425228d75353",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"looking"},{"t":"Space"},{"t":"Str","c":"pretty"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"now."},{"t":"SoftBreak"},{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"or"]},{"t":"Space"},{"t":"Str","c":"combinator"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"complement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"and"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:1f563aff63650a3497bd4c2096b73669",""]]}]},{"t":"Para","c":[{"t":"Str","c":"With"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"and"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"or"]},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"practice."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"still"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"few"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"add."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"turn"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"next."}]},{"t":"Header","c":[2,["transforming-data",[],[]],[{"t":"Str","c":"Transforming"},{"t":"Space"},{"t":"Str","c":"Data"}]]},{"t":"Para","c":[{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"requirements"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"ability"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"data."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"support"},{"t":"SoftBreak"},{"t":"Str","c":"additional"},{"t":"Space"},{"t":"Str","c":"scenarios"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"parsing"},{"t":"Space"},{"t":"Str","c":"input."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"section"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"extend"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"additional"},{"t":"Space"},{"t":"Str","c":"functionality."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"obvious"},{"t":"Space"},{"t":"Str","c":"starting"},{"t":"Space"},{"t":"Str","c":"point"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"this,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"immediately"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"wall."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"current"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"SoftBreak"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype Check[E, A] = A => Either[E, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"map"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"check,"},{"t":"SoftBreak"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"assign"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result?"},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"impasse:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef map(check: Check[E, A])(func: A => B): Check[E, ???]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"change"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Specifically,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"variable"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"separate"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"output:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype Check[E, A, B] = A => Either[E, B]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Checks"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"SoftBreak"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"parsing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval parseInt: Check[List[String], String, Int] =\n  // etc...\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"splitting"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"SoftBreak"},{"t":"Str","c":"raises"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"issue."},{"t":"SoftBreak"},{"t":"Str","c":"Up"},{"t":"Space"},{"t":"Str","c":"until"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"operated"},{"t":"Space"},{"t":"Str","c":"under"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"assumption"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"successful."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"and"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"or"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ignore"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"left"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"rules"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"original"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"success:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n(this(a), that(a)) match {\n  case And(left, right) =>\n    (left(a), right(a))\n      .mapN((result1, result2) => Right(a))\n\n  // etc...\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"formulation"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Right(a)"]},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either[E, A]"]},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either[E, B]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We’re"},{"t":"Space"},{"t":"Str","c":"forced"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"arbitrary"},{"t":"Space"},{"t":"Str","c":"choice"},{"t":"SoftBreak"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"returning"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Right(result1)"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Right(result2)"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"true"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"or"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"From"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"derive"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"things:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"strive"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"laws"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"adhere"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"explicit;"},{"t":"Space"},{"t":"Str","c":"and"}]}],[{"t":"Plain","c":[{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"telling"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"wrong"},{"t":"Space"},{"t":"Str","c":"abstraction"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Str","c":"."}]}]]},{"t":"Header","c":[3,["predicates",[],[]],[{"t":"Str","c":"Predicates"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"progress"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"pulling"},{"t":"Space"},{"t":"Str","c":"apart"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"concept"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"predicate"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"combined"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"logical"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"and"}]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"or"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"concept"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"check"}]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"data."}]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"far"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"law"}]},{"t":"SoftBreak"},{"t":"Str","c":"encoding"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"notion"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"predicate"},{"t":"SoftBreak"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"succeeds:"}]},{"t":"BlockQuote","c":[{"t":"Para","c":[{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"predicate"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"p"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate[E, A]"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"elements"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"a1"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"a2"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"p(a1) == Success(a2)"]},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"a1 == a2"]},{"t":"Str","c":"."}]}]},{"t":"Para","c":[{"t":"Str","c":"Making"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"change"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"code:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroup\nimport cats.data.Validated\nimport cats.syntax.semigroup._ // for |+|\nimport cats.syntax.apply._     // for mapN\nimport cats.data.Validated._   // for Valid and Invalid\n\nsealed trait Predicate[E, A] {\n  def and(that: Predicate[E, A]): Predicate[E, A] =\n    And(this, that)\n\n  def or(that: Predicate[E, A]): Predicate[E, A] =\n    Or(this, that)\n\n  def apply(a: A)(implicit s: Semigroup[E]): Validated[E, A] =\n    this match {\n      case Pure(func) =>\n        func(a)\n\n      case And(left, right) =>\n        (left(a), right(a)).mapN((_, _) => a)\n\n      case Or(left, right) =>\n        left(a) match {\n          case Valid(_)   => Valid(a)\n          case Invalid(e1) =>\n            right(a) match {\n              case Valid(_)   => Valid(a)\n              case Invalid(e2) => Invalid(e1 |+| e2)\n            }\n        }\n    }\n}\n\nfinal case class And[E, A](\n  left: Predicate[E, A],\n  right: Predicate[E, A]) extends Predicate[E, A]\n\nfinal case class Or[E, A](\n  left: Predicate[E, A],\n  right: Predicate[E, A]) extends Predicate[E, A]\n\nfinal case class Pure[E, A](\n  func: A => Validated[E, A]) extends Predicate[E, A]\n\\end{lstlisting}"]},{"t":"Header","c":[3,["checks",[],[]],[{"t":"Str","c":"Checks"}]]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"transformation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"input."},{"t":"SoftBreak"},{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"interface:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsealed trait Check[E, A, B] {\n  def apply(a: A): Validated[E, B] =\n    ???\n\n  def map[C](func: B => C): Check[E, A, C] =\n    ???\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:d7f1158ea2c7521d8cfc61c0c2ddf285",""]]}]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"?"},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"bit"},{"t":"Space"},{"t":"Str","c":"unclear"},{"t":"Space"},{"t":"Str","c":"here."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"enough"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"declare"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"obvious"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"shape"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"SoftBreak"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"22"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:validation:generic-flatmap",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"22:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"flatMap"}],["src/pages/monads/generic-flatmap.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"How"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"relate"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"figure"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code?"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"three"}]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"variables"},{"t":"Space"},{"t":"Str","c":"while"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F"]},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"one."}]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"unify"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"fix"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"idiomatic"},{"t":"Space"},{"t":"Str","c":"choices"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"E"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relationships"},{"t":"SoftBreak"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"23"},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"words,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"applying"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"FlatMap"]},{"t":"Space"},{"t":"Str","c":"are:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"given"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[B]"]},{"t":"Str","c":";"}]}],[{"t":"Para","c":[{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"choose"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check[E, A, C]"]},{"t":"Str","c":";"}]}],[{"t":"Para","c":[{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"original"}]},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"chosen"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"generate"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[C]"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Image","c":[["fig:validation:check-flatmap",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"23:"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"chart"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"flatMap"},{"t":"Space"},{"t":"Str","c":"applied"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Check"}],["src/pages/case-studies/validation/flatmap.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"quite"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"odd"},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"it,"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"hard"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"it."},{"t":"SoftBreak"},{"t":"Str","c":"Go"},{"t":"Space"},{"t":"Str","c":"ahead"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"generally"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"method."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:59d03220fde1855b48c839254422a81e",""]]}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"combinator"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"chains"},{"t":"Space"},{"t":"Str","c":"together"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Checks"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"SoftBreak"},{"t":"Str","c":"connected"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"second."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"analogous"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"composition"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"andThen"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval f: A => B = ???\nval g: B => C = ???\nval h: A => C = f andThen g\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"basically"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => Validated[E, B]"]},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"analagous"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"andThen"]},{"t":"Space"},{"t":"Str","c":"method:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Check[E, A, B] {\n  def andThen[C](that: Check[E, B, C]): Check[E, A, C]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"andThen"]},{"t":"Space"},{"t":"Str","c":"now!"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:81aa8cfc7ed2a0ed8278f778c151af4b",""]]}]},{"t":"Header","c":[3,["recap",[],[]],[{"t":"Str","c":"Recap"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"algebraic"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"host"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"combinators"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"SoftBreak"},{"t":"Str","c":"associated"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"implementations."},{"t":"SoftBreak"},{"t":"Str","c":"Look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"solution"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"ADT."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:6c991d5b6530f851ec6600d835151d9e",""]]}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"originally"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"finished"},{"t":"Space"},{"t":"Str","c":"yet."},{"t":"SoftBreak"},{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"probably"},{"t":"Space"},{"t":"Str","c":"recognised"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over:"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad."},{"t":"SoftBreak"},{"t":"Str","c":"Furthermore,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"implementing"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"might"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"felt"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"much—all"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"underlying"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Validated"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"lot"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"ways"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"cleaned"},{"t":"Space"},{"t":"Str","c":"up."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"prove"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ourselves"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"really"},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"work,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"turn"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"improving"},{"t":"Space"},{"t":"Str","c":"it."}]},{"t":"Para","c":[{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"Space"},{"t":"Str","c":"given"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"introduction:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"username"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"contain"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"least"},{"t":"Space"},{"t":"Str","c":"four"},{"t":"Space"},{"t":"Str","c":"characters"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"consist"},{"t":"Space"},{"t":"Str","c":"entirely"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"alphanumeric"},{"t":"Space"},{"t":"Str","c":"characters"}]}],[{"t":"Para","c":[{"t":"Str","c":"An"},{"t":"Space"},{"t":"Str","c":"email"},{"t":"Space"},{"t":"Str","c":"address"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"contain"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"@"]},{"t":"Space"},{"t":"Str","c":"sign."},{"t":"SoftBreak"},{"t":"Str","c":"Split"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"string"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"@"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"string"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"left"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"empty."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"string"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"least"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"characters"},{"t":"Space"},{"t":"Str","c":"long"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"contain"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"dot."}]}]]},{"t":"Para","c":[{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"might"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"predicates"},{"t":"Space"},{"t":"Str","c":"useful:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.{NonEmptyList, Validated}\n\ntype Errors = NonEmptyList[String]\n\ndef error(s: String): NonEmptyList[String] =\n  NonEmptyList(s, Nil)\n\ndef longerThan(n: Int): Predicate[Errors, String] =\n  Predicate.lift(\n    error(s\"Must be longer than $n characters\"),\n    str => str.size > n)\n\nval alphanumeric: Predicate[Errors, String] =\n  Predicate.lift(\n    error(s\"Must be all alphanumeric characters\"),\n    str => str.forall(_.isLetterOrDigit))\n\ndef contains(char: Char): Predicate[Errors, String] =\n  Predicate.lift(\n    error(s\"Must contain the character $char\"),\n    str => str.contains(char))\n\ndef containsOnce(char: Char): Predicate[Errors, String] =\n  Predicate.lift(\n    error(s\"Must contain the character $char only once\"),\n    str => str.filter(c => c == char).size == 1)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:92285a8e7b6adceb4ffec0086b481605",""]]}]},{"t":"Header","c":[2,["kleislis",[],[]],[{"t":"Str","c":"Kleislis"}]]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"finish"},{"t":"Space"},{"t":"Str","c":"off"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"cleaning"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"justifiable"},{"t":"Space"},{"t":"Str","c":"criticism"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"lot"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"little."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"essentially"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => Validated[E, A]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"basically"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"wrapper"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"lets"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"compose"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"functions."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => Validated[E, A]"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => F[B]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"you’ll"},{"t":"Space"},{"t":"Str","c":"recognise"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"SoftBreak"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"pass"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad."},{"t":"SoftBreak"},{"t":"Str","c":"Imagine"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"operations:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"lift"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"(by"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"example)."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => F[A]"]},{"t":"Str","c":"."}]}],[{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"transformations"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"illustrate"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"24"},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"API"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval aToB: A => F[B] = ???\nval bToC: B => F[C] = ???\n\ndef example[A, C](a: A): F[C] =\n  aToB(a).flatMap(bToC)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Image","c":[["fig:validation:kleisli",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"24:"},{"t":"Space"},{"t":"Str","c":"Sequencing"},{"t":"Space"},{"t":"Str","c":"monadic"},{"t":"Space"},{"t":"Str","c":"transforms"}],["src/pages/case-studies/validation/kleisli.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"Recall"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"is,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"abstract,"},{"t":"SoftBreak"},{"t":"Str","c":"allowing"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"compose"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => F[B]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"andThen"]},{"t":"Space"},{"t":"Str","c":"as:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval aToC = aToB andThen bToC\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"(wrapped)"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"aToC"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => F[C]"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"subsequently"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"achieved"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"thing"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"example"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"having"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"reference"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"argument"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"andThen"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"analogous"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"composition,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"composing"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => F[B]"]},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"concept"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"composing"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => F[B]"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"name:"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"Kleisli"}]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"contains"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Code","c":[["",[],[]],"cats.data.Kleisli"]}],["http://typelevel.org/cats/api/cats/data/Kleisli.html",""]]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"wraps"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"does."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"plus"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"additional"},{"t":"Space"},{"t":"Str","c":"ones."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Space"},{"t":"Str","c":"seems"},{"t":"Space"},{"t":"Str","c":"familiar"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"you,"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"congratulations."},{"t":"SoftBreak"},{"t":"Str","c":"You’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"disguise"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"recognised"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"SoftBreak"},{"t":"Str","c":"concept"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"earlier"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"book:"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"name"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ReaderT"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"integer"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"integers"},{"t":"SoftBreak"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"steps:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.Kleisli\nimport cats.instances.list._ // for Monad\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"steps"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"SoftBreak"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"output"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Int]"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval step1: Kleisli[List, Int, Int] =\n  Kleisli(x => List(x + 1, x - 1))\n\nval step2: Kleisli[List, Int, Int] =\n  Kleisli(x => List(x, -x))\n\nval step3: Kleisli[List, Int, Int] =\n  Kleisli(x => List(x * 2, x / 2))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"steps"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"pipeline"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"combines"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"underlying"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval pipeline = step1 andThen step2 andThen step3\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"consumes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"eight"},{"t":"Space"},{"t":"Str","c":"outputs,"},{"t":"SoftBreak"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"produced"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"combination"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"transformations"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"step1"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"step2"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"step3"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\npipeline.run(20)\n// res0: List[Int] = List(42, 10, -42, -10, 38, 9, -38, -9)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"notable"},{"t":"Space"},{"t":"Str","c":"difference"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"API"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"SoftBreak"},{"t":"Str","c":"renames"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"run"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"replace"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"validation"},{"t":"Space"},{"t":"Str","c":"examples."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"few"},{"t":"Space"},{"t":"Str","c":"changes"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function,"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"functions."},{"t":"SoftBreak"},{"t":"Str","c":"Somewhat"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"subtly,"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function,"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => Either[E, A]"]},{"t":"SoftBreak"},{"t":"Str","c":"rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => Validated[E, A]"]},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Space"},{"t":"Str","c":"relies"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"wrapped"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"returning"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad."}]},{"t":"Para","c":[{"t":"Str","c":"Add"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"run"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"Leave"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"rest"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:d3a45c40a0f60cdaf1765ed9bb52b18e",""]]}]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"rewrite"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"username"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"email"},{"t":"Space"},{"t":"Str","c":"validation"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"few"},{"t":"Space"},{"t":"Str","c":"tips"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"stuck:"}]},{"t":"Para","c":[{"t":"Str","c":"First,"},{"t":"Space"},{"t":"Str","c":"remember"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"run"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"SoftBreak"},{"t":"Str","c":"takes"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameter."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"aPredicate.run(a)"]},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"pass"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"explicitly."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"immediately"},{"t":"Space"},{"t":"Str","c":"apply"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"function,"},{"t":"SoftBreak"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"aPredicate.run.apply(a)"]}]},{"t":"Para","c":[{"t":"Str","c":"Second,"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"inference"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"tricky"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"exercise."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"found"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"definitions"},{"t":"SoftBreak"},{"t":"Str","c":"helped"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"fewer"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"declarations."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype Result[A] = Either[Errors, A]\n\ntype Check[A, B] = Kleisli[Result, A, B]\n\n// Create a check from a function:\ndef check[A, B](func: A => Result[B]): Check[A, B] =\n  Kleisli(func)\n\n// Create a check from a Predicate:\ndef checkPred[A](pred: Predicate[Errors, A]): Check[A, A] =\n  Kleisli[Result, A, A](pred.run)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:f51f3ecf17c4a1428e60b5ad14306293",""]]}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"written"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"SoftBreak"},{"t":"Str","c":"entirely"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"completely"},{"t":"Space"},{"t":"Str","c":"removing"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"step"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"simplifying"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"library."},{"t":"SoftBreak"},{"t":"Str","c":"There’s"},{"t":"Space"},{"t":"Str","c":"still"},{"t":"Space"},{"t":"Str","c":"plenty"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do,"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"SoftBreak"},{"t":"Str","c":"sophisticated"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"block"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"leave"},{"t":"Space"},{"t":"Str","c":"further"},{"t":"Space"},{"t":"Str","c":"improvements"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"reader."}]},{"t":"Header","c":[2,["summary-9",[],[]],[{"t":"Str","c":"Summary"}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"been"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"exercise"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"SoftBreak"},{"t":"Str","c":"removing"},{"t":"Space"},{"t":"Str","c":"rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"abstractions."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"started"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"fairly"},{"t":"Space"},{"t":"Str","c":"complex"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"type."},{"t":"SoftBreak"},{"t":"Str","c":"Once"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"realised"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"were"},{"t":"Space"},{"t":"Str","c":"conflating"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"concepts,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"separated"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"SoftBreak"},{"t":"Str","c":"leaving"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"something"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"implemented"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["html","<!--\n`Predicate` is very much like a stripped down version\nof the matchers found in testing libraries like ScalaTest and Specs2.\nOne next step would be to develop\na more elaborate predicate library along these lines.\nThere are a few other directions to consider.\n\nWith the current representation of `Predicate`\nthere is no way to implement logical negation.\nTo implement negation we need to know the error message\nthat a successful predicate would have returned if it had failed\n(so that the negation can return that message).\nOne way to implement this is to have a predicate return a `Boolean` flag\nindicating success or failure and the associated message.\n\nWe could also do better in how error messages are represented.\nAt the moment there is no indication with an error message\nof the structure of the predicates that failed.\nFor example, if we represent error messsages as a `List[String]`\nand we get back the message:\n\n```scala\nList(\"Must be longer than 4 characters\",\n     \"Must not contain a number\")\n```\n\ndoes this message indicate a failing conjunction (two `ands`)\nor a failing disjunction (two `ors`)?\nWe can probably guess in this case\nbut in general we don't have sufficient information to work this out.\nWe can solve this problem by wrapping all messages in a type as follows:\n\n```scala\nsealed trait Structure[E]\n\nfinal case class Or[E](messages: List[Structure[E]])\n  extends Structure[E]\n\nfinal case class And[E](messages: List[Structure[E]])\n  extends Structure[E]\n\nfinal case class Not[E](messages: List[Structure[E]])\n  extends Structure[E]\n\nfinal case class Pure[E](message: E)\n  extends Structure[E]\n```\n\nWe can simplify this structure by converting all predicates into a normal form.\nFor example, if we use disjunctive normal form\nthe structure of the predicate will always be\na disjunction (logical or) of conjunctions (logical and).\nBy doing so we could errors as a `List[List[Either[E, E]]]`,\nwith the outer list representing disjunction,\nthe inner list representing conjunction,\nand the `Either` representing negation.\n-->"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"made"},{"t":"Space"},{"t":"Str","c":"several"},{"t":"Space"},{"t":"Str","c":"design"},{"t":"Space"},{"t":"Str","c":"choices"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"reasonable"},{"t":"Space"},{"t":"Str","c":"developers"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"disagree"},{"t":"Space"},{"t":"Str","c":"with."},{"t":"SoftBreak"},{"t":"Str","c":"Should"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"converts"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"SoftBreak"},{"t":"Str","c":"really"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"run"]},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of,"},{"t":"Space"},{"t":"Str","c":"say,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"toFunction"]},{"t":"Str","c":"?"},{"t":"SoftBreak"},{"t":"Str","c":"Should"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"subtype"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Function"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"begin"},{"t":"Space"},{"t":"Str","c":"with?"},{"t":"SoftBreak"},{"t":"Str","c":"Many"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programmers"},{"t":"Space"},{"t":"Str","c":"prefer"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"avoid"},{"t":"Space"},{"t":"Str","c":"subtyping"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"plays"},{"t":"Space"},{"t":"Str","c":"poorly"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"resolution"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"inference,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"could"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"argument"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"here."},{"t":"SoftBreak"},{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"best"},{"t":"Space"},{"t":"Str","c":"decisions"},{"t":"Space"},{"t":"Str","c":"depend"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"used."}]},{"t":"Header","c":[1,["case-study-crdts",[],[]],[{"t":"Str","c":"Case"},{"t":"Space"},{"t":"Str","c":"Study:"},{"t":"Space"},{"t":"Str","c":"CRDTs"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"explore"},{"t":"SoftBreak"},{"t":"Emph","c":[{"t":"Str","c":"Commutative"},{"t":"Space"},{"t":"Str","c":"Replicated"},{"t":"Space"},{"t":"Str","c":"Data"},{"t":"Space"},{"t":"Str","c":"Types"},{"t":"Space"},{"t":"Str","c":"(CRDTs)"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"family"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"structures"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"reconcile"},{"t":"SoftBreak"},{"t":"Str","c":"eventually"},{"t":"Space"},{"t":"Str","c":"consistent"},{"t":"Space"},{"t":"Str","c":"data."}]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"describing"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"utility"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"difficulty"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"eventually"},{"t":"Space"},{"t":"Str","c":"consistent"},{"t":"Space"},{"t":"Str","c":"systems,"},{"t":"SoftBreak"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"show"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"extensions"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"solve"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"issues"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"arise."},{"t":"SoftBreak"},{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"solutions"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala."}]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"goal"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"focus"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"particular"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"CRDT."},{"t":"SoftBreak"},{"t":"Str","c":"We’re"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"aiming"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"comprehensive"},{"t":"Space"},{"t":"Str","c":"survey"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"CRDTs."},{"t":"SoftBreak"},{"t":"Str","c":"CRDTs"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"fast-moving"},{"t":"Space"},{"t":"Str","c":"field"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"advise"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"read"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"literature"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"learn"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"more."}]},{"t":"Header","c":[2,["eventual-consistency",[],[]],[{"t":"Str","c":"Eventual"},{"t":"Space"},{"t":"Str","c":"Consistency"}]]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"soon"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"system"},{"t":"Space"},{"t":"Str","c":"scales"},{"t":"Space"},{"t":"Str","c":"beyond"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"fundamental"},{"t":"Space"},{"t":"Str","c":"choice"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"manage"},{"t":"Space"},{"t":"Str","c":"data."}]},{"t":"Para","c":[{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"system"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"consistent"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"meaning"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"view"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"data."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"changes"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"password"},{"t":"SoftBreak"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"store"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"copy"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"password"},{"t":"SoftBreak"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"change"},{"t":"SoftBreak"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"consider"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"completed"},{"t":"Space"},{"t":"Str","c":"successfully."}]},{"t":"Para","c":[{"t":"Str","c":"Consistent"},{"t":"Space"},{"t":"Str","c":"systems"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"easy"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"disadvantages."},{"t":"SoftBreak"},{"t":"Str","c":"They"},{"t":"Space"},{"t":"Str","c":"tend"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"high"},{"t":"Space"},{"t":"Str","c":"latency"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"change"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"SoftBreak"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"messages"},{"t":"Space"},{"t":"Str","c":"being"},{"t":"Space"},{"t":"Str","c":"sent"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"machines."},{"t":"SoftBreak"},{"t":"Str","c":"They"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"tend"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"relatively"},{"t":"Space"},{"t":"Str","c":"low"},{"t":"Space"},{"t":"Str","c":"uptime"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"outages"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"cut"},{"t":"Space"},{"t":"Str","c":"communications"},{"t":"SoftBreak"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"network"},{"t":"Space"},{"t":"Str","c":"partition"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"network"},{"t":"Space"},{"t":"Str","c":"partition,"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"consistent"},{"t":"Space"},{"t":"Str","c":"system"},{"t":"Space"},{"t":"Str","c":"may"},{"t":"Space"},{"t":"Str","c":"refuse"},{"t":"Space"},{"t":"Str","c":"further"},{"t":"Space"},{"t":"Str","c":"updates"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"prevent"},{"t":"Space"},{"t":"Str","c":"inconsistencies"},{"t":"Space"},{"t":"Str","c":"across"},{"t":"Space"},{"t":"Str","c":"machines."}]},{"t":"Para","c":[{"t":"Str","c":"An"},{"t":"Space"},{"t":"Str","c":"alternative"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"eventually"},{"t":"Space"},{"t":"Str","c":"consistent"}]},{"t":"Space"},{"t":"Str","c":"system."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"particular"},{"t":"Space"},{"t":"Str","c":"point"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"time"},{"t":"SoftBreak"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"allowed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"differing"},{"t":"Space"},{"t":"Str","c":"views"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"data."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"communicate"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"further"},{"t":"Space"},{"t":"Str","c":"updates"},{"t":"SoftBreak"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"eventually"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"view"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"data."}]},{"t":"Para","c":[{"t":"Str","c":"Eventually"},{"t":"Space"},{"t":"Str","c":"consistent"},{"t":"Space"},{"t":"Str","c":"systems"},{"t":"Space"},{"t":"Str","c":"require"},{"t":"SoftBreak"},{"t":"Str","c":"less"},{"t":"Space"},{"t":"Str","c":"communication"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"latency"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"lower."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"partitioned"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"still"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"updates"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"reconcile"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"changes"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"network"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"fixed,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"systems"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"better"},{"t":"Space"},{"t":"Str","c":"uptime."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"big"},{"t":"Space"},{"t":"Str","c":"question"},{"t":"Space"},{"t":"Str","c":"is:"},{"t":"SoftBreak"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"reconciliation"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"machines?"},{"t":"SoftBreak"},{"t":"Str","c":"CRDTs"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"problem."}]},{"t":"Header","c":[2,["the-gcounter",[],[]],[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"GCounter"}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"particular"},{"t":"Space"},{"t":"Str","c":"CRDT"},{"t":"Space"},{"t":"Str","c":"implementation."},{"t":"SoftBreak"},{"t":"Str","c":"Then"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"attempt"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"generalise"},{"t":"Space"},{"t":"Str","c":"properties"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"general"},{"t":"Space"},{"t":"Str","c":"pattern."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"GCounter"}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"distributed"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"increment-only"}]},{"t":"Space"},{"t":"Str","c":"counter"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"used,"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"count"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"visitors"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"web"},{"t":"Space"},{"t":"Str","c":"site"},{"t":"SoftBreak"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"requests"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"served"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"web"},{"t":"Space"},{"t":"Str","c":"servers."}]},{"t":"Header","c":[3,["simple-counters",[],[]],[{"t":"Str","c":"Simple"},{"t":"Space"},{"t":"Str","c":"Counters"}]]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"why"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"straightforward"},{"t":"Space"},{"t":"Str","c":"counter"},{"t":"Space"},{"t":"Str","c":"won’t"},{"t":"Space"},{"t":"Str","c":"work,"},{"t":"SoftBreak"},{"t":"Str","c":"imagine"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"servers"},{"t":"Space"},{"t":"Str","c":"storing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"count"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"visitors."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"storing"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"integer"},{"t":"Space"},{"t":"Str","c":"counter"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"counters"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"zero"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"25"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:crdt:simple-counter1",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"25:"},{"t":"Space"},{"t":"Str","c":"Simple"},{"t":"Space"},{"t":"Str","c":"counters:"},{"t":"Space"},{"t":"Str","c":"initial"},{"t":"Space"},{"t":"Str","c":"state"}],["src/pages/case-studies/crdt/simple-counter1.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"imagine"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"receive"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"web"},{"t":"Space"},{"t":"Str","c":"traffic."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"load"},{"t":"Space"},{"t":"Str","c":"balancer"},{"t":"Space"},{"t":"Str","c":"distributes"},{"t":"Space"},{"t":"Str","c":"five"},{"t":"Space"},{"t":"Str","c":"incoming"},{"t":"Space"},{"t":"Str","c":"requests"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"serving"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"visitors"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"two."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"inconsistent"},{"t":"Space"},{"t":"Str","c":"views"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"system"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"reconcile"}]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"achieve"},{"t":"Space"},{"t":"Str","c":"consistency."},{"t":"SoftBreak"},{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"reconciliation"},{"t":"Space"},{"t":"Str","c":"strategy"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"counters"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"exchange"},{"t":"Space"},{"t":"Str","c":"counts"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"26"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:crdt:simple-counter3",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"26:"},{"t":"Space"},{"t":"Str","c":"Simple"},{"t":"Space"},{"t":"Str","c":"counters:"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"round"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"requests"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"reconciliation"}],["src/pages/case-studies/crdt/simple-counter3.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"So"},{"t":"Space"},{"t":"Str","c":"far"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"good,"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"things"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"fall"},{"t":"Space"},{"t":"Str","c":"apart"},{"t":"Space"},{"t":"Str","c":"shortly."},{"t":"SoftBreak"},{"t":"Str","c":"Suppose"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"serves"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"visitor,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"six"},{"t":"Space"},{"t":"Str","c":"visitors"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"total."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"attempt"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"reconcile"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"again"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"SoftBreak"},{"t":"Str","c":"leading"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"answer"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"27"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:crdt:simple-counter5",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"27:"},{"t":"Space"},{"t":"Str","c":"Simple"},{"t":"Space"},{"t":"Str","c":"counters:"},{"t":"Space"},{"t":"Str","c":"second"},{"t":"Space"},{"t":"Str","c":"round"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"requests"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"(incorrect)"},{"t":"Space"},{"t":"Str","c":"reconciliation"}],["src/pages/case-studies/crdt/simple-counter5.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"clearly"},{"t":"Space"},{"t":"Str","c":"wrong!"},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"problem"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"counters"},{"t":"SoftBreak"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"give"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"enough"},{"t":"Space"},{"t":"Str","c":"information"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"history"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"interactions"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"machines."},{"t":"SoftBreak"},{"t":"Str","c":"Fortunately"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"store"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"complete"}]},{"t":"Space"},{"t":"Str","c":"history"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"answer—just"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"summary"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"it."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"GCounter"},{"t":"Space"},{"t":"Str","c":"solves"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"problem."}]},{"t":"Header","c":[3,["gcounters",[],[]],[{"t":"Str","c":"GCounters"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"clever"},{"t":"Space"},{"t":"Str","c":"idea"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"GCounter"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"storing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"separate"}]},{"t":"Space"},{"t":"Str","c":"counter"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"knows"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"(including"},{"t":"Space"},{"t":"Str","c":"itself)."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"previous"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"had"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"machines,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"situation"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"SoftBreak"},{"t":"Str","c":"would"},{"t":"Space"},{"t":"Str","c":"store"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"counter"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"counter"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"28"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:crdt:g-counter1",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"28:"},{"t":"Space"},{"t":"Str","c":"GCounter:"},{"t":"Space"},{"t":"Str","c":"initial"},{"t":"Space"},{"t":"Str","c":"state"}],["src/pages/case-studies/crdt/g-counter1.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"rule"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"GCounters"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"given"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"allowed"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"increment"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Str","c":"counter."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"serves"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"visitors"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"serves"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"visitors"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"counters"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"29"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:crdt:g-counter2",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"29:"},{"t":"Space"},{"t":"Str","c":"GCounter:"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"round"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"web"},{"t":"Space"},{"t":"Str","c":"requests"}],["src/pages/case-studies/crdt/g-counter2.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"reconcile"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"counters"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"rule"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"take"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"largest"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"stored"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"machine."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"merge"},{"t":"SoftBreak"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"30"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:crdt:g-counter3",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"30:"},{"t":"Space"},{"t":"Str","c":"GCounter:"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"reconciliation"}],["src/pages/case-studies/crdt/g-counter3.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"Subsequent"},{"t":"Space"},{"t":"Str","c":"incoming"},{"t":"Space"},{"t":"Str","c":"web"},{"t":"Space"},{"t":"Str","c":"requests"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"handled"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"SoftBreak"},{"t":"Str","c":"increment-own-counter"},{"t":"Space"},{"t":"Str","c":"rule"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"SoftBreak"},{"t":"Str","c":"subsequent"},{"t":"Space"},{"t":"Str","c":"merges"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"handled"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"SoftBreak"},{"t":"Str","c":"take-maximum-value"},{"t":"Space"},{"t":"Str","c":"rule,"},{"t":"SoftBreak"},{"t":"Str","c":"producing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"31"},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Image","c":[["fig:crdt:g-counter5",[],[]],[{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"31:"},{"t":"Space"},{"t":"Str","c":"GCounter:"},{"t":"Space"},{"t":"Str","c":"second"},{"t":"Space"},{"t":"Str","c":"reconciliation"}],["src/pages/case-studies/crdt/g-counter5.pdf","fig:"]]}]},{"t":"Para","c":[{"t":"Str","c":"GCounters"},{"t":"Space"},{"t":"Str","c":"allow"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"keep"},{"t":"SoftBreak"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"accurate"},{"t":"Space"},{"t":"Str","c":"account"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"state"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"whole"},{"t":"Space"},{"t":"Str","c":"system"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"storing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"history"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"interactions."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"wants"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"calculate"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"total"},{"t":"Space"},{"t":"Str","c":"traffic"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"whole"},{"t":"Space"},{"t":"Str","c":"web"},{"t":"Space"},{"t":"Str","c":"site,"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"sums"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"per-machine"},{"t":"Space"},{"t":"Str","c":"counters."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"accurate"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"near-accurate"},{"t":"SoftBreak"},{"t":"Str","c":"depending"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"recently"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"performed"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"reconciliation."},{"t":"SoftBreak"},{"t":"Str","c":"Eventually,"},{"t":"Space"},{"t":"Str","c":"regardless"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"network"},{"t":"Space"},{"t":"Str","c":"outages,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"system"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"converge"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"consistent"},{"t":"Space"},{"t":"Str","c":"state."}]},{"t":"Header","c":[3,["exercise-gcounter-implementation",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"GCounter"},{"t":"Space"},{"t":"Str","c":"Implementation"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"GCounter"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"interface,"},{"t":"SoftBreak"},{"t":"Str","c":"where"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"IDs"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Strings"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class GCounter(counters: Map[String, Int]) {\n  def increment(machine: String, amount: Int) =\n    ???\n\n  def merge(that: GCounter): GCounter =\n    ???\n\n  def total: Int =\n    ???\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finish"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation!"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:4734996bada7b23f80ef9006a7dc3041",""]]}]},{"t":"Header","c":[2,["generalisation",[],[]],[{"t":"Str","c":"Generalisation"}]]},{"t":"Para","c":[{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"created"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"distributed,"},{"t":"Space"},{"t":"Str","c":"eventually"},{"t":"Space"},{"t":"Str","c":"consistent,"},{"t":"SoftBreak"},{"t":"Str","c":"increment-only"},{"t":"Space"},{"t":"Str","c":"counter."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"achievement"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"stop"},{"t":"Space"},{"t":"Str","c":"here."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"section"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"attempt"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"GCounter"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"SoftBreak"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"natural"},{"t":"Space"},{"t":"Str","c":"numbers."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"GCounter"},{"t":"Space"},{"t":"Str","c":"uses"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"natural"},{"t":"Space"},{"t":"Str","c":"numbers:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"(in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"increment"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"total"]},{"t":"Str","c":");"}]}],[{"t":"Plain","c":[{"t":"Str","c":"maximum"},{"t":"Space"},{"t":"Str","c":"(in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"merge"]},{"t":"Str","c":");"}]}],[{"t":"Plain","c":[{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"element"},{"t":"Space"},{"t":"Str","c":"0"},{"t":"Space"},{"t":"Str","c":"(in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"increment"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"merge"]},{"t":"Str","c":")."}]}]]},{"t":"Para","c":[{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"probably"},{"t":"Space"},{"t":"Str","c":"guess"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"there’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"somewhere,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"detail"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"properties"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"relying"},{"t":"Space"},{"t":"Str","c":"on."}]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"refresher,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Chapter"},{"t":"Space"},{"t":"Str","c":"2"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"satisfy"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"laws."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"+"]},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"associative:"}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"(a + b) + c == a + (b + c)"]}]},{"t":"Para","c":[{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"empty"},{"t":"Space"},{"t":"Str","c":"element"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"identity:"}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"0 + a == a + 0 == a"]}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"increment"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"initialise"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"counter."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"rely"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"associativity"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"specific"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"merges"]},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"value."}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"total"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"implicitly"},{"t":"Space"},{"t":"Str","c":"rely"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"associativity"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"commutativity"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"SoftBreak"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"matter"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"arbitrary"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"choose"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sum"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"per-machine"},{"t":"Space"},{"t":"Str","c":"counters."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"implicitly"},{"t":"Space"},{"t":"Str","c":"assume"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"identity,"},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"skip"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"store"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"counter."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"properties"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"merge"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"bit"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"interesting."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"rely"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"commutativity"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"merging"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"SoftBreak"},{"t":"Str","c":"yields"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"SoftBreak"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"merging"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"associativity"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"obtain"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"correct"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"merging"},{"t":"Space"},{"t":"Str","c":"data."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"element"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"initialise"},{"t":"Space"},{"t":"Str","c":"empty"},{"t":"Space"},{"t":"Str","c":"counters."},{"t":"SoftBreak"},{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"additional"},{"t":"Space"},{"t":"Str","c":"property,"},{"t":"SoftBreak"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"idempotency"}]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ensure"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"machines"},{"t":"Space"},{"t":"Str","c":"hold"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"per-machine"},{"t":"Space"},{"t":"Str","c":"counter,"},{"t":"SoftBreak"},{"t":"Str","c":"merging"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"lead"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"incorrect"},{"t":"Space"},{"t":"Str","c":"result."},{"t":"SoftBreak"},{"t":"Str","c":"Idempotent"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"ones"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"again"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"again"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"executed"},{"t":"Space"},{"t":"Str","c":"multiple"},{"t":"Space"},{"t":"Str","c":"times."},{"t":"SoftBreak"},{"t":"Str","c":"Formally,"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"max"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"idempotent"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"following"},{"t":"Space"},{"t":"Str","c":"relationship"},{"t":"Space"},{"t":"Str","c":"holds:"}]},{"t":"CodeBlock","c":[["",[],[]],"a max a = a"]},{"t":"Para","c":[{"t":"Str","c":"Written"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"compactly,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have:"}]},{"t":"Table","c":[[],[{"t":"AlignCenter"},{"t":"AlignCenter"},{"t":"AlignCenter"},{"t":"AlignCenter"},{"t":"AlignCenter"}],[0.20833333333333334,0.16666666666666666,0.19444444444444445,0.19444444444444445,0.19444444444444445],[[{"t":"Plain","c":[{"t":"Str","c":"Method"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Identity"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Commutative"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Associative"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Idempotent"}]}]],[[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"increment"]}]}],[{"t":"Plain","c":[{"t":"Str","c":"Y"}]}],[{"t":"Plain","c":[{"t":"Str","c":"N"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Y"}]}],[{"t":"Plain","c":[{"t":"Str","c":"N"}]}]],[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"merge"]}]}],[{"t":"Plain","c":[{"t":"Str","c":"Y"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Y"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Y"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Y"}]}]],[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"total"]}]}],[{"t":"Plain","c":[{"t":"Str","c":"Y"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Y"}]}],[{"t":"Plain","c":[{"t":"Str","c":"Y"}]}],[{"t":"Plain","c":[{"t":"Str","c":"N"}]}]]]]},{"t":"Para","c":[{"t":"Str","c":"From"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"that"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"increment"]},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid;"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"total"]},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"commutative"},{"t":"Space"},{"t":"Str","c":"monoid;"},{"t":"Space"},{"t":"Str","c":"and"}]}],[{"t":"Plain","c":[{"t":"Code","c":[["",[],[]],"merge"]},{"t":"Space"},{"t":"Str","c":"required"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"idempotent"},{"t":"Space"},{"t":"Str","c":"commutative"},{"t":"Space"},{"t":"Str","c":"monoid,"},{"t":"SoftBreak"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"bounded"},{"t":"Space"},{"t":"Str","c":"semilattice"}]},{"t":"Str","c":"."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Since"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"increment"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"get"]},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"(addition)"},{"t":"SoftBreak"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"usual"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"require"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"commutative"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"both."}]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"investigation"},{"t":"Space"},{"t":"Str","c":"demonstrates"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"powers"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"thinking"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"properties"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"laws"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"abstractions."},{"t":"SoftBreak"},{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"identified"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"properties"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"substitute"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"natural"},{"t":"Space"},{"t":"Str","c":"numbers"},{"t":"Space"},{"t":"Str","c":"used"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"GCounter"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"satisfying"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"properties."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"set,"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"being"},{"t":"Space"},{"t":"Str","c":"union"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"element"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"empty"},{"t":"Space"},{"t":"Str","c":"set."},{"t":"SoftBreak"},{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"substitution"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Set[A]"]},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"GSet"},{"t":"Space"},{"t":"Str","c":"type."}]},{"t":"Header","c":[3,["implementation",[],[]],[{"t":"Str","c":"Implementation"}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"generalisation"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"Remember"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"increment"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"total"]},{"t":"SoftBreak"},{"t":"Str","c":"require"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"commutative"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"merge"]},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"bounded"},{"t":"Space"},{"t":"Str","c":"semilattice"},{"t":"SoftBreak"},{"t":"Str","c":"(or"},{"t":"Space"},{"t":"Str","c":"idempotent"},{"t":"Space"},{"t":"Str","c":"commutative"},{"t":"Space"},{"t":"Str","c":"monoid)."}]},{"t":"Para","c":[{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"CommutativeMonoid"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"provide"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"bounded"},{"t":"Space"},{"t":"Str","c":"semilattice"},{"t":"Note","c":[{"t":"Para","c":[{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"closely"},{"t":"Space"},{"t":"Str","c":"related"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"SoftBreak"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Spire"}],["https://github.com/non/spire",""]]},{"t":"SoftBreak"},{"t":"Str","c":"already"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"abstractions."}]}]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"That’s"},{"t":"Space"},{"t":"Str","c":"why"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"going"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"SoftBreak"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"BoundedSemiLattice"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.kernel.CommutativeMonoid\n\ntrait BoundedSemiLattice[A] extends CommutativeMonoid[A] {\n  def combine(a1: A, a2: A): A\n  def empty: A\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"above,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"BoundedSemiLattice[A]"]},{"t":"Space"},{"t":"Str","c":"extends"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"CommutativeMonoid[A]"]},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"bounded"},{"t":"Space"},{"t":"Str","c":"semilattice"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"commutative"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"SoftBreak"},{"t":"Str","c":"(a"},{"t":"Space"},{"t":"Str","c":"commutative"},{"t":"Space"},{"t":"Str","c":"idempotent"},{"t":"Space"},{"t":"Str","c":"one,"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"exact)."}]},{"t":"Header","c":[3,["exercise-boundedsemilattice-instances",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"BoundedSemiLattice"},{"t":"Space"},{"t":"Str","c":"Instances"}]]},{"t":"Para","c":[{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"BoundedSemiLattice"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Ints"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Sets"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"will"},{"t":"SoftBreak"},{"t":"Str","c":"technically"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"hold"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"non-negative"},{"t":"Space"},{"t":"Str","c":"numbers,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"non-negativity"},{"t":"SoftBreak"},{"t":"Str","c":"explicitly"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:2667f2a35416d2369b6ea8f85897909a",""]]}]},{"t":"Header","c":[3,["exercise-generic-gcounter",[],[]],[{"t":"Str","c":"Exercise:"},{"t":"Space"},{"t":"Str","c":"Generic"},{"t":"Space"},{"t":"Str","c":"GCounter"}]]},{"t":"Para","c":[{"t":"Str","c":"Using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"CommutativeMonoid"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"BoundedSemiLattice"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"generalise"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"GCounter"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"this,"},{"t":"SoftBreak"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"opportunities"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"simplify"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"implementation."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"SoftBreak"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"abstractions"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"multiple"},{"t":"Space"},{"t":"Str","c":"levels"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code."},{"t":"SoftBreak"},{"t":"Str","c":"We’re"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"design"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"large"},{"t":"Space"},{"t":"Str","c":"component—our"},{"t":"Space"},{"t":"Str","c":"CRDTs—but"},{"t":"SoftBreak"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"small,"},{"t":"Space"},{"t":"Str","c":"simplifying"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"making"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"shorter"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"clearer."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:741d2a1d286204751fa8759eba3bde28",""]]}]},{"t":"Header","c":[2,["abstracting-gcounter-to-a-type-class",[],[]],[{"t":"Str","c":"Abstracting"},{"t":"Space"},{"t":"Str","c":"GCounter"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Type"},{"t":"Space"},{"t":"Str","c":"Class"}]]},{"t":"Para","c":[{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"created"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"GCounter"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"BoundedSemiLattice"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"CommutativeMonoid"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"still"},{"t":"Space"},{"t":"Str","c":"tied"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"particular"},{"t":"Space"},{"t":"Str","c":"representation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"map"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"IDs"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"values."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"restriction,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"indeed"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"useful"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"away"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"it."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"key-value"},{"t":"Space"},{"t":"Str","c":"stores"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"with,"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Map"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"relational"},{"t":"Space"},{"t":"Str","c":"database."}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"GCounter"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"abstract"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"concrete"},{"t":"Space"},{"t":"Str","c":"implementations."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to,"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"SoftBreak"},{"t":"Str","c":"seamlessly"},{"t":"Space"},{"t":"Str","c":"substitute"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"in-memory"},{"t":"Space"},{"t":"Str","c":"store"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"persistent"},{"t":"Space"},{"t":"Str","c":"store"},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"change"},{"t":"Space"},{"t":"Str","c":"performance"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"durability"},{"t":"Space"},{"t":"Str","c":"tradeoffs."}]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"ways"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"this."},{"t":"SoftBreak"},{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"GCounter"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"dependencies"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"CommutativeMonoid"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"BoundedSemiLattice"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"takes"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructor"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"two"}]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"SoftBreak"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"key"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"map"},{"t":"Space"},{"t":"Str","c":"abstraction."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait GCounter[F[_,_],K, V] {\n  def increment(f: F[K, V])(k: K, v: V)\n        (implicit m: CommutativeMonoid[V]): F[K, V]\n\n  def merge(f1: F[K, V], f2: F[K, V])\n        (implicit b: BoundedSemiLattice[V]): F[K, V]\n\n  def total(f: F[K, V])\n        (implicit m: CommutativeMonoid[V]): V\n}\n\nobject GCounter {\n  def apply[F[_,_], K, V]\n        (implicit counter: GCounter[F, K, V]) =\n    counter\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Try"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Map"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"reuse"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"SoftBreak"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"GCounter"]},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"minor"},{"t":"Space"},{"t":"Str","c":"modifications."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:33a0a8e00464ffa2ac2a243f16410511",""]]}]},{"t":"Para","c":[{"t":"Str","c":"You"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.int._ // for Monoid\n\nval g1 = Map(\"a\" -> 7, \"b\" -> 3)\nval g2 = Map(\"a\" -> 2, \"b\" -> 5)\n\nval counter = GCounter[Map, String, Int]\n\nval merged = counter.merge(g1, g2)\n// merged: Map[String, Int] = Map(\"a\" -> 7, \"b\" -> 5)\nval total  = counter.total(merged)\n// total: Int = 12\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"strategy"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"bit"},{"t":"Space"},{"t":"Str","c":"unsatisfying."},{"t":"SoftBreak"},{"t":"Str","c":"Although"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"SoftBreak"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"won’t"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"reuse."}]},{"t":"Header","c":[2,["abstracting-a-key-value-store",[],[]],[{"t":"Str","c":"Abstracting"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"Key"},{"t":"Space"},{"t":"Str","c":"Value"},{"t":"Space"},{"t":"Str","c":"Store"}]]},{"t":"Para","c":[{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"solution"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"capture"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"idea"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"key-value"},{"t":"Space"},{"t":"Str","c":"store"},{"t":"Space"},{"t":"Str","c":"within"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"generate"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"GCounter"]},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"KeyValueStore"]},{"t":"Space"},{"t":"Str","c":"instance."},{"t":"SoftBreak"},{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait KeyValueStore[F[_,_]] {\n  def put[K, V](f: F[K, V])(k: K, v: V): F[K, V]\n\n  def get[K, V](f: F[K, V])(k: K): Option[V]\n\n  def getOrElse[K, V](f: F[K, V])(k: K, default: V): V =\n    get(f)(k).getOrElse(default)\n\n  def values[K, V](f: F[K, V]): List[V]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Implement"},{"t":"Space"},{"t":"Str","c":"your"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Map"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"See the solution"}],["#solution:abf7ae97cccb3ab0ab862ba1bce1cc30",""]]}]},{"t":"Para","c":[{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"place"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"enhance"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"instances:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit class KvsOps[F[_,_], K, V](f: F[K, V]) {\n  def put(key: K, value: V)\n        (implicit kvs: KeyValueStore[F]): F[K, V] =\n    kvs.put(f)(key, value)\n\n  def get(key: K)(implicit kvs: KeyValueStore[F]): Option[V] =\n    kvs.get(f)(key)\n\n  def getOrElse(key: K, default: V)\n        (implicit kvs: KeyValueStore[F]): V =\n    kvs.getOrElse(f)(key, default)\n\n  def values(implicit kvs: KeyValueStore[F]): List[V] =\n    kvs.values(f)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"generate"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"GCounter"]},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"SoftBreak"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"KeyValueStore"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"CommutativeMonoid"]},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit def"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit def gcounterInstance[F[_,_], K, V]\n    (implicit kvs: KeyValueStore[F], km: CommutativeMonoid[F[K, V]]) =\n  new GCounter[F, K, V] {\n    def increment(f: F[K, V])(key: K, value: V)\n          (implicit m: CommutativeMonoid[V]): F[K, V] = {\n      val total = f.getOrElse(key, m.empty) |+| value\n      f.put(key, total)\n    }\n\n    def merge(f1: F[K, V], f2: F[K, V])\n          (implicit b: BoundedSemiLattice[V]): F[K, V] =\n      f1 |+| f2\n\n    def total(f: F[K, V])(implicit m: CommutativeMonoid[V]): V =\n      f.values.combineAll\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"quite"},{"t":"Space"},{"t":"Str","c":"long,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"most"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"boilerplate"},{"t":"Space"},{"t":"Str","c":"setting"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"cut"},{"t":"Space"},{"t":"Str","c":"down"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"plugins"},{"t":"SoftBreak"},{"t":"Str","c":"such"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Simulacrum"}],["https://github.com/mpilquist/simulacrum",""]]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Kind"},{"t":"Space"},{"t":"Str","c":"Projector"}],["https://github.com/typelevel/kind-projector",""]]},{"t":"Str","c":"."}]},{"t":"Header","c":[2,["summary-10",[],[]],[{"t":"Str","c":"Summary"}]]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"CRDT,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"GCounter,"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala."},{"t":"SoftBreak"},{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"lot"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"flexibility"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"reuse:"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"aren’t"},{"t":"Space"},{"t":"Str","c":"tied"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"count"}]]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"nor"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"maps"},{"t":"Space"},{"t":"Str","c":"machine"},{"t":"Space"},{"t":"Str","c":"IDs"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"counters."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"focus"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"been"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"tools"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"provides,"},{"t":"SoftBreak"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"exploring"},{"t":"Space"},{"t":"Str","c":"CRDTs."},{"t":"SoftBreak"},{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"CRDTs,"},{"t":"SoftBreak"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"operate"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"manner"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"GCounter,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"very"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"implementations."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"fairly"},{"t":"Space"},{"t":"Str","c":"recent"},{"t":"Space"},{"t":"Str","c":"survey"}],["https://hal.inria.fr/inria-00609399v2/document",""]]},{"t":"SoftBreak"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"overview"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"many"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"basic"},{"t":"Space"},{"t":"Str","c":"CRDTs."},{"t":"SoftBreak"},{"t":"Str","c":"However"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"active"},{"t":"Space"},{"t":"Str","c":"area"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"research"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"encourage"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"read"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"recent"},{"t":"Space"},{"t":"Str","c":"publications"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"field"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"CRDTs"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"eventually"},{"t":"Space"},{"t":"Str","c":"consistency"},{"t":"Space"},{"t":"Str","c":"interest"},{"t":"Space"},{"t":"Str","c":"you."}]},{"t":"Para","c":[{"t":"RawInline","c":["tex","\\partimage[width=.5\\linewidth]{src/pages/parts/part3.png}"]},{"t":"SoftBreak"},{"t":"RawInline","c":["tex","\\part{Solutions to Exercises}"]}]},{"t":"Para","c":[{"t":"RawInline","c":["tex","\\appendix"]}]},{"t":"Header","c":[2,["",[],[]],[{"t":"Str","c":"Introduction"}]]},{"t":"Header","c":[3,["solution:3fe8912bce7c3518971fc3ae22e99414",[],[]],[{"t":"Str","c":"Solution to: Printable Library "}]]},{"t":"Para","c":[{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"steps"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"main"},{"t":"Space"},{"t":"Str","c":"components"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class."},{"t":"SoftBreak"},{"t":"Str","c":"First"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Str","c":"—the"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"}]},{"t":"Space"},{"t":"Str","c":"itself:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Printable[A] {\n  def format(value: A): String\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Then"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"default"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"instances"}]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"package"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"PrintableInstances"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nobject PrintableInstances {\n  implicit val stringPrintable = new Printable[String] {\n    def format(input: String) = input\n  }\n\n  implicit val intPrintable = new Printable[Int] {\n    def format(input: Int) = input.toString\n  }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"interface"}]},{"t":"Space"},{"t":"Str","c":"object,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nobject Printable {\n  def format[A](input: A)(implicit p: Printable[A]): String =\n    p.format(input)\n\n  def print[A](input: A)(implicit p: Printable[A]): Unit =\n    println(format(input))\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-printable-library",""]]}]},{"t":"Header","c":[3,["solution:debfb34a3a9bcf0ee39d6c8c46f3e24c",[],[]],[{"t":"Str","c":"Solution to: Printable Library Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"standard"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"pattern."},{"t":"SoftBreak"},{"t":"Str","c":"First"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"custom"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"application:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class Cat(name: String, age: Int, color: String)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Then"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"care"},{"t":"Space"},{"t":"Str","c":"about."},{"t":"SoftBreak"},{"t":"Str","c":"These"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"go"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Cat"]},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"separate"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"act"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"namespace:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport PrintableInstances._\n\nimplicit val catPrintable = new Printable[Cat] {\n  def format(cat: Cat) = {\n    val name  = Printable.format(cat.name)\n    val age   = Printable.format(cat.age)\n    val color = Printable.format(cat.color)\n    s\"$name is a $age year-old $color cat.\"\n  }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"SoftBreak"},{"t":"Str","c":"bringing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relevant"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"object/syntax."},{"t":"SoftBreak"},{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"objects"},{"t":"SoftBreak"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"brings"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"automatically."},{"t":"SoftBreak"},{"t":"Str","c":"Otherwise"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"import"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"access"},{"t":"Space"},{"t":"Str","c":"them:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval cat = Cat(\"Garfield\", 41, \"ginger and black\")\n// cat: Cat = Cat(\"Garfield\", 41, \"ginger and black\")\n\nPrintable.print(cat)\n// Garfield is a 41 year-old ginger and black cat.\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-printable-library",""]]}]},{"t":"Header","c":[3,["solution:fe421dd55b30a732f0cf384f2d0c2218",[],[]],[{"t":"Str","c":"Solution to: Printable Library Part 3"}]]},{"t":"Para","c":[{"t":"Str","c":"First"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"implicit class"]},{"t":"Space"},{"t":"Str","c":"containing"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"methods:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nobject PrintableSyntax {\n  implicit class PrintableOps[A](value: A) {\n    def format(implicit p: Printable[A]): String =\n      p.format(value)\n\n    def print(implicit p: Printable[A]): Unit =\n      println(format(p))\n  }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"With"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"PrintableOps"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"imaginary"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"print"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"format"]},{"t":"Space"},{"t":"Str","c":"methods"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"locate"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport PrintableSyntax._\n\nCat(\"Garfield\", 41, \"ginger and black\").print\n// Garfield is a 41 year-old ginger and black cat.\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"compile"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"haven’t"},{"t":"Space"},{"t":"Str","c":"defined"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"relevant"},{"t":"Space"},{"t":"Str","c":"type:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport java.util.Date\nnew Date().print\n// error: could not find implicit value for parameter p: repl.Session.App0.Printable[java.util.Date]\n// new Date().print\n// ^^^^^^^^^^^^^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-printable-library",""]]}]},{"t":"Header","c":[3,["solution:01cd734ce186e834a1d90f3b6ba90c92",[],[]],[{"t":"Str","c":"Solution to: Cat Show "}]]},{"t":"Para","c":[{"t":"Str","c":"First"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"everything"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"Cats:"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"syntax:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Show\nimport cats.instances.int._    // for Show\nimport cats.instances.string._ // for Show\nimport cats.syntax.show._      // for show\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Cat"]},{"t":"Space"},{"t":"Str","c":"remains"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class Cat(name: String, age: Int, color: String)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"replace"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"helpers"},{"t":"Space"},{"t":"Str","c":"discussed"},{"t":"Space"},{"t":"Str","c":"above:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val catShow: Show[Cat] = Show.show[Cat] { cat =>\n  val name  = cat.name.show\n  val age   = cat.age.show\n  val color = cat.color.show\n  s\"$name is a $age year-old $color cat.\"\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Show"]},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"print"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Cat"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nprintln(Cat(\"Garfield\", 38, \"ginger and black\").show)\n// Garfield is a 38 year-old ginger and black cat.\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-cat-show",""]]}]},{"t":"Header","c":[3,["solution:fe07c984d90f66803b37ccfa12dc5188",[],[]],[{"t":"Str","c":"Solution to: Equality, Liberty, and Felinity "}]]},{"t":"Para","c":[{"t":"Str","c":"First"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"imports."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"exercise"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Space"},{"t":"Str","c":"interface"},{"t":"Space"},{"t":"Str","c":"syntax."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"bring"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"below:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Eq\nimport cats.syntax.eq._ // for ===\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Cat"]},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"ever:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class Cat(name: String, age: Int, color: String)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"bring"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq"]},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"SoftBreak"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eq[Cat]"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.int._    // for Eq\nimport cats.instances.string._ // for Eq\n\nimplicit val catEqual: Eq[Cat] =\n  Eq.instance[Cat] { (cat1, cat2) =>\n    (cat1.name  === cat2.name ) &&\n    (cat1.age   === cat2.age  ) &&\n    (cat1.color === cat2.color)\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"things"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"sample"},{"t":"Space"},{"t":"Str","c":"application:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval cat1 = Cat(\"Garfield\",   38, \"orange and black\")\n// cat1: Cat = Cat(\"Garfield\", 38, \"orange and black\")\nval cat2 = Cat(\"Heathcliff\", 32, \"orange and black\")\n// cat2: Cat = Cat(\"Heathcliff\", 32, \"orange and black\")\n\ncat1 === cat2\n// res15: Boolean = false\ncat1 =!= cat2\n// res16: Boolean = true\n\nimport cats.instances.option._ // for Eq\n\nval optionCat1 = Option(cat1)\n// optionCat1: Option[Cat] = Some(Cat(\"Garfield\", 38, \"orange and black\"))\nval optionCat2 = Option.empty[Cat]\n// optionCat2: Option[Cat] = None\n\noptionCat1 === optionCat2\n// res17: Boolean = false\noptionCat1 =!= optionCat2\n// res18: Boolean = true\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-equality-liberty-and-felinity",""]]}]},{"t":"Header","c":[2,["",[],[]],[{"t":"Str","c":"Monoids and Semigroups"}]]},{"t":"Header","c":[3,["solution:bda51e1e696455779037eebad8871e11",[],[]],[{"t":"Str","c":"Solution to: The Truth About Monoids "}]]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"four"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Boolean"]},{"t":"Str","c":"!"},{"t":"SoftBreak"},{"t":"Str","c":"First,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"and"}]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"operator"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"&&"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"true"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val booleanAndMonoid: Monoid[Boolean] =\n  new Monoid[Boolean] {\n    def combine(a: Boolean, b: Boolean) = a && b\n    def empty = true\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Second,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"or"}]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"operator"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"||"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"false"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val booleanOrMonoid: Monoid[Boolean] =\n  new Monoid[Boolean] {\n    def combine(a: Boolean, b: Boolean) = a || b\n    def empty = false\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Third,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"exclusive"},{"t":"Space"},{"t":"Str","c":"or"}]},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"false"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val booleanEitherMonoid: Monoid[Boolean] =\n  new Monoid[Boolean] {\n    def combine(a: Boolean, b: Boolean) =\n      (a && !b) || (!a && b)\n\n    def empty = false\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"exclusive"},{"t":"Space"},{"t":"Str","c":"nor"}]},{"t":"Space"},{"t":"Str","c":"(the"},{"t":"Space"},{"t":"Str","c":"negation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"exclusive"},{"t":"Space"},{"t":"Str","c":"or)"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"true"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val booleanXnorMonoid: Monoid[Boolean] =\n  new Monoid[Boolean] {\n    def combine(a: Boolean, b: Boolean) =\n      (!a || b) && (a || !b)\n\n    def empty = true\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Showing"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"law"},{"t":"Space"},{"t":"Str","c":"holds"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"straightforward."},{"t":"SoftBreak"},{"t":"Str","c":"Similarly"},{"t":"Space"},{"t":"Str","c":"associativity"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"SoftBreak"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"shown"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"enumerating"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"cases."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-the-truth-about-monoids",""]]}]},{"t":"Header","c":[3,["solution:648eff360f9e4e24712d20d60c2b9d5c",[],[]],[{"t":"Str","c":"Solution to: All Set for Monoids "}]]},{"t":"Para","c":[{"t":"Emph","c":[{"t":"Str","c":"Set"},{"t":"Space"},{"t":"Str","c":"union"}]},{"t":"Space"},{"t":"Str","c":"forms"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"along"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"empty"},{"t":"Space"},{"t":"Str","c":"set:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit def setUnionMonoid[A]: Monoid[Set[A]] =\n  new Monoid[Set[A]] {\n    def combine(a: Set[A], b: Set[A]) = a union b\n    def empty = Set.empty[A]\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"setUnionMonoid"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"rather"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"Space"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"summon"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoids"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Sets"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"data:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval intSetMonoid = Monoid[Set[Int]]\nval strSetMonoid = Monoid[Set[String]]\n\nintSetMonoid.combine(Set(1, 2), Set(2, 3))\n// res18: Set[Int] = Set(1, 2, 3)\nstrSetMonoid.combine(Set(\"A\", \"B\"), Set(\"B\", \"C\"))\n// res19: Set[String] = Set(\"A\", \"B\", \"C\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Set"},{"t":"Space"},{"t":"Str","c":"intersection"},{"t":"Space"},{"t":"Str","c":"forms"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"semigroup,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"element:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit def setIntersectionSemigroup[A]: Semigroup[Set[A]] =\n  new Semigroup[Set[A]] {\n    def combine(a: Set[A], b: Set[A]) =\n      a intersect b\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Set"},{"t":"Space"},{"t":"Str","c":"complement"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"set"},{"t":"Space"},{"t":"Str","c":"difference"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"associative,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"cannot"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"considered"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"monoids"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"semigroups."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"symmetric"},{"t":"Space"},{"t":"Str","c":"difference"},{"t":"Space"},{"t":"Str","c":"(the"},{"t":"Space"},{"t":"Str","c":"union"},{"t":"Space"},{"t":"Str","c":"less"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"intersection)"},{"t":"SoftBreak"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"empty"},{"t":"Space"},{"t":"Str","c":"set:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit def symDiffMonoid[A]: Monoid[Set[A]] =\n  new Monoid[Set[A]] {\n    def combine(a: Set[A], b: Set[A]): Set[A] =\n      (a diff b) union (b diff a)\n    def empty: Set[A] = Set.empty\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-all-set-for-monoids",""]]}]},{"t":"Header","c":[3,["solution:cc0c8c893c8e21752b037be8fe8bbbb0",[],[]],[{"t":"Str","c":"Solution to: Adding All The Things "}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"addition"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldLeft"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"0"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"+"]},{"t":"Space"},{"t":"Str","c":"operator:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef add(items: List[Int]): Int =\n  items.foldLeft(0)(_ + _)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"alternatively"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"fold"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoids"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"although"},{"t":"Space"},{"t":"Str","c":"there’s"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"compelling"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"yet:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\nimport cats.instances.int._    // for Monoid\nimport cats.syntax.semigroup._ // for |+|\n\ndef add(items: List[Int]): Int =\n  items.foldLeft(Monoid[Int].empty)(_ |+| _)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-adding-all-the-things",""]]}]},{"t":"Header","c":[3,["solution:3efb815612b81951aed4cfd24a073955",[],[]],[{"t":"Str","c":"Solution to: Adding All The Things Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoids"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"adds"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Ints"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[Int]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"accepts"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\nimport cats.syntax.semigroup._ // for |+|\n\ndef add[A](items: List[A])(implicit monoid: Monoid[A]): A =\n  items.foldLeft(monoid.empty)(_ |+| _)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"optionally"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"Scala’s"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"bound"}]},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"shorter"},{"t":"Space"},{"t":"Str","c":"way:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef add[A: Monoid](items: List[A]): A =\n  items.foldLeft(Monoid[A].empty)(_ |+| _)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[Int]"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"requested:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.int._ // for Monoid\n\nadd(List(1, 2, 3))\n// res10: Int = 6\n\nimport cats.instances.option._ // for Monoid\n\nadd(List(Some(1), None, Some(2), None, Some(3)))\n// res11: Option[Int] = Some(6)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"consisting"},{"t":"Space"},{"t":"Str","c":"entirely"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Some"]},{"t":"Space"},{"t":"Str","c":"values,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"compile"},{"t":"Space"},{"t":"Str","c":"error:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nadd(List(Some(1), Some(2), Some(3)))\n// error: could not find implicit value for evidence parameter of type cats.Monoid[Some[Int]]\n// add(List(Some(1), Some(2), Some(3)))\n// ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"happens"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"inferred"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Some[Int]]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"while"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"generate"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[Int]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"how"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"moment."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-adding-all-the-things",""]]}]},{"t":"Header","c":[3,["solution:eff9052449750eef7856d7df640d12fb",[],[]],[{"t":"Str","c":"Solution to: Adding All The Things Part 3"}]]},{"t":"Para","c":[{"t":"Str","c":"Easy—we"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"define"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monoid"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Order"]},{"t":"Str","c":"!"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val monoid: Monoid[Order] = new Monoid[Order] {\n  def combine(o1: Order, o2: Order) =\n    Order(\n      o1.totalCost + o2.totalCost,\n      o1.quantity + o2.quantity\n    )\n\n  def empty = Order(0, 0)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-adding-all-the-things",""]]}]},{"t":"Header","c":[2,["",[],[]],[{"t":"Str","c":"Functors"}]]},{"t":"Header","c":[3,["solution:af4f4b8a97c65937efb59464d783ef20",[],[]],[{"t":"Str","c":"Solution to: Branching out with Functors "}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"recurse"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"structure,"},{"t":"Space"},{"t":"Str","c":"applying"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Leaf"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"find."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"functor"},{"t":"Space"},{"t":"Str","c":"laws"},{"t":"Space"},{"t":"Str","c":"intuitively"},{"t":"Space"},{"t":"Str","c":"require"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"retain"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Branch"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Leaf"]},{"t":"Space"},{"t":"Str","c":"nodes:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Functor\n\nimplicit val treeFunctor: Functor[Tree] =\n  new Functor[Tree] {\n    def map[A, B](tree: Tree[A])(func: A => B): Tree[B] =\n      tree match {\n        case Branch(left, right) =>\n          Branch(map(left)(func), map(right)(func))\n        case Leaf(value) =>\n          Leaf(func(value))\n      }\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Trees"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nBranch(Leaf(10), Leaf(20)).map(_ * 2)\n// error: value map is not a member of repl.Session.App0.Branch[Int]\n// Branch(Leaf(10), Leaf(20)).map(_ * 2)\n// ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Oops!"},{"t":"Space"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"falls"},{"t":"Space"},{"t":"Str","c":"foul"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"invariance"},{"t":"Space"},{"t":"Str","c":"problem"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"discussed"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"1.6.1"},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Tree"]},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Branch"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Leaf"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"add"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"smart"},{"t":"Space"},{"t":"Str","c":"constructors"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"compensate:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nobject Tree {\n  def branch[A](left: Tree[A], right: Tree[A]): Tree[A] =\n    Branch(left, right)\n\n  def leaf[A](value: A): Tree[A] =\n    Leaf(value)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"properly:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nTree.leaf(100).map(_ * 2)\n// res9: Tree[Int] = Leaf(200)\n\nTree.branch(Tree.leaf(10), Tree.leaf(20)).map(_ * 2)\n// res10: Tree[Int] = Branch(Leaf(20), Leaf(40))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-branching-out-with-functors",""]]}]},{"t":"Header","c":[3,["solution:eea3361dcc120b9751cd08d185a3ce01",[],[]],[{"t":"Str","c":"Solution to: Showing off with Contramap "}]]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"implementation."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"func"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"turn"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"original"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"turn"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"String"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"small"},{"t":"Space"},{"t":"Str","c":"show"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"sleight"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"hand"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"self"]},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"distinguish"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"outer"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"inner"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printables"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Printable[A] { self =>\n\n  def format(value: A): String\n\n  def contramap[B](func: B => A): Printable[B] =\n    new Printable[B] {\n      def format(value: B): String =\n        self.format(func(value))\n    }\n}\n\ndef format[A](value: A)(implicit p: Printable[A]): String =\n  p.format(value)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-showing-off-with-contramap",""]]}]},{"t":"Header","c":[3,["solution:b05e80e1df95713a78cb966761a03752",[],[]],[{"t":"Str","c":"Solution to: Showing off with Contramap Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"across"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Box"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"base"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Printable"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Box"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"hand:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit def boxPrintable[A](\n    implicit p: Printable[A]\n): Printable[Box[A]] =\n  new Printable[Box[A]] {\n    def format(box: Box[A]): String =\n      p.format(box.value)\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"base"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"SoftBreak"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameter:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit def boxPrintable[A](implicit p: Printable[A]): Printable[Box[A]] =\n  p.contramap[Box[A]](_.value)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"contramap"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"much"},{"t":"Space"},{"t":"Str","c":"simpler,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"conveys"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"programming"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"solutions"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"combining"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"blocks"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"pure"},{"t":"Space"},{"t":"Str","c":"functional"},{"t":"Space"},{"t":"Str","c":"combinators."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-showing-off-with-contramap",""]]}]},{"t":"Header","c":[3,["solution:e67d071c4124aae78bc1b394fc972d63",[],[]],[{"t":"Str","c":"Solution to: Transformative Thinking with imap "}]]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"implementation:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Codec[A] { self =>\n  def encode(value: A): String\n  def decode(value: String): A\n\n  def imap[B](dec: A => B, enc: B => A): Codec[B] = {\n    new Codec[B] {\n      def encode(value: B): String =\n        self.encode(enc(value))\n\n      def decode(value: String): B =\n        dec(self.decode(value))\n    }\n  }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#transformative-thinking-with-imap",""]]}]},{"t":"Header","c":[3,["solution:83d89776f00a10e21798bb6ace22cde4",[],[]],[{"t":"Str","c":"Solution to: Transformative Thinking with imap Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"stringCodec"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val doubleCodec: Codec[Double] =\n  stringCodec.imap[Double](_.toDouble, _.toString)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#transformative-thinking-with-imap",""]]}]},{"t":"Header","c":[3,["solution:e630df8ffd8731c552bcccd4fc205297",[],[]],[{"t":"Str","c":"Solution to: Transformative Thinking with imap Part 3"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codec"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Box[A]"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"given"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"calling"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"imap"]},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Codec[A]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"bring"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameter:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit def boxCodec[A](implicit c: Codec[A]): Codec[Box[A]] =\n  c.imap[Box[A]](Box(_), _.value)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#transformative-thinking-with-imap",""]]}]},{"t":"Header","c":[2,["",[],[]],[{"t":"Str","c":"Monads"}]]},{"t":"Header","c":[3,["solution:0183dc377d1e7f29770ad2c213464c69",[],[]],[{"t":"Str","c":"Solution to: Getting Func-y "}]]},{"t":"Para","c":[{"t":"Str","c":"At"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"glance"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"seems"},{"t":"Space"},{"t":"Str","c":"tricky,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"follow"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"there’s"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"solution."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"passed"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"F[A]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Given"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"tools"},{"t":"Space"},{"t":"Str","c":"available"},{"t":"Space"},{"t":"Str","c":"there’s"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"thing"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"do:"},{"t":"SoftBreak"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Monad[F[_]] {\n  def pure[A](value: A): F[A]\n\n  def flatMap[A, B](value: F[A])(func: A => F[B]): F[B]\n\n  def map[A, B](value: F[A])(func: A => B): F[B] =\n    flatMap(value)(a => ???)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => F[B]"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"second"},{"t":"Space"},{"t":"Str","c":"parameter."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"building"},{"t":"Space"},{"t":"Str","c":"blocks"},{"t":"Space"},{"t":"Str","c":"available:"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"func"]},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => F[A]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Combining"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"result:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait Monad[F[_]] {\n  def pure[A](value: A): F[A]\n\n  def flatMap[A, B](value: F[A])(func: A => F[B]): F[B]\n\n  def map[A, B](value: F[A])(func: A => B): F[B] =\n    flatMap(value)(a => pure(func(a)))\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-getting-func-y",""]]}]},{"t":"Header","c":[3,["solution:20e7baf9d0f2f0e7504a9c459596cc6c",[],[]],[{"t":"Str","c":"Solution to: Monadic Secret Identities "}]]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"signatures:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Id\n\ndef pure[A](value: A): Id[A] =\n  ???\n\ndef map[A, B](initial: Id[A])(func: A => B): Id[B] =\n  ???\n\ndef flatMap[A, B](initial: Id[A])(func: A => Id[B]): Id[B] =\n  ???\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"turn."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"creates"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[A]"]},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"But"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[A]"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"type!"},{"t":"SoftBreak"},{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"initial"},{"t":"Space"},{"t":"Str","c":"value:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef pure[A](value: A): Id[A] =\n  value\n\npure(123)\n// res7: Id[Int] = 123\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"takes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[A]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"applies"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A => B"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[B]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"But"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[A]"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[B]"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":"!"},{"t":"SoftBreak"},{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"function—no"},{"t":"Space"},{"t":"Str","c":"boxing"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"unboxing"},{"t":"Space"},{"t":"Str","c":"required:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef map[A, B](initial: Id[A])(func: A => B): Id[B] =\n  func(initial)\n\nmap(123)(_ * 2)\n// res8: Id[Int] = 246\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"punch"},{"t":"Space"},{"t":"Str","c":"line"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that,"},{"t":"SoftBreak"},{"t":"Str","c":"once"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"strip"},{"t":"Space"},{"t":"Str","c":"away"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors,"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"actually"},{"t":"Space"},{"t":"Str","c":"identical:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef flatMap[A, B](initial: Id[A])(func: A => Id[B]): Id[B] =\n  func(initial)\n\nflatMap(123)(_ * 2)\n// res9: Id[Int] = 246\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"ties"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"understanding"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"functors"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"monads"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"sequencing"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"classes."},{"t":"SoftBreak"},{"t":"Str","c":"Each"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"class"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"sequence"},{"t":"Space"},{"t":"Str","c":"operations"},{"t":"SoftBreak"},{"t":"Str","c":"ignoring"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"kind"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"complication."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id"]},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"complication,"},{"t":"SoftBreak"},{"t":"Str","c":"making"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"thing."}]},{"t":"Para","c":[{"t":"Str","c":"Notice"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"haven’t"},{"t":"Space"},{"t":"Str","c":"had"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"annotations"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"bodies"},{"t":"Space"},{"t":"Str","c":"above."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"compiler"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"interpret"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[A]"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"vice"},{"t":"Space"},{"t":"Str","c":"versa"},{"t":"SoftBreak"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"used."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"restriction"},{"t":"Space"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"seen"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"cannot"},{"t":"Space"},{"t":"Str","c":"unify"},{"t":"SoftBreak"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"constructors"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"searching"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"implicits."},{"t":"SoftBreak"},{"t":"Str","c":"Hence"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"re-type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[Int]"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"sumSquare"]},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"opening"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"section:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsumSquare(3 : Id[Int], 4 : Id[Int])\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-monadic-secret-identities",""]]}]},{"t":"Header","c":[3,["solution:b4a158bb9a5f8c11e6ddda509b04199c",[],[]],[{"t":"Str","c":"Solution to: What is Best? "}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"open"},{"t":"Space"},{"t":"Str","c":"question."},{"t":"SoftBreak"},{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"kind"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"trick"},{"t":"Space"},{"t":"Str","c":"question—the"},{"t":"SoftBreak"},{"t":"Str","c":"answer"},{"t":"Space"},{"t":"Str","c":"depends"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"looking"},{"t":"Space"},{"t":"Str","c":"for."},{"t":"SoftBreak"},{"t":"Str","c":"Some"},{"t":"Space"},{"t":"Str","c":"points"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"ponder:"}]},{"t":"BulletList","c":[[{"t":"Para","c":[{"t":"Str","c":"Error"},{"t":"Space"},{"t":"Str","c":"recovery"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"important"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"processing"},{"t":"Space"},{"t":"Str","c":"large"},{"t":"Space"},{"t":"Str","c":"jobs."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"job"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"day"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"find"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"failed"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"last"},{"t":"Space"},{"t":"Str","c":"element."}]}],[{"t":"Para","c":[{"t":"Str","c":"Error"},{"t":"Space"},{"t":"Str","c":"reporting"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"equally"},{"t":"Space"},{"t":"Str","c":"important."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"know"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"went"},{"t":"Space"},{"t":"Str","c":"wrong,"},{"t":"SoftBreak"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"something"},{"t":"Space"},{"t":"Str","c":"went"},{"t":"Space"},{"t":"Str","c":"wrong."}]}],[{"t":"Plain","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"cases,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"collect"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"errors,"},{"t":"SoftBreak"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"encountered."},{"t":"SoftBreak"},{"t":"Str","c":"A"},{"t":"Space"},{"t":"Str","c":"typical"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"validating"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"web"},{"t":"Space"},{"t":"Str","c":"form."},{"t":"SoftBreak"},{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"far"},{"t":"Space"},{"t":"Str","c":"better"},{"t":"Space"},{"t":"Str","c":"experience"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"report"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"submit"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"SoftBreak"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"report"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"time."}]}]]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-what-is-best",""]]}]},{"t":"Header","c":[3,["solution:c6982f9215c04a57facf358c275aa780",[],[]],[{"t":"Str","c":"Solution to: Abstracting "}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"solve"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"raiseError"]},{"t":"Str","c":"."},{"t":"Space"},{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"parameters"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"methods,"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"aid"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"inference."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef validateAdult[F[_]](age: Int)(implicit me: MonadError[F, Throwable]): F[Int] =\n  if(age >= 18) age.pure[F]\n  else new IllegalArgumentException(\"Age must be greater than or equal to 18\").raiseError[F, Int]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-abstracting",""]]}]},{"t":"Header","c":[3,["solution:991265e63ef72a8ad03c36fbe0c70781",[],[]],[{"t":"Str","c":"Solution to: Safer Folding using Eval "}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"easiest"},{"t":"Space"},{"t":"Str","c":"way"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"fix"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"introduce"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"helper"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"called"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRightEval"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"essentially"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"original"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"every"},{"t":"Space"},{"t":"Str","c":"occurrence"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Space"},{"t":"Str","c":"replaced"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval[B]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Eval.defer"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"protect"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"recursive"},{"t":"Space"},{"t":"Str","c":"call:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Eval\n\ndef foldRightEval[A, B](as: List[A], acc: Eval[B])\n    (fn: (A, Eval[B]) => Eval[B]): Eval[B] =\n  as match {\n    case head :: tail =>\n      Eval.defer(fn(head, foldRightEval(tail, acc)(fn)))\n    case Nil =>\n      acc\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"redefine"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRight"]},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldRightEval"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"resulting"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safe:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef foldRight[A, B](as: List[A], acc: B)(fn: (A, B) => B): B =\n  foldRightEval(as, Eval.now(acc)) { (a, b) =>\n    b.map(fn(a, _))\n  }.value\n\nfoldRight((1 to 100000).toList, 0L)(_ + _)\n// res24: Long = 5000050000L\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-safer-folding-using-eval",""]]}]},{"t":"Header","c":[3,["solution:3d509df51451cc252db384725b30d734",[],[]],[{"t":"Str","c":"Solution to: Show Your Working "}]]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"defining"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Writer"]},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"syntax:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.Writer\nimport cats.instances.vector._\nimport cats.syntax.applicative._ // for pure\n\ntype Logged[A] = Writer[Vector[String], A]\n\n42.pure[Logged]\n// res11: Logged[Int] = WriterT((Vector(), 42))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tell"]},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"well:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.writer._ // for tell\n\nVector(\"Message\").tell\n// res12: Writer[Vector[String], Unit] = WriterT((Vector(\"Message\"), ()))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Logged"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.vector._ // for Monoid\n\n41.pure[Logged].map(_ + 1)\n// res13: cats.data.WriterT[cats.package.Id, Vector[String], Int] = WriterT(\n//   (Vector(), 42)\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"these"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"scope,"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"factorial"]},{"t":"Space"},{"t":"Str","c":"becomes:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef factorial(n: Int): Logged[Int] =\n  for {\n    ans <- if(n == 0) {\n             1.pure[Logged]\n           } else {\n             slowly(factorial(n - 1).map(_ * n))\n           }\n    _   <- Vector(s\"fact $n $ans\").tell\n  } yield ans\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"When"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"factorial"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"now"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"run"]},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"value"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"extract"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"log"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"factorial:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval (log, res) = factorial(5).run\n// log: Vector[String] = Vector(\n//   \"fact 0 1\",\n//   \"fact 1 1\",\n//   \"fact 2 2\",\n//   \"fact 3 6\",\n//   \"fact 4 24\",\n//   \"fact 5 120\"\n// )\n// res: Int = 120\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"several"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"factorials"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"parallel"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows,"},{"t":"SoftBreak"},{"t":"Str","c":"capturing"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"logs"},{"t":"Space"},{"t":"Str","c":"independently"},{"t":"SoftBreak"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"fear"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"interleaving:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nAwait.result(Future.sequence(Vector(\n  Future(factorial(5)),\n  Future(factorial(5))\n)).map(_.map(_.written)), 5.seconds)\n// res: scala.collection.immutable.Vector[cats.Id[Vector[String]]] = \n//   Vector(\n//     Vector(fact 0 1, fact 1 1, fact 2 2, fact 3 6, fact 4 24, fact 5 120), \n//     Vector(fact 0 1, fact 1 1, fact 2 2, fact 3 6, fact 4 24, fact 5 120)\n//   )\n\\end{lstlisting}"]},{"t":"RawBlock","c":["html","<!--\nHACK: There is a deadlock in the REPL that prevents the code above from working\n(see https://github.com/scala/bug/issues/9076) so i gone done hacked it.\n-->"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-show-your-working",""]]}]},{"t":"Header","c":[3,["solution:287e377f46dc50175a0a1e5d9e6ed2df",[],[]],[{"t":"Str","c":"Solution to: Hacking on Readers "}]]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Str","c":"fixes"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Db"]},{"t":"Space"},{"t":"Str","c":"type"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"leaves"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"flexible:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype DbReader[A] = Reader[Db, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-hacking-on-readers",""]]}]},{"t":"Header","c":[3,["solution:ce4c4e81b43f5a500d6480c7f118900a",[],[]],[{"t":"Str","c":"Solution to: Hacking on Readers Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"Remember:"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"idea"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"leave"},{"t":"Space"},{"t":"Str","c":"injecting"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"configuration"},{"t":"Space"},{"t":"Str","c":"until"},{"t":"Space"},{"t":"Str","c":"last."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"means"},{"t":"Space"},{"t":"Str","c":"setting"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"functions"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"config"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"parameter"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"against"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"concrete"},{"t":"Space"},{"t":"Str","c":"user"},{"t":"Space"},{"t":"Str","c":"info"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"been"},{"t":"Space"},{"t":"Str","c":"given:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef findUsername(userId: Int): DbReader[Option[String]] =\n  Reader(db => db.usernames.get(userId))\n\ndef checkPassword(\n      username: String,\n      password: String): DbReader[Boolean] =\n  Reader(db => db.passwords.get(username).contains(password))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-hacking-on-readers",""]]}]},{"t":"Header","c":[3,["solution:e673a8c47a33b909b5e1671f9fba2412",[],[]],[{"t":"Str","c":"Solution to: Hacking on Readers Part 3"}]]},{"t":"Para","c":[{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"might"},{"t":"Space"},{"t":"Str","c":"expect,"},{"t":"SoftBreak"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"chain"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"findUsername"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"checkPassword"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"pure"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"lift"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Boolean"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"DbReader[Boolean]"]},{"t":"SoftBreak"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"username"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"not"},{"t":"Space"},{"t":"Str","c":"found:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.applicative._ // for pure\n\ndef checkLogin(\n      userId: Int,\n      password: String): DbReader[Boolean] =\n  for {\n    username   <- findUsername(userId)\n    passwordOk <- username.map { username =>\n                    checkPassword(username, password)\n                  }.getOrElse {\n                    false.pure[DbReader]\n                  }\n  } yield passwordOk\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-hacking-on-readers",""]]}]},{"t":"Header","c":[3,["solution:ab13ca9c64951097a9fcd78ff67c1152",[],[]],[{"t":"Str","c":"Solution to: Post-Order Calculator "}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"operation"},{"t":"Space"},{"t":"Str","c":"required"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"operators"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"operands."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"clarity"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalOne"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"helper"},{"t":"Space"},{"t":"Str","c":"functions,"},{"t":"SoftBreak"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"case:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef evalOne(sym: String): CalcState[Int] =\n  sym match {\n    case \"+\" => operator(_ + _)\n    case \"-\" => operator(_ - _)\n    case \"*\" => operator(_ * _)\n    case \"/\" => operator(_ / _)\n    case num => operand(num.toInt)\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"operand"]},{"t":"Space"},{"t":"Str","c":"first."},{"t":"SoftBreak"},{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"push"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"onto"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"operand"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Str","c":"result:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef operand(num: Int): CalcState[Int] =\n  State[List[Int], Int] { stack =>\n    (num :: stack, num)\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"operator"]},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"little"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"complex."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"pop"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"operands"},{"t":"Space"},{"t":"Str","c":"off"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"SoftBreak"},{"t":"Str","c":"(having"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"second"},{"t":"Space"},{"t":"Str","c":"operand"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"top"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack)i"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"push"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"their"},{"t":"Space"},{"t":"Str","c":"place."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"enough"},{"t":"Space"},{"t":"Str","c":"operands"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"it,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"exercise"},{"t":"Space"},{"t":"Str","c":"description"},{"t":"Space"},{"t":"Str","c":"allows"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"throw"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"exception"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef operator(func: (Int, Int) => Int): CalcState[Int] =\n  State[List[Int], Int] {\n    case b :: a :: tail =>\n      val ans = func(a, b)\n      (ans :: tail, ans)\n\n    case _ =>\n      sys.error(\"Fail!\")\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-post-order-calculator",""]]}]},{"t":"Header","c":[3,["solution:99343a0995dde7786b81a0d048985a7a",[],[]],[{"t":"Str","c":"Solution to: Post-Order Calculator Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"evalAll"]},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"folding"},{"t":"Space"},{"t":"Str","c":"over"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"input."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"start"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"pure"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"CalcState"]},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"0"]},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"empty."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"stage,"},{"t":"SoftBreak"},{"t":"Str","c":"ignoring"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"intermediate"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"saw"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.applicative._ // for pure\n\ndef evalAll(input: List[String]): CalcState[Int] =\n  input.foldLeft(0.pure[CalcState]) { (a, b) =>\n    a.flatMap(_ => evalOne(b))\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-post-order-calculator",""]]}]},{"t":"Header","c":[3,["solution:26dcabd4e4d756e91d0b00e08514844b",[],[]],[{"t":"Str","c":"Solution to: Post-Order Calculator Part 3"}]]},{"t":"Para","c":[{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"done"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"hard"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"now."},{"t":"SoftBreak"},{"t":"Str","c":"All"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"split"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"runA"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"unpack"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef evalInput(input: String): Int =\n  evalAll(input.split(\" \").toList).runA(Nil).value\n\nevalInput(\"1 2 + 3 4 + *\")\n// res15: Int = 21\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-post-order-calculator",""]]}]},{"t":"Header","c":[3,["solution:4ca8842a5f80939f67ec3e126ef25aa3",[],[]],[{"t":"Str","c":"Solution to: Branching out Further with Monads "}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Again,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"recurse"},{"t":"Space"},{"t":"Str","c":"down"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"func"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"new"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Tree"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"fairly"},{"t":"Space"},{"t":"Str","c":"complex"},{"t":"SoftBreak"},{"t":"Str","c":"regardless"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"whether"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"tail-recursive"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"not."}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"follow"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"non-tail-recursive"},{"t":"Space"},{"t":"Str","c":"solution"},{"t":"Space"},{"t":"Str","c":"falls"},{"t":"Space"},{"t":"Str","c":"out:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monad\n\nimplicit val treeMonad = new Monad[Tree] {\n  def pure[A](value: A): Tree[A] =\n    Leaf(value)\n\n  def flatMap[A, B](tree: Tree[A])\n      (func: A => Tree[B]): Tree[B] =\n    tree match {\n      case Branch(l, r) =>\n        Branch(flatMap(l)(func), flatMap(r)(func))\n      case Leaf(value)  =>\n        func(value)\n    }\n\n def tailRecM[A, B](a: A)\n     (func: A => Tree[Either[A, B]]): Tree[B] =\n   flatMap(func(a)) {\n     case Left(value) =>\n       tailRecM(value)(func)\n     case Right(value) =>\n       Leaf(value)\n   }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"solution"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"perfectly"},{"t":"Space"},{"t":"Str","c":"fine"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"exercise."},{"t":"SoftBreak"},{"t":"Str","c":"Its"},{"t":"Space"},{"t":"Str","c":"only"},{"t":"Space"},{"t":"Str","c":"downside"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"cannot"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"guarantees"},{"t":"Space"},{"t":"Str","c":"about"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"Space"},{"t":"Str","c":"safety."}]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"tail-recursive"},{"t":"Space"},{"t":"Str","c":"solution"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"much"},{"t":"Space"},{"t":"Str","c":"harder"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"write."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"adapted"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"solution"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"SoftBreak"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"Stack"},{"t":"Space"},{"t":"Str","c":"Overflow"},{"t":"Space"},{"t":"Str","c":"post"}],["https://stackoverflow.com/questions/44504790/cats-non-tail-recursive-tailrecm-method-for-monads",""]]},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"Nazarii"},{"t":"Space"},{"t":"Str","c":"Bardiuk."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"involves"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"explicit"},{"t":"Space"},{"t":"Str","c":"depth"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"traversal"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"tree,"},{"t":"SoftBreak"},{"t":"Str","c":"maintaining"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"open"]},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"nodes"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"visit"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"closed"]},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"nodes"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"reconstruct"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"tree:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monad\nimport scala.annotation.tailrec\n\nimplicit val treeMonad = new Monad[Tree] {\n  def pure[A](value: A): Tree[A] =\n    Leaf(value)\n\n  def flatMap[A, B](tree: Tree[A])\n      (func: A => Tree[B]): Tree[B] =\n    tree match {\n      case Branch(l, r) =>\n        Branch(flatMap(l)(func), flatMap(r)(func))\n      case Leaf(value)  =>\n        func(value)\n    }\n\n  def tailRecM[A, B](arg: A)\n      (func: A => Tree[Either[A, B]]): Tree[B] = {\n    @tailrec\n    def loop(\n          open: List[Tree[Either[A, B]]],\n          closed: List[Option[Tree[B]]]): List[Tree[B]] =\n      open match {\n        case Branch(l, r) :: next =>\n          loop(l :: r :: next, None :: closed)\n\n        case Leaf(Left(value)) :: next =>\n          loop(func(value) :: next, closed)\n\n        case Leaf(Right(value)) :: next =>\n          loop(next, Some(pure(value)) :: closed)\n\n        case Nil =>\n          closed.foldLeft(Nil: List[Tree[B]]) { (acc, maybeTree) =>\n            maybeTree.map(_ :: acc).getOrElse {\n              val left :: right :: tail = acc\n              branch(left, right) :: tail\n            }\n          }\n      }\n\n    loop(List(func(arg)), Nil).head\n  }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Regardless"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"version"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"tailRecM"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"define,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monad"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Trees"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.functor._ // for map\nimport cats.syntax.flatMap._ // for flatMap\n\nbranch(leaf(100), leaf(200)).\n  flatMap(x => branch(leaf(x - 1), leaf(x + 1)))\n// res5: Tree[Int] = Branch(\n//   Branch(Leaf(99), Leaf(101)),\n//   Branch(Leaf(199), Leaf(201))\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"also"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Trees"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehensions:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfor {\n  a <- branch(leaf(100), leaf(200))\n  b <- branch(leaf(a - 10), leaf(a + 10))\n  c <- branch(leaf(b - 1), leaf(b + 1))\n} yield c\n// res6: Tree[Int] = Branch(\n//   Branch(Branch(Leaf(89), Leaf(91)), Branch(Leaf(109), Leaf(111))),\n//   Branch(Branch(Leaf(189), Leaf(191)), Branch(Leaf(209), Leaf(211)))\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"fail-fast"},{"t":"Space"},{"t":"Str","c":"semantics."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"concatenation"},{"t":"Space"},{"t":"Str","c":"semantics."},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"binary"},{"t":"Space"},{"t":"Str","c":"tree?"},{"t":"SoftBreak"},{"t":"Str","c":"Every"},{"t":"Space"},{"t":"Str","c":"node"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"tree"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"potential"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"replaced"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"whole"},{"t":"Space"},{"t":"Str","c":"subtree,"},{"t":"SoftBreak"},{"t":"Str","c":"producing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"kind"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"growing"}]]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"feathering"}]]},{"t":"Space"},{"t":"Str","c":"behaviour,"},{"t":"SoftBreak"},{"t":"Str","c":"reminiscent"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"concatenation"},{"t":"Space"},{"t":"Str","c":"along"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"axes."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-branching-out-further-with-monads",""]]}]},{"t":"Header","c":[2,["",[],[]],[{"t":"Str","c":"Monad Transformers"}]]},{"t":"Header","c":[3,["solution:b2fcff64807731bcc51e2741ea279e6f",[],[]],[{"t":"Str","c":"Solution to: Monads: Transform and Roll Out "}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"relatively"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"combination."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"outside"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"inside,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"build"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"inside"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"EitherT"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.EitherT\nimport scala.concurrent.Future\n\ntype Response[A] = EitherT[Future, String, A]\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-monads-transform-and-roll-out",""]]}]},{"t":"Header","c":[3,["solution:8a3cd02df0f4f3684dceae8902198262",[],[]],[{"t":"Str","c":"Solution to: Monads: Transform and Roll Out Part 2"}]]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.EitherT\nimport scala.concurrent.Future\nval powerLevels = Map(\n  \"Jazz\"      -> 6,\n  \"Bumblebee\" -> 8,\n  \"Hot Rod\"   -> 10\n)\n\nimport cats.instances.future._ // for Monad\nimport scala.concurrent.ExecutionContext.Implicits.global\n\ntype Response[A] = EitherT[Future, String, A]\n\ndef getPowerLevel(ally: String): Response[Int] = {\n  powerLevels.get(ally) match {\n    case Some(avg) => EitherT.right(Future(avg))\n    case None      => EitherT.left(Future(s\"$ally unreachable\"))\n  }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-monads-transform-and-roll-out",""]]}]},{"t":"Header","c":[3,["solution:23f197ffcfe8149e28ac1643217515bb",[],[]],[{"t":"Str","c":"Solution to: Monads: Transform and Roll Out Part 3"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"request"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"power"},{"t":"Space"},{"t":"Str","c":"level"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"ally"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"results:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef canSpecialMove(ally1: String, ally2: String): Response[Boolean] =\n  for {\n    power1 <- getPowerLevel(ally1)\n    power2 <- getPowerLevel(ally2)\n  } yield (power1 + power2) > 15\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-monads-transform-and-roll-out",""]]}]},{"t":"Header","c":[3,["solution:0cfc8ef90e55f88d5929e73cd67b30ad",[],[]],[{"t":"Str","c":"Solution to: Monads: Transform and Roll Out Part 4"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"value"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"unpack"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"monad"},{"t":"Space"},{"t":"Str","c":"stack"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Await"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"fold"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"unpack"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.concurrent.Await\nimport scala.concurrent.ExecutionContext.Implicits.global\nimport scala.concurrent.duration._\n\ndef canSpecialMove(ally1: String, ally2: String): Response[Boolean] =\n  for {\n    power1 <- getPowerLevel(ally1)\n    power2 <- getPowerLevel(ally2)\n  } yield (power1 + power2) > 15\n\ndef tacticalReport(ally1: String, ally2: String): String = {\n  val stack = canSpecialMove(ally1, ally2).value\n\n  Await.result(stack, 1.second) match {\n    case Left(msg) =>\n      s\"Comms error: $msg\"\n    case Right(true)  =>\n      s\"$ally1 and $ally2 are ready to roll out!\"\n    case Right(false) =>\n      s\"$ally1 and $ally2 need a recharge.\"\n  }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-monads-transform-and-roll-out",""]]}]},{"t":"Header","c":[2,["",[],[]],[{"t":"Str","c":"Semigroupal and Applicative"}]]},{"t":"Header","c":[3,["solution:15e027c2bb4cf949237cd708af7f2808",[],[]],[{"t":"Str","c":"Solution to: The Product of Lists "}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"exercise"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"checking"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"understood"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"product"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"terms"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.functor._ // for map\nimport cats.syntax.flatMap._ // for flatMap\n\ndef product[F[_]: Monad, A, B](x: F[A], y: F[B]): F[(A, B)] =\n  x.flatMap(a => y.map(b => (a, b)))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"comprehension:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef product[F[_]: Monad, A, B](x: F[A], y: F[B]): F[(A, B)] =\n  for {\n    a <- x\n    b <- y\n  } yield (a, b)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"what"},{"t":"Space"},{"t":"Str","c":"give"},{"t":"Space"},{"t":"Str","c":"rise"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.list._ // for Semigroupal\n\nproduct(List(1, 2), List(3, 4))\n// res9: List[(Int, Int)] = List((1, 3), (1, 4), (2, 3), (2, 4))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-the-product-of-lists",""]]}]},{"t":"Header","c":[3,["solution:bbac1855c2a5685ffc22e8e237e36859",[],[]],[{"t":"Str","c":"Solution to: Parallel List "}]]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"List"]},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Parallel"]},{"t":"Space"},{"t":"Str","c":"instance,"},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"zips"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List"]},{"t":"SoftBreak"},{"t":"Str","c":"insted"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"cartesian"},{"t":"Space"},{"t":"Str","c":"product."}]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"little"},{"t":"Space"},{"t":"Str","c":"bit"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"code."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.list._\n\n(List(1, 2), List(3, 4)).tupled\n// res8: List[(Int, Int)] = List((1, 3), (1, 4), (2, 3), (2, 4))\n(List(1, 2), List(3, 4)).parTupled\n// res9: List[(Int, Int)] = List((1, 3), (2, 4))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-parallel-list",""]]}]},{"t":"Header","c":[2,["",[],[]],[{"t":"Str","c":"Foldable and Traverse"}]]},{"t":"Header","c":[3,["solution:4da8b35ffb551130bd42a5464bc7f8e5",[],[]],[{"t":"Str","c":"Solution to: Reflecting on Folds "}]]},{"t":"Para","c":[{"t":"Str","c":"Folding"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"left"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"reverses"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"list:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nList(1, 2, 3).foldLeft(List.empty[Int])((a, i) => i :: a)\n// res6: List[Int] = List(3, 2, 1)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Folding"},{"t":"Space"},{"t":"Str","c":"right"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"left"},{"t":"Space"},{"t":"Str","c":"copies"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"list,"},{"t":"Space"},{"t":"Str","c":"leaving"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"order"},{"t":"Space"},{"t":"Str","c":"intact:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nList(1, 2, 3).foldRight(List.empty[Int])((i, a) => i :: a)\n// res7: List[Int] = List(1, 2, 3)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"carefully"},{"t":"Space"},{"t":"Str","c":"specify"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"accumulator"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"avoid"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"error."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List.empty[Int]"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"avoid"},{"t":"SoftBreak"},{"t":"Str","c":"inferring"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"accumulator"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Nil.type"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Nothing]"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nList(1, 2, 3).foldRight(Nil)(_ :: _)\n// error: type mismatch;\n//  found   : List[Int]\n//  required: scala.collection.immutable.Nil.type\n// List(1, 2, 3).foldRight(Nil)(_ :: _)\n//                                ^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-reflecting-on-folds",""]]}]},{"t":"Header","c":[3,["solution:1c56b7fdcd89142b847263178dae4abb",[],[]],[{"t":"Str","c":"Solution to: Scaf-fold-ing Other Methods "}]]},{"t":"Para","c":[{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"solutions:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef map[A, B](list: List[A])(func: A => B): List[B] =\n  list.foldRight(List.empty[B]) { (item, accum) =>\n    func(item) :: accum\n  }\n\nmap(List(1, 2, 3))(_ * 2)\n// res9: List[Int] = List(2, 4, 6)\n\ndef flatMap[A, B](list: List[A])(func: A => List[B]): List[B] =\n  list.foldRight(List.empty[B]) { (item, accum) =>\n    func(item) ::: accum\n  }\n\nflatMap(List(1, 2, 3))(a => List(a, a * 10, a * 100))\n// res10: List[Int] = List(1, 10, 100, 2, 20, 200, 3, 30, 300)\n\ndef filter[A](list: List[A])(func: A => Boolean): List[A] =\n  list.foldRight(List.empty[A]) { (item, accum) =>\n    if(func(item)) item :: accum else accum\n  }\n\nfilter(List(1, 2, 3))(_ % 2 == 1)\n// res11: List[Int] = List(1, 3)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We’ve"},{"t":"Space"},{"t":"Str","c":"provided"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"definitions"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"sum"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"scala.math.Numeric"]},{"t":"SoftBreak"},{"t":"Str","c":"(which"},{"t":"Space"},{"t":"Str","c":"recreates"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"built-in"},{"t":"Space"},{"t":"Str","c":"functionality"},{"t":"Space"},{"t":"Str","c":"accurately)…"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport scala.math.Numeric\n\ndef sumWithNumeric[A](list: List[A])\n      (implicit numeric: Numeric[A]): A =\n  list.foldRight(numeric.zero)(numeric.plus)\n\nsumWithNumeric(List(1, 2, 3))\n// res12: Int = 6\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.Monoid"]},{"t":"SoftBreak"},{"t":"Str","c":"(which"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"appropriate"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"content"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"book):"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\n\ndef sumWithMonoid[A](list: List[A])\n      (implicit monoid: Monoid[A]): A =\n  list.foldRight(monoid.empty)(monoid.combine)\n\nimport cats.instances.int._ // for Monoid\n\nsumWithMonoid(List(1, 2, 3))\n// res13: Int = 6\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-scaf-fold-ing-other-methods",""]]}]},{"t":"Header","c":[3,["solution:3384f66e5c912c1b4bcf4f0b40ef5e59",[],[]],[{"t":"Str","c":"Solution to: Traversing with Vectors "}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"argument"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Vector[Int]]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"going"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector[List[Int]]"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"semigroupal"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"based"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Vector"]},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Lists"]},{"t":"SoftBreak"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"possible"},{"t":"Space"},{"t":"Str","c":"combinations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List(1, 2)"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List(3, 4)"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nlistSequence(List(Vector(1, 2), Vector(3, 4)))\n// res7: Vector[List[Int]] = Vector(\n//   List(1, 3),\n//   List(1, 4),\n//   List(2, 3),\n//   List(2, 4)\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-traversing-with-vectors",""]]}]},{"t":"Header","c":[3,["solution:e25a61aa3fe05eb85b41190ce790a474",[],[]],[{"t":"Str","c":"Solution to: Traversing with Vectors Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Str","c":"items"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"input"},{"t":"Space"},{"t":"Str","c":"list,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"end"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"combinations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"three"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Ints"]},{"t":"Str","c":":"},{"t":"SoftBreak"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"item,"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"second,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"third:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nlistSequence(List(Vector(1, 2), Vector(3, 4), Vector(5, 6)))\n// res9: Vector[List[Int]] = Vector(\n//   List(1, 3, 5),\n//   List(1, 3, 6),\n//   List(1, 4, 5),\n//   List(1, 4, 6),\n//   List(2, 3, 5),\n//   List(2, 3, 6),\n//   List(2, 4, 5),\n//   List(2, 4, 6)\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-traversing-with-vectors",""]]}]},{"t":"Header","c":[3,["solution:85188ec1673b0979591ce536324968a6",[],[]],[{"t":"Str","c":"Solution to: Traversing with Options "}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"arguments"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"listTraverse"]},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"List[Int]"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int => Option[Int]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option[List[Int]]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Again,"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Option"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"monad,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"semigroupal"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"follows"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"therefore"},{"t":"Space"},{"t":"Str","c":"fail-fast"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling:"},{"t":"SoftBreak"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"inputs"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"even,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"outputs."},{"t":"SoftBreak"},{"t":"Str","c":"Otherwise"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"None"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nprocess(List(2, 4, 6))\n// res12: Option[List[Int]] = Some(List(2, 4, 6))\nprocess(List(1, 2, 3))\n// res13: Option[List[Int]] = None\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-traversing-with-options",""]]}]},{"t":"Header","c":[3,["solution:fbf8cca97530a91b41d64272b6da9747",[],[]],[{"t":"Str","c":"Solution to: Traversing with Validated "}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"return"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"ErrorsOr[List[Int]]"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"expands"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Validated[List[String], List[Int]]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"semigroupal"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"validated"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"accumulating"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"handling,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"result"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"even"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Ints"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"list"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"detailing"},{"t":"Space"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Ints"]},{"t":"Space"},{"t":"Str","c":"failed"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"test:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nprocess(List(2, 4, 6))\n// res17: ErrorsOr[List[Int]] = Valid(List(2, 4, 6))\nprocess(List(1, 2, 3))\n// res18: ErrorsOr[List[Int]] = Invalid(List(\"1 is not even\", \"3 is not even\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-traversing-with-validated",""]]}]},{"t":"Header","c":[2,["",[],[]],[{"t":"Str","c":"Case Study: Testing Asynchronous Code"}]]},{"t":"Header","c":[3,["solution:d3378fa77d6ab042c4c97fa4c25b2093",[],[]],[{"t":"Str","c":"Solution to: Abstracting over Type Constructors "}]]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Id\n\ntrait UptimeClient[F[_]] {\n  def getUptime(hostname: String): F[Int]\n}\n\ntrait RealUptimeClient extends UptimeClient[Future] {\n  def getUptime(hostname: String): Future[Int]\n}\n\ntrait TestUptimeClient extends UptimeClient[Id] {\n  def getUptime(hostname: String): Id[Int]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that,"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[A]"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"alias"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"A"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"refer"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"TestUptimeClient"]},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Id[Int]"]},{"t":"Str","c":"—we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"simply"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"instead:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait TestUptimeClient extends UptimeClient[Id] {\n  def getUptime(hostname: String): Int\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Of"},{"t":"Space"},{"t":"Str","c":"course,"},{"t":"Space"},{"t":"Str","c":"technically"},{"t":"Space"},{"t":"Str","c":"speaking"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"redeclare"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"getUptime"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"RealUptimeClient"]},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"TestUptimeClient"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"However,"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"everything"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"SoftBreak"},{"t":"Str","c":"helps"},{"t":"Space"},{"t":"Str","c":"illustrate"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"technique."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#abstracting-over-type-constructors",""]]}]},{"t":"Header","c":[3,["solution:cc1f183c52ef5c6c2ba3d60b01024e99",[],[]],[{"t":"Str","c":"Solution to: Abstracting over Type Constructors Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"SoftBreak"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"original"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"TestUptimeClient"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"except"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Str","c":"longer"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future.successful"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nclass TestUptimeClient(hosts: Map[String, Int])\n  extends UptimeClient[Id] {\n  def getUptime(hostname: String): Int =\n    hosts.getOrElse(hostname, 0)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#abstracting-over-type-constructors",""]]}]},{"t":"Header","c":[3,["solution:7ca5eccbd9a2031355f44b330264a8ba",[],[]],[{"t":"Str","c":"Solution to: Abstracting over Monads "}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"look"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"this:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nclass UptimeService[F[_]](client: UptimeClient[F]) {\n  def getTotalUptime(hostnames: List[String]): F[Int] =\n    ???\n    // hostnames.traverse(client.getUptime).map(_.sum)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#abstracting-over-monads",""]]}]},{"t":"Header","c":[3,["solution:1d7cad1b9880227857c117dd29856bd1",[],[]],[{"t":"Str","c":"Solution to: Abstracting over Monads Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"write"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"parameter:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Applicative\nimport cats.syntax.functor._ // for map\n\nclass UptimeService[F[_]](client: UptimeClient[F])\n    (implicit a: Applicative[F]) {\n\n  def getTotalUptime(hostnames: List[String]): F[Int] =\n    hostnames.traverse(client.getUptime).map(_.sum)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"tersely"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"context"},{"t":"Space"},{"t":"Str","c":"bound:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nclass UptimeService[F[_]: Applicative]\n    (client: UptimeClient[F]) {\n\n  def getTotalUptime(hostnames: List[String]): F[Int] =\n    hostnames.traverse(client.getUptime).map(_.sum)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"import"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.syntax.functor"]},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"well"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"cats.Applicative"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"switching"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"future.map"]},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"Cats’"},{"t":"Space"},{"t":"Str","c":"generic"},{"t":"Space"},{"t":"Str","c":"extension"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"requires"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Functor"]},{"t":"Space"},{"t":"Str","c":"parameter."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#abstracting-over-monads",""]]}]},{"t":"Header","c":[2,["",[],[]],[{"t":"Str","c":"Case Study: Map-Reduce"}]]},{"t":"Header","c":[3,["solution:20768a4d870dcf5d94d8f14afd37d02f",[],[]],[{"t":"Str","c":"Solution to: Implementing foldMap "}]]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\n\n/** Single-threaded map-reduce function.\n  * Maps `func` over `values` and reduces using a `Monoid[B]`.\n  */\ndef foldMap[A, B: Monoid](values: Vector[A])(func: A => B): B =\n  ???\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#implementing-foldmap",""]]}]},{"t":"Header","c":[3,["solution:bc5aa4dcb5c5db1b4a283d822788b8bd",[],[]],[{"t":"Str","c":"Solution to: Implementing foldMap Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"modify"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"signature"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"B"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"change"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Code","c":[["",[],[]],"empty"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"|+|"]},{"t":"Space"},{"t":"Str","c":"syntax"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"described"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Section"},{"t":"Space"},{"t":"Str","c":"2.5.3"},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\nimport cats.syntax.semigroup._ // for |+|\n\ndef foldMap[A, B : Monoid](as: Vector[A])(func: A => B): B =\n  as.map(func).foldLeft(Monoid[B].empty)(_ |+| _)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"slight"},{"t":"Space"},{"t":"Str","c":"alteration"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"everything"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"step:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef foldMap[A, B : Monoid](as: Vector[A])(func: A => B): B =\n  as.foldLeft(Monoid[B].empty)(_ |+| func(_))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#implementing-foldmap",""]]}]},{"t":"Header","c":[3,["solution:33eb2f9e1612df99e5df6f948596dd6a",[],[]],[{"t":"Str","c":"Solution to: Implementing parallelFoldMap "}]]},{"t":"Para","c":[{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"annotated"},{"t":"Space"},{"t":"Str","c":"solution"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"splits"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"fold"]},{"t":"SoftBreak"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"separate"},{"t":"Space"},{"t":"Str","c":"line"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"code:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef parallelFoldMap[A, B: Monoid]\n      (values: Vector[A])\n      (func: A => B): Future[B] = {\n  // Calculate the number of items to pass to each CPU:\n  val numCores  = Runtime.getRuntime.availableProcessors\n  val groupSize = (1.0 * values.size / numCores).ceil.toInt\n\n  // Create one group for each CPU:\n  val groups: Iterator[Vector[A]] =\n    values.grouped(groupSize)\n\n  // Create a future to foldMap each group:\n  val futures: Iterator[Future[B]] =\n    groups map { group =>\n      Future {\n        group.foldLeft(Monoid[B].empty)(_ |+| func(_))\n      }\n    }\n\n  // foldMap over the groups to calculate a final result:\n  Future.sequence(futures) map { iterable =>\n    iterable.foldLeft(Monoid[B].empty)(_ |+| _)\n  }\n}\n\nval result: Future[Int] =\n  parallelFoldMap((1 to 1000000).toVector)(identity)\n\nAwait.result(result, 1.second)\n// res14: Int = 1784293664\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"re-use"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"concise"},{"t":"Space"},{"t":"Str","c":"solution."},{"t":"SoftBreak"},{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"local"},{"t":"Space"},{"t":"Str","c":"maps"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"reduces"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"steps"},{"t":"Space"},{"t":"Str","c":"3"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"4"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"SoftBreak"},{"t":"Str","c":"Figure"},{"t":"Space"},{"t":"Str","c":"15"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"actually"},{"t":"Space"},{"t":"Str","c":"equivalent"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"single"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"foldMap"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"shortening"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"entire"},{"t":"Space"},{"t":"Str","c":"algorithm"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"follows:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef parallelFoldMap[A, B: Monoid]\n      (values: Vector[A])\n      (func: A => B): Future[B] = {\n  val numCores  = Runtime.getRuntime.availableProcessors\n  val groupSize = (1.0 * values.size / numCores).ceil.toInt\n\n  val groups: Iterator[Vector[A]] =\n    values.grouped(groupSize)\n\n  val futures: Iterator[Future[B]] =\n    groups.map(group => Future(foldMap(group)(func)))\n\n  Future.sequence(futures) map { iterable =>\n    iterable.foldLeft(Monoid[B].empty)(_ |+| _)\n  }\n}\n\nval result: Future[Int] =\n  parallelFoldMap((1 to 1000000).toVector)(identity)\n\nAwait.result(result, 1.second)\n// res16: Int = 1784293664\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#implementing-parallelfoldmap",""]]}]},{"t":"Header","c":[3,["solution:739decfb88e2864a9d6f62e057a27213",[],[]],[{"t":"Str","c":"Solution to: parallelFoldMap with more Cats "}]]},{"t":"Para","c":[{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"restate"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"necessary"},{"t":"Space"},{"t":"Str","c":"imports"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"completeness:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Monoid\n\nimport cats.instances.int._    // for Monoid\nimport cats.instances.future._ // for Applicative and Monad\nimport cats.instances.vector._ // for Foldable and Traverse\n\nimport cats.syntax.foldable._  // for combineAll and foldMap\nimport cats.syntax.traverse._  // for traverse\n\nimport scala.concurrent._\nimport scala.concurrent.duration._\nimport scala.concurrent.ExecutionContext.Implicits.global\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"parallelFoldMap"]},{"t":"SoftBreak"},{"t":"Str","c":"delegating"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"much"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"body"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"possible:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef parallelFoldMap[A, B: Monoid]\n      (values: Vector[A])\n      (func: A => B): Future[B] = {\n  val numCores  = Runtime.getRuntime.availableProcessors\n  val groupSize = (1.0 * values.size / numCores).ceil.toInt\n\n  values\n    .grouped(groupSize)\n    .toVector\n    .traverse(group => Future(group.toVector.foldMap(func)))\n    .map(_.combineAll)\n}\n\nval future: Future[Int] =\n  parallelFoldMap((1 to 1000).toVector)(_ * 1000)\n\nAwait.result(future, 1.second)\n// res18: Int = 500500000\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"vector.grouped"]},{"t":"Space"},{"t":"Str","c":"returns"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Iterable[Iterator[Int]]"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"sprinkle"},{"t":"Space"},{"t":"Str","c":"calls"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"toVector"]},{"t":"Space"},{"t":"Str","c":"through"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"form"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"Cats"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"understand."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"traverse"]},{"t":"Space"},{"t":"Str","c":"creates"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Future[Vector[Int]]"]},{"t":"SoftBreak"},{"t":"Str","c":"containing"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Int"]},{"t":"Space"},{"t":"Str","c":"per"},{"t":"Space"},{"t":"Str","c":"batch."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"map"]},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"combines"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"match"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combineAll"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Foldable"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#parallelfoldmap-with-more-cats",""]]}]},{"t":"Header","c":[2,["",[],[]],[{"t":"Str","c":"Case Study: Data Validation"}]]},{"t":"Header","c":[3,["solution:81bdf324cc9ed1b76f5d553d4fb1d394",[],[]],[{"t":"Str","c":"Solution to: Basic Combinators "}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"E"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Then"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"values"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"E"]},{"t":"Space"},{"t":"Str","c":"using"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"combine"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"associated"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"|+|"]},{"t":"Space"},{"t":"Str","c":"syntax:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroup\nimport cats.instances.list._   // for Semigroup\nimport cats.syntax.semigroup._ // for |+|\n\nval semigroup = Semigroup[List[String]]\n\n// Combination using methods on Semigroup\nsemigroup.combine(List(\"Badness\"), List(\"More badness\"))\n// res3: List[String] = List(\"Badness\", \"More badness\")\n\n// Combination using Semigroup syntax\nList(\"Oh noes\") |+| List(\"Fail happened\")\n// res4: List[String] = List(\"Oh noes\", \"Fail happened\")\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"full"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Monoid"]},{"t":"Space"},{"t":"Str","c":"because"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"don’t"},{"t":"Space"},{"t":"Str","c":"need"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"identity"},{"t":"Space"},{"t":"Str","c":"element."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"keep"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"constraints"},{"t":"SoftBreak"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"small"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"possible!"}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#basic-combinators",""]]}]},{"t":"Header","c":[3,["solution:6e44cf2cf6daa7257e8c9f4fa60f3239",[],[]],[{"t":"Str","c":"Solution to: Basic Combinators Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"report"},{"t":"Space"},{"t":"Str","c":"all"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"prefer"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"not"}]},{"t":"Space"},{"t":"Str","c":"short-circuiting"},{"t":"SoftBreak"},{"t":"Str","c":"whenever"},{"t":"Space"},{"t":"Str","c":"possible."}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"and"]},{"t":"Space"},{"t":"Str","c":"method,"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"we’re"},{"t":"Space"},{"t":"Str","c":"combining"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"independent"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"another."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"always"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"rules"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"any"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"see."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#basic-combinators",""]]}]},{"t":"Header","c":[3,["solution:cdb87a550e29317cf5375850b0751abc",[],[]],[{"t":"Str","c":"Solution to: Basic Combinators Part 3"}]]},{"t":"Para","c":[{"t":"Str","c":"There"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"least"},{"t":"Space"},{"t":"Str","c":"two"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"strategies."}]},{"t":"Para","c":[{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"first"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"represent"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"functions."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"becomes"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"simple"},{"t":"Space"},{"t":"Str","c":"wrapper"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"combinator"},{"t":"Space"},{"t":"Str","c":"methods."},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"sake"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"disambiguation,"},{"t":"SoftBreak"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"CheckF"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroup\nimport cats.syntax.either._    // for asLeft and asRight\nimport cats.syntax.semigroup._ // for |+|\n\nfinal case class CheckF[E, A](func: A => Either[E, A]) {\n  def apply(a: A): Either[E, A] =\n    func(a)\n\n  def and(that: CheckF[E, A])\n        (implicit s: Semigroup[E]): CheckF[E, A] =\n    CheckF { a =>\n      (this(a), that(a)) match {\n        case (Left(e1),  Left(e2))  => (e1 |+| e2).asLeft\n        case (Left(e),   Right(_))  => e.asLeft\n        case (Right(_),  Left(e))   => e.asLeft\n        case (Right(_), Right(_)) => a.asRight\n      }\n    }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"test"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"behaviour"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get."},{"t":"SoftBreak"},{"t":"Str","c":"First"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"setup"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"checks:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.list._ // for Semigroup\n\nval a: CheckF[List[String], Int] =\n  CheckF { v =>\n    if(v > 2) v.asRight\n    else List(\"Must be > 2\").asLeft\n  }\n\nval b: CheckF[List[String], Int] =\n  CheckF { v =>\n    if(v < -2) v.asRight\n    else List(\"Must be < -2\").asLeft\n  }\n\nval check: CheckF[List[String], Int] =\n  a and b\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"run"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"data:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ncheck(5)\n// res5: Either[List[String], Int] = Left(List(\"Must be < -2\"))\ncheck(0)\n// res6: Either[List[String], Int] = Left(List(\"Must be > 2\", \"Must be < -2\"))\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Excellent!"},{"t":"Space"},{"t":"Str","c":"Everything"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"expected!"},{"t":"SoftBreak"},{"t":"Str","c":"We’re"},{"t":"Space"},{"t":"Str","c":"running"},{"t":"Space"},{"t":"Str","c":"both"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"SoftBreak"},{"t":"Str","c":"accumulating"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"required."}]},{"t":"Para","c":[{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"happens"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"try"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"fail"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can’t"},{"t":"Space"},{"t":"Str","c":"accumulate?"},{"t":"SoftBreak"},{"t":"Str","c":"For"},{"t":"Space"},{"t":"Str","c":"example,"},{"t":"Space"},{"t":"Str","c":"there"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"no"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Nothing"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"What"},{"t":"Space"},{"t":"Str","c":"happens"},{"t":"Space"},{"t":"Str","c":"if"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"CheckF[Nothing, A]"]},{"t":"Str","c":"?"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval a: CheckF[Nothing, Int] =\n  CheckF(v => v.asRight)\n\nval b: CheckF[Nothing, Int] =\n  CheckF(v => v.asRight)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"fine"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"come"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"combine"},{"t":"Space"},{"t":"Str","c":"them"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"might"},{"t":"Space"},{"t":"Str","c":"expect:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval check = a and b\n// error: could not find implicit value for parameter s: cats.Semigroup[Nothing]\n//   a and b\n//   ^^^^^^^\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Now"},{"t":"Space"},{"t":"Str","c":"let’s"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"another"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"strategy."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"approach"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"model"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"SoftBreak"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"algebraic"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type,"},{"t":"SoftBreak"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"explicit"},{"t":"Space"},{"t":"Str","c":"data"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"each"},{"t":"Space"},{"t":"Str","c":"combinator."},{"t":"SoftBreak"},{"t":"Str","c":"We’ll"},{"t":"Space"},{"t":"Str","c":"call"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsealed trait Check[E, A] {\n  import Check._\n\n  def and(that: Check[E, A]): Check[E, A] =\n    And(this, that)\n\n  def apply(a: A)(implicit s: Semigroup[E]): Either[E, A] =\n    this match {\n      case Pure(func) =>\n        func(a)\n\n      case And(left, right) =>\n        (left(a), right(a)) match {\n          case (Left(e1),  Left(e2))  => (e1 |+| e2).asLeft\n          case (Left(e),   Right(_))  => e.asLeft\n          case (Right(_),  Left(e))   => e.asLeft\n          case (Right(_), Right(_)) => a.asRight\n        }\n    }\n}\nobject Check {\n  final case class And[E, A](\n    left: Check[E, A],\n    right: Check[E, A]) extends Check[E, A]\n  \n  final case class Pure[E, A](\n    func: A => Either[E, A]) extends Check[E, A]\n    \n  def pure[E, A](f: A => Either[E, A]): Check[E, A] =\n    Pure(f)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Let’s"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"example:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval a: Check[List[String], Int] =\n  Check.pure { v =>\n    if(v > 2) v.asRight\n    else List(\"Must be > 2\").asLeft\n  }\n\nval b: Check[List[String], Int] =\n  Check.pure { v =>\n    if(v < -2) v.asRight\n    else List(\"Must be < -2\").asLeft\n  }\n\nval check: Check[List[String], Int] =\n  a and b\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"While"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"ADT"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"verbose"},{"t":"SoftBreak"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"function"},{"t":"Space"},{"t":"Str","c":"wrapper"},{"t":"Space"},{"t":"Str","c":"implementation,"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"advantage"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"cleanly"},{"t":"Space"},{"t":"Str","c":"separating"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"structure"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"computation"},{"t":"Space"},{"t":"Str","c":"(the"},{"t":"Space"},{"t":"Str","c":"ADT"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"create)"},{"t":"SoftBreak"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"process"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"gives"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"meaning"},{"t":"Space"},{"t":"Str","c":"(the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Space"},{"t":"Str","c":"method)."},{"t":"SoftBreak"},{"t":"Str","c":"From"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"options:"}]},{"t":"BulletList","c":[[{"t":"Plain","c":[{"t":"Str","c":"inspect"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"refactor"},{"t":"Space"},{"t":"Str","c":"checks"},{"t":"Space"},{"t":"Str","c":"after"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"created;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"move"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"interpreter"}]]},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"own"},{"t":"Space"},{"t":"Str","c":"module;"}]}],[{"t":"Plain","c":[{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Str","c":"alternative"},{"t":"Space"},{"t":"Str","c":"interpreters"},{"t":"SoftBreak"},{"t":"Str","c":"providing"},{"t":"Space"},{"t":"Str","c":"other"},{"t":"Space"},{"t":"Str","c":"functionality"},{"t":"Space"},{"t":"Str","c":"(for"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"visualizing"},{"t":"Space"},{"t":"Str","c":"checks)."}]}]]},{"t":"Para","c":[{"t":"Str","c":"Because"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"flexibility,"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"will"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"ADT"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"SoftBreak"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"rest"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#basic-combinators",""]]}]},{"t":"Header","c":[3,["solution:ccc6d81f7e502591a79d425228d75353",[],[]],[{"t":"Str","c":"Solution to: Basic Combinators Part 4"}]]},{"t":"Para","c":[{"t":"Str","c":"The"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"And"]},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"functors."},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"Space"},{"t":"Str","c":"has"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Applicative"]},{"t":"Space"},{"t":"Str","c":"instance,"},{"t":"SoftBreak"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want."},{"t":"SoftBreak"},{"t":"Str","c":"It"},{"t":"Space"},{"t":"Str","c":"fails"},{"t":"Space"},{"t":"Str","c":"fast"},{"t":"Space"},{"t":"Str","c":"instead"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"accumulating"},{"t":"Space"},{"t":"Str","c":"errors."}]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"want"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"accumulate"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Validated"]},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"appropriate"},{"t":"Space"},{"t":"Str","c":"abstraction."},{"t":"SoftBreak"},{"t":"Str","c":"As"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"bonus,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"reuse"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"lean"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"applicative"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Validated"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Str","c":"."}]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"implementation:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroup\nimport cats.data.Validated\nimport cats.syntax.apply._     // for mapN\n\nsealed trait Check[E, A] {\n  import Check._\n\n  def and(that: Check[E, A]): Check[E, A] =\n    And(this, that)\n\n  def apply(a: A)(implicit s: Semigroup[E]): Validated[E, A] =\n    this match {\n      case Pure(func) =>\n        func(a)\n\n      case And(left, right) =>\n        (left(a), right(a)).mapN((_, _) => a)\n    }\n}\nobject Check {\n  final case class And[E, A](\n    left: Check[E, A],\n    right: Check[E, A]) extends Check[E, A]\n  \n  final case class Pure[E, A](\n    func: A => Validated[E, A]) extends Check[E, A]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#basic-combinators",""]]}]},{"t":"Header","c":[3,["solution:1f563aff63650a3497bd4c2096b73669",[],[]],[{"t":"Str","c":"Solution to: Basic Combinators Part 5"}]]},{"t":"Para","c":[{"t":"Str","c":"This"},{"t":"Space"},{"t":"Str","c":"reuses"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"technique"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"and"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"do"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"bit"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"it’s"},{"t":"Space"},{"t":"Str","c":"OK"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"short-circuit"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"SoftBreak"},{"t":"Str","c":"because"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"choice"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"rules"},{"t":"SoftBreak"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"semantics"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Quoted","c":[{"t":"DoubleQuote"},[{"t":"Str","c":"or"}]]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroup\nimport cats.data.Validated\nimport cats.syntax.semigroup._ // for |+|\nimport cats.syntax.apply._     // for mapN\nimport cats.data.Validated._   // for Valid and Invalid\n\nsealed trait Check[E, A] {\n  import Check._\n\n  def and(that: Check[E, A]): Check[E, A] =\n    And(this, that)\n\n  def or(that: Check[E, A]): Check[E, A] =\n    Or(this, that)\n\n  def apply(a: A)(implicit s: Semigroup[E]): Validated[E, A] =\n    this match {\n      case Pure(func) =>\n        func(a)\n\n      case And(left, right) =>\n        (left(a), right(a)).mapN((_, _) => a)\n\n      case Or(left, right) =>\n        left(a) match {\n          case Valid(a)    => Valid(a)\n          case Invalid(e1) =>\n            right(a) match {\n              case Valid(a)    => Valid(a)\n              case Invalid(e2) => Invalid(e1 |+| e2)\n            }\n        }\n    }\n}\nobject Check {\n  final case class And[E, A](\n    left: Check[E, A],\n    right: Check[E, A]) extends Check[E, A]\n  \n  final case class Or[E, A](\n    left: Check[E, A],\n    right: Check[E, A]) extends Check[E, A]\n  \n  final case class Pure[E, A](\n    func: A => Validated[E, A]) extends Check[E, A]\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#basic-combinators",""]]}]},{"t":"Header","c":[3,["solution:d7f1158ea2c7521d8cfc61c0c2ddf285",[],[]],[{"t":"Str","c":"Solution to: Checks "}]]},{"t":"Para","c":[{"t":"Str","c":"If"},{"t":"Space"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"follow"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"strategy"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"SoftBreak"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"should"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"able"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"similar"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"below:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroup\nimport cats.data.Validated\n\nsealed trait Check[E, A, B] {\n  import Check._\n\n  def apply(in: A)(implicit s: Semigroup[E]): Validated[E, B]\n\n  def map[C](f: B => C): Check[E, A, C] =\n    Map[E, A, B, C](this, f)\n}\n\nobject Check {\n  final case class Map[E, A, B, C](\n    check: Check[E, A, B],\n    func: B => C) extends Check[E, A, C] {\n  \n    def apply(in: A)(implicit s: Semigroup[E]): Validated[E, C] =\n      check(in).map(func)\n  }\n  \n  final case class Pure[E, A](\n    pred: Predicate[E, A]) extends Check[E, A, A] {\n  \n    def apply(in: A)(implicit s: Semigroup[E]): Validated[E, A] =\n      pred(in)\n  }\n\n  def apply[E, A](pred: Predicate[E, A]): Check[E, A, A] =\n    Pure(pred)\n}\n\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#checks",""]]}]},{"t":"Header","c":[3,["solution:59d03220fde1855b48c839254422a81e",[],[]],[{"t":"Str","c":"Solution to: Checks Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"same"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"strategy"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"before"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"wrinkle:"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Validated"]},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"have"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"method."},{"t":"SoftBreak"},{"t":"Str","c":"To"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"flatMap"]},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"momentarily"},{"t":"Space"},{"t":"Str","c":"switch"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"then"},{"t":"Space"},{"t":"Str","c":"switch"},{"t":"Space"},{"t":"Str","c":"back"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Validated"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"The"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"withEither"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Validated"]},{"t":"Space"},{"t":"Str","c":"does"},{"t":"Space"},{"t":"Str","c":"exactly"},{"t":"Space"},{"t":"Str","c":"this."},{"t":"SoftBreak"},{"t":"Str","c":"From"},{"t":"Space"},{"t":"Str","c":"here"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"just"},{"t":"Space"},{"t":"Str","c":"follow"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"types"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implement"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Str","c":"."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroup\nimport cats.data.Validated\n\nsealed trait Check[E, A, B] {\n  def apply(in: A)(implicit s: Semigroup[E]): Validated[E, B]\n\n  def flatMap[C](f: B => Check[E, A, C]) =\n    FlatMap[E, A, B, C](this, f)\n\n  // other methods...\n}\n\nfinal case class FlatMap[E, A, B, C](\n  check: Check[E, A, B],\n  func: B => Check[E, A, C]) extends Check[E, A, C] {\n\n  def apply(a: A)(implicit s: Semigroup[E]): Validated[E, C] =\n    check(a).withEither(_.flatMap(b => func(b)(a).toEither))\n}\n\n// other data types...\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#checks",""]]}]},{"t":"Header","c":[3,["solution:81aa8cfc7ed2a0ed8278f778c151af4b",[],[]],[{"t":"Str","c":"Solution to: Checks Part 3"}]]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"minimal"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"andThen"]},{"t":"SoftBreak"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"corresponding"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"AndThen"]},{"t":"Space"},{"t":"Str","c":"class:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsealed trait Check[E, A, B] {\n  def apply(in: A)(implicit s: Semigroup[E]): Validated[E, B]\n\n  def andThen[C](that: Check[E, B, C]): Check[E, A, C] =\n    AndThen[E, A, B, C](this, that)\n}\n\nfinal case class AndThen[E, A, B, C](\n  check1: Check[E, A, B],\n  check2: Check[E, B, C]) extends Check[E, A, C] {\n\n  def apply(a: A)(implicit s: Semigroup[E]): Validated[E, C] =\n    check1(a).withEither(_.flatMap(b => check2(b).toEither))\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#checks",""]]}]},{"t":"Header","c":[3,["solution:6c991d5b6530f851ec6600d835151d9e",[],[]],[{"t":"Str","c":"Solution to: Recap "}]]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"final"},{"t":"Space"},{"t":"Str","c":"implementaton,"},{"t":"SoftBreak"},{"t":"Str","c":"including"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"tidying"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"repackaging"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroup\nimport cats.data.Validated\nimport cats.data.Validated._   // for Valid and Invalid\nimport cats.syntax.semigroup._ // for |+|\nimport cats.syntax.apply._     // for mapN\nimport cats.syntax.validated._ // for valid and invalid\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"including"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"and"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"or"]},{"t":"Space"},{"t":"Str","c":"combinators"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate.apply"]},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"create"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"function:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nsealed trait Predicate[E, A] {\n  import Predicate._\n  import Validated._\n\n  def and(that: Predicate[E, A]): Predicate[E, A] =\n    And(this, that)\n\n  def or(that: Predicate[E, A]): Predicate[E, A] =\n    Or(this, that)\n\n  def apply(a: A)(implicit s: Semigroup[E]): Validated[E, A] =\n    this match {\n      case Pure(func) =>\n        func(a)\n\n      case And(left, right) =>\n        (left(a), right(a)).mapN((_, _) => a)\n\n      case Or(left, right) =>\n        left(a) match {\n          case Valid(_)   => Valid(a)\n          case Invalid(e1) =>\n            right(a) match {\n              case Valid(_)   => Valid(a)\n              case Invalid(e2) => Invalid(e1 |+| e2)\n            }\n        }\n    }\n}\n\nobject Predicate {\n  final case class And[E, A](\n    left: Predicate[E, A],\n    right: Predicate[E, A]) extends Predicate[E, A]\n\n  final case class Or[E, A](\n    left: Predicate[E, A],\n    right: Predicate[E, A]) extends Predicate[E, A]\n\n  final case class Pure[E, A](\n    func: A => Validated[E, A]) extends Predicate[E, A]\n\n  def apply[E, A](f: A => Validated[E, A]): Predicate[E, A] =\n    Pure(f)\n\n  def lift[E, A](err: E, fn: A => Boolean): Predicate[E, A] =\n    Pure(a => if(fn(a)) a.valid else err.invalid)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Due"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"inference"},{"t":"Space"},{"t":"Str","c":"bug"}],["https://issues.scala-lang.org/browse/SI-6680",""]]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"Scala’s"},{"t":"Space"},{"t":"Str","c":"pattern"},{"t":"Space"},{"t":"Str","c":"matching,"},{"t":"SoftBreak"},{"t":"Str","c":"we’ve"},{"t":"Space"},{"t":"Str","c":"switched"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"implementing"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"SoftBreak"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Str","c":"inheritance:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroup\nimport cats.data.Validated\nimport cats.syntax.apply._     // for mapN\nimport cats.syntax.validated._ // for valid and invalid\n\nsealed trait Check[E, A, B] {\n  import Check._\n\n  def apply(in: A)(implicit s: Semigroup[E]): Validated[E, B]\n\n  def map[C](f: B => C): Check[E, A, C] =\n    Map[E, A, B, C](this, f)\n\n  def flatMap[C](f: B => Check[E, A, C]) =\n    FlatMap[E, A, B, C](this, f)\n\n  def andThen[C](next: Check[E, B, C]): Check[E, A, C] =\n    AndThen[E, A, B, C](this, next)\n}\n\nobject Check {\n  final case class Map[E, A, B, C](\n    check: Check[E, A, B],\n    func: B => C) extends Check[E, A, C] {\n\n    def apply(a: A)\n        (implicit s: Semigroup[E]): Validated[E, C] =\n      check(a) map func\n  }\n\n  final case class FlatMap[E, A, B, C](\n    check: Check[E, A, B],\n    func: B => Check[E, A, C]) extends Check[E, A, C] {\n\n    def apply(a: A)\n        (implicit s: Semigroup[E]): Validated[E, C] =\n      check(a).withEither(_.flatMap(b => func(b)(a).toEither))\n  }\n\n  final case class AndThen[E, A, B, C](\n    check: Check[E, A, B],\n    next: Check[E, B, C]) extends Check[E, A, C] {\n\n    def apply(a: A)\n        (implicit s: Semigroup[E]): Validated[E, C] =\n      check(a).withEither(_.flatMap(b => next(b).toEither))\n  }\n\n  final case class Pure[E, A, B](\n    func: A => Validated[E, B]) extends Check[E, A, B] {\n\n    def apply(a: A)\n        (implicit s: Semigroup[E]): Validated[E, B] =\n      func(a)\n  }\n\n  final case class PurePredicate[E, A](\n    pred: Predicate[E, A]) extends Check[E, A, A] {\n\n    def apply(a: A)\n        (implicit s: Semigroup[E]): Validated[E, A] =\n      pred(a)\n  }\n\n  def apply[E, A](pred: Predicate[E, A]): Check[E, A, A] =\n    PurePredicate(pred)\n\n  def apply[E, A, B]\n      (func: A => Validated[E, B]): Check[E, A, B] =\n    Pure(func)\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#recap",""]]}]},{"t":"Header","c":[3,["solution:92285a8e7b6adceb4ffec0086b481605",[],[]],[{"t":"Str","c":"Solution to: Recap Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"reference"},{"t":"Space"},{"t":"Str","c":"solution."},{"t":"SoftBreak"},{"t":"Str","c":"Implementing"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"required"},{"t":"Space"},{"t":"Str","c":"more"},{"t":"Space"},{"t":"Str","c":"thought"},{"t":"Space"},{"t":"Str","c":"than"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"expected."},{"t":"SoftBreak"},{"t":"Str","c":"Switching"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Check"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"at"},{"t":"Space"},{"t":"Str","c":"appropriate"},{"t":"Space"},{"t":"Str","c":"places"},{"t":"SoftBreak"},{"t":"Str","c":"felt"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"bit"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"guesswork"},{"t":"Space"},{"t":"Str","c":"till"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"got"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"rule"},{"t":"Space"},{"t":"Str","c":"into"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"heads"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Predicate"]},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"transform"},{"t":"Space"},{"t":"Str","c":"its"},{"t":"Space"},{"t":"Str","c":"input."},{"t":"SoftBreak"},{"t":"Str","c":"With"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"rule"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"mind"},{"t":"Space"},{"t":"Str","c":"things"},{"t":"Space"},{"t":"Str","c":"went"},{"t":"Space"},{"t":"Str","c":"fairly"},{"t":"Space"},{"t":"Str","c":"smoothly."},{"t":"SoftBreak"},{"t":"Str","c":"In"},{"t":"Space"},{"t":"Str","c":"later"},{"t":"Space"},{"t":"Str","c":"sections"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"some"},{"t":"Space"},{"t":"Str","c":"changes"},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"Space"},{"t":"Str","c":"easier"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"use."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.syntax.apply._     // for mapN\nimport cats.syntax.validated._ // for valid and invalid\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"checkUsername"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// A username must contain at least four characters\n// and consist entirely of alphanumeric characters\n\nval checkUsername: Check[Errors, String, String] =\n  Check(longerThan(3) and alphanumeric)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"And"},{"t":"Space"},{"t":"Str","c":"here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"checkEmail"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"built"},{"t":"Space"},{"t":"Str","c":"up"},{"t":"Space"},{"t":"Str","c":"from"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"number"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"smaller"},{"t":"Space"},{"t":"Str","c":"components:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\n// An email address must contain a single `@` sign.\n// Split the string at the `@`.\n// The string to the left must not be empty.\n// The string to the right must be\n// at least three characters long and contain a dot.\n\nval splitEmail: Check[Errors, String, (String, String)] =\n  Check(_.split('@') match {\n    case Array(name, domain) =>\n      (name, domain).validNel[String]\n\n    case _ =>\n      \"Must contain a single @ character\".\n        invalidNel[(String, String)]\n  })\n\nval checkLeft: Check[Errors, String, String] =\n  Check(longerThan(0))\n\nval checkRight: Check[Errors, String, String] =\n  Check(longerThan(3) and contains('.'))\n\nval joinEmail: Check[Errors, (String, String), String] =\n  Check { case (l, r) =>\n    (checkLeft(l), checkRight(r)).mapN(_ + \"@\" + _)\n  }\n\nval checkEmail: Check[Errors, String, String] =\n  splitEmail andThen joinEmail\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"here’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"User"]},{"t":"SoftBreak"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"depends"},{"t":"Space"},{"t":"Str","c":"on"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"checkUsername"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"checkEmail"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class User(username: String, email: String)\n\ndef createUser(\n      username: String,\n      email: String): Validated[Errors, User] =\n  (checkUsername(username), checkEmail(email)).mapN(User)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"check"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"work"},{"t":"Space"},{"t":"Str","c":"by"},{"t":"Space"},{"t":"Str","c":"creating"},{"t":"SoftBreak"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"couple"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"users:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ncreateUser(\"Noel\", \"noel@underscore.io\")\n// res5: Validated[Errors, User] = Valid(User(\"Noel\", \"noel@underscore.io\"))\ncreateUser(\"\", \"dave@underscore.io@io\")\n// res6: Validated[Errors, User] = Invalid(\n//   NonEmptyList(\n//     \"Must be longer than 3 characters\",\n//     List(\"Must contain a single @ character\")\n//   )\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"One"},{"t":"Space"},{"t":"Str","c":"distinct"},{"t":"Space"},{"t":"Str","c":"disadvantage"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"doesn’t"},{"t":"Space"},{"t":"Str","c":"tell"},{"t":"Space"},{"t":"Str","c":"us"},{"t":"Space"},{"t":"Emph","c":[{"t":"Str","c":"where"}]},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"errors"},{"t":"Space"},{"t":"Str","c":"came"},{"t":"Space"},{"t":"Str","c":"from."},{"t":"SoftBreak"},{"t":"Str","c":"We"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"either"},{"t":"Space"},{"t":"Str","c":"achieve"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"through"},{"t":"SoftBreak"},{"t":"Str","c":"judicious"},{"t":"Space"},{"t":"Str","c":"manipulation"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"messages,"},{"t":"SoftBreak"},{"t":"Str","c":"or"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"modify"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Str","c":"library"},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"track"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"locations"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"well"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"messages."},{"t":"SoftBreak"},{"t":"Str","c":"Tracking"},{"t":"Space"},{"t":"Str","c":"error"},{"t":"Space"},{"t":"Str","c":"locations"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"outside"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study,"},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"we’ll"},{"t":"Space"},{"t":"Str","c":"leave"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"exercise"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"reader."}]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#recap",""]]}]},{"t":"Header","c":[3,["solution:d3a45c40a0f60cdaf1765ed9bb52b18e",[],[]],[{"t":"Str","c":"Solution to: Kleislis "}]]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"abbreviated"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"run"]},{"t":"Str","c":"."},{"t":"SoftBreak"},{"t":"Str","c":"Like"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"apply"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"method"},{"t":"Space"},{"t":"Str","c":"must"},{"t":"Space"},{"t":"Str","c":"accept"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Semigroup"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.Semigroup\nimport cats.data.Validated\n\nsealed trait Predicate[E, A] {\n  def run(implicit s: Semigroup[E]): A => Either[E, A] =\n    (a: A) => this(a).toEither\n\n  def apply(a: A): Validated[E, A] =\n    ??? // etc...\n\n  // other methods...\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#kleislis",""]]}]},{"t":"Header","c":[3,["solution:f51f3ecf17c4a1428e60b5ad14306293",[],[]],[{"t":"Str","c":"Solution to: Kleislis Part 2"}]]},{"t":"Para","c":[{"t":"Str","c":"Working"},{"t":"Space"},{"t":"Str","c":"around"},{"t":"Space"},{"t":"Str","c":"limitations"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"type"},{"t":"Space"},{"t":"Str","c":"inference"},{"t":"SoftBreak"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"be"},{"t":"Space"},{"t":"Str","c":"quite"},{"t":"Space"},{"t":"Str","c":"frustrating"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"writing"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"code,"},{"t":"SoftBreak"},{"t":"Str","c":"Working"},{"t":"Space"},{"t":"Str","c":"out"},{"t":"Space"},{"t":"Str","c":"when"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"convert"},{"t":"Space"},{"t":"Str","c":"between"},{"t":"SoftBreak"},{"t":"Code","c":[["",[],[]],"Predicates"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"functions,"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Validated"]},{"t":"Str","c":","},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Either"]},{"t":"SoftBreak"},{"t":"Str","c":"simplifies"},{"t":"Space"},{"t":"Str","c":"things,"},{"t":"Space"},{"t":"Str","c":"but"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"process"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"still"},{"t":"Space"},{"t":"Str","c":"complex:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.data.{Kleisli, NonEmptyList}\nimport cats.instances.either._   // for Semigroupal\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Here"},{"t":"Space"},{"t":"Str","c":"is"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"preamble"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"suggested"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"main"},{"t":"Space"},{"t":"Str","c":"text"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"case"},{"t":"Space"},{"t":"Str","c":"study:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntype Errors = NonEmptyList[String]\n\ndef error(s: String): NonEmptyList[String] =\n  NonEmptyList(s, Nil)\n\ntype Result[A] = Either[Errors, A]\n\ntype Check[A, B] = Kleisli[Result, A, B]\n\ndef check[A, B](func: A => Result[B]): Check[A, B] =\n  Kleisli(func)\n\ndef checkPred[A](pred: Predicate[Errors, A]): Check[A, A] =\n  Kleisli[Result, A, A](pred.run)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"base"},{"t":"Space"},{"t":"Str","c":"predicate"},{"t":"Space"},{"t":"Str","c":"definitions"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"SoftBreak"},{"t":"Str","c":"essenitally"},{"t":"Space"},{"t":"Str","c":"unchanged:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ndef longerThan(n: Int): Predicate[Errors, String] =\n  Predicate.lift(\n    error(s\"Must be longer than $n characters\"),\n    str => str.size > n)\n\nval alphanumeric: Predicate[Errors, String] =\n  Predicate.lift(\n    error(s\"Must be all alphanumeric characters\"),\n    str => str.forall(_.isLetterOrDigit))\n\ndef contains(char: Char): Predicate[Errors, String] =\n  Predicate.lift(\n    error(s\"Must contain the character $char\"),\n    str => str.contains(char))\n\ndef containsOnce(char: Char): Predicate[Errors, String] =\n  Predicate.lift(\n    error(s\"Must contain the character $char only once\"),\n    str => str.filter(c => c == char).size == 1)\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Our"},{"t":"Space"},{"t":"Str","c":"username"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"email"},{"t":"Space"},{"t":"Str","c":"examples"},{"t":"SoftBreak"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"slightly"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"make"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"check()"]},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"checkPred()"]},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"different"},{"t":"Space"},{"t":"Str","c":"situations:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nval checkUsername: Check[String, String] =\n  checkPred(longerThan(3) and alphanumeric)\n\nval splitEmail: Check[String, (String, String)] =\n  check(_.split('@') match {\n    case Array(name, domain) =>\n      Right((name, domain))\n\n    case _ =>\n      Left(error(\"Must contain a single @ character\"))\n  })\n\nval checkLeft: Check[String, String] =\n  checkPred(longerThan(0))\n\nval checkRight: Check[String, String] =\n  checkPred(longerThan(3) and contains('.'))\n\nval joinEmail: Check[(String, String), String] =\n  check {\n    case (l, r) =>\n      (checkLeft(l), checkRight(r)).mapN(_ + \"@\" + _)\n  }\n\nval checkEmail: Check[String, String] =\n  splitEmail andThen joinEmail\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Str","c":"Finally,"},{"t":"Space"},{"t":"Str","c":"we"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"see"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"Space"},{"t":"Str","c":"our"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"createUser"]},{"t":"SoftBreak"},{"t":"Str","c":"example"},{"t":"Space"},{"t":"Str","c":"works"},{"t":"Space"},{"t":"Str","c":"as"},{"t":"Space"},{"t":"Str","c":"expected"},{"t":"Space"},{"t":"Str","c":"using"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Kleisli"]},{"t":"Str","c":":"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class User(username: String, email: String)\n\ndef createUser(\n      username: String,\n      email: String): Either[Errors, User] = (\n  checkUsername.run(username),\n  checkEmail.run(email)\n).mapN(User)\n\ncreateUser(\"Noel\", \"noel@underscore.io\")\n// res2: Either[Errors, User] = Right(User(\"Noel\", \"noel@underscore.io\"))\ncreateUser(\"\", \"dave@underscore.io@io\")\n// res3: Either[Errors, User] = Left(\n//   NonEmptyList(\"Must be longer than 3 characters\", List())\n// )\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#kleislis",""]]}]},{"t":"Header","c":[2,["",[],[]],[{"t":"Str","c":"Case Study: CRDTs"}]]},{"t":"Header","c":[3,["solution:4734996bada7b23f80ef9006a7dc3041",[],[]],[{"t":"Str","c":"Solution to: GCounter Implementation "}]]},{"t":"Para","c":[{"t":"Str","c":"Hopefully"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"description"},{"t":"Space"},{"t":"Str","c":"above"},{"t":"Space"},{"t":"Str","c":"was"},{"t":"Space"},{"t":"Str","c":"clear"},{"t":"Space"},{"t":"Str","c":"enough"},{"t":"Space"},{"t":"Str","c":"that"},{"t":"SoftBreak"},{"t":"Str","c":"you"},{"t":"Space"},{"t":"Str","c":"can"},{"t":"Space"},{"t":"Str","c":"get"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"an"},{"t":"Space"},{"t":"Str","c":"implementation"},{"t":"Space"},{"t":"Str","c":"like"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"one"},{"t":"Space"},{"t":"Str","c":"below."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nfinal case class GCounter(counters: Map[String, Int]) {\n  def increment(machine: String, amount: Int) = {\n    val value = amount + counters.getOrElse(machine, 0)\n    GCounter(counters + (machine -> value))\n  }\n\n  def merge(that: GCounter): GCounter =\n    GCounter(that.counters ++ this.counters.map {\n      case (k, v) =>\n        k -> (v max that.counters.getOrElse(k, 0))\n    })\n\n  def total: Int =\n    counters.values.sum\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-gcounter-implementation",""]]}]},{"t":"Header","c":[3,["solution:2667f2a35416d2369b6ea8f85897909a",[],[]],[{"t":"Str","c":"Solution to: BoundedSemiLattice Instances "}]]},{"t":"Para","c":[{"t":"Str","c":"It’s"},{"t":"Space"},{"t":"Str","c":"common"},{"t":"Space"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"place"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instances"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"BoundedSemiLattice"]},{"t":"SoftBreak"},{"t":"Str","c":"so"},{"t":"Space"},{"t":"Str","c":"they"},{"t":"Space"},{"t":"Str","c":"are"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope"},{"t":"Space"},{"t":"Str","c":"without"},{"t":"Space"},{"t":"Str","c":"importing"},{"t":"Space"},{"t":"Str","c":"them."}]},{"t":"Para","c":[{"t":"Str","c":"Implementing"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instance"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"Set"]},{"t":"SoftBreak"},{"t":"Str","c":"provides"},{"t":"Space"},{"t":"Str","c":"good"},{"t":"Space"},{"t":"Str","c":"practice"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"methods."}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\ntrait BoundedSemiLattice[A] extends CommutativeMonoid[A] {\n  def combine(a1: A, a2: A): A\n  def empty: A\n}\n\nobject BoundedSemiLattice {\n  implicit val intInstance: BoundedSemiLattice[Int] =\n    new BoundedSemiLattice[Int] {\n      def combine(a1: Int, a2: Int): Int =\n        a1 max a2\n\n      val empty: Int =\n        0\n    }\n\n  implicit def setInstance[A]: BoundedSemiLattice[Set[A]] =\n    new BoundedSemiLattice[Set[A]]{\n      def combine(a1: Set[A], a2: Set[A]): Set[A] =\n        a1 union a2\n\n      val empty: Set[A] =\n        Set.empty[A]\n    }\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-boundedsemilattice-instances",""]]}]},{"t":"Header","c":[3,["solution:741d2a1d286204751fa8759eba3bde28",[],[]],[{"t":"Str","c":"Solution to: Generic GCounter "}]]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"a"},{"t":"Space"},{"t":"Str","c":"working"},{"t":"Space"},{"t":"Str","c":"implementation."},{"t":"SoftBreak"},{"t":"Str","c":"Note"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"use"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"|+|"]},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"merge"]},{"t":"Str","c":","},{"t":"SoftBreak"},{"t":"Str","c":"which"},{"t":"Space"},{"t":"Str","c":"significantly"},{"t":"Space"},{"t":"Str","c":"simplifies"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"process"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"merging"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"maximising"},{"t":"Space"},{"t":"Str","c":"counters:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.list._   // for Monoid\nimport cats.instances.map._    // for Monoid\nimport cats.syntax.semigroup._ // for |+|\nimport cats.syntax.foldable._  // for combineAll\n\nfinal case class GCounter[A](counters: Map[String,A]) {\n  def increment(machine: String, amount: A)\n        (implicit m: CommutativeMonoid[A]): GCounter[A] = {\n    val value = amount |+| counters.getOrElse(machine, m.empty)\n    GCounter(counters + (machine -> value))\n  }\n\n  def merge(that: GCounter[A])\n        (implicit b: BoundedSemiLattice[A]): GCounter[A] =\n    GCounter(this.counters |+| that.counters)\n\n  def total(implicit m: CommutativeMonoid[A]): A =\n    this.counters.values.toList.combineAll\n}\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#exercise-generic-gcounter",""]]}]},{"t":"Header","c":[3,["solution:33a0a8e00464ffa2ac2a243f16410511",[],[]],[{"t":"Str","c":"Solution to: Abstracting GCounter to a Type Class "}]]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"complete"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instance."},{"t":"SoftBreak"},{"t":"Str","c":"Write"},{"t":"Space"},{"t":"Str","c":"this"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"SoftBreak"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"GCounter"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"place"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"global"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimport cats.instances.list._   // for Monoid\nimport cats.instances.map._    // for Monoid\nimport cats.syntax.semigroup._ // for |+|\nimport cats.syntax.foldable._  // for combineAll\n\nimplicit def mapGCounterInstance[K, V]: GCounter[Map, K, V] =\n  new GCounter[Map, K, V] {\n    def increment(map: Map[K, V])(key: K, value: V)\n          (implicit m: CommutativeMonoid[V]): Map[K, V] = {\n      val total = map.getOrElse(key, m.empty) |+| value\n      map + (key -> total)\n    }\n\n    def merge(map1: Map[K, V], map2: Map[K, V])\n          (implicit b: BoundedSemiLattice[V]): Map[K, V] =\n      map1 |+| map2\n\n    def total(map: Map[K, V])\n        (implicit m: CommutativeMonoid[V]): V =\n      map.values.toList.combineAll\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#abstracting-gcounter-to-a-type-class",""]]}]},{"t":"Header","c":[3,["solution:abf7ae97cccb3ab0ab862ba1bce1cc30",[],[]],[{"t":"Str","c":"Solution to: Abstracting a Key Value Store "}]]},{"t":"Para","c":[{"t":"Str","c":"Here’s"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"code"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"instance."},{"t":"SoftBreak"},{"t":"Str","c":"Write"},{"t":"Space"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"definition"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"SoftBreak"},{"t":"Str","c":"the"},{"t":"Space"},{"t":"Str","c":"companion"},{"t":"Space"},{"t":"Str","c":"object"},{"t":"Space"},{"t":"Str","c":"for"},{"t":"Space"},{"t":"Code","c":[["",[],[]],"KeyValueStore"]},{"t":"SoftBreak"},{"t":"Str","c":"to"},{"t":"Space"},{"t":"Str","c":"place"},{"t":"Space"},{"t":"Str","c":"it"},{"t":"Space"},{"t":"Str","c":"in"},{"t":"Space"},{"t":"Str","c":"global"},{"t":"Space"},{"t":"Str","c":"implicit"},{"t":"Space"},{"t":"Str","c":"scope:"}]},{"t":"RawBlock","c":["latex","\\begin{lstlisting}[style=scala]\nimplicit val mapKeyValueStoreInstance: KeyValueStore[Map] =\n  new KeyValueStore[Map] {\n    def put[K, V](f: Map[K, V])(k: K, v: V): Map[K, V] =\n      f + (k -> v)\n\n    def get[K, V](f: Map[K, V])(k: K): Option[V] =\n      f.get(k)\n\n    override def getOrElse[K, V](f: Map[K, V])\n        (k: K, default: V): V =\n      f.getOrElse(k, default)\n\n    def values[K, V](f: Map[K, V]): List[V] =\n      f.values.toList\n  }\n\\end{lstlisting}"]},{"t":"Para","c":[{"t":"Link","c":[["",[],[]],[{"t":"Str","c":"Return to the exercise"}],["#abstracting-a-key-value-store",""]]}]},{"t":"Para","c":[{"t":"RawInline","c":["tex","\\clearpage"]},{"t":"RawInline","c":["tex","\\thispagestyle{empty}"]}]},{"t":"Para","c":[{"t":"RawInline","c":["tex","\\topskip0pt"]},{"t":"SoftBreak"},{"t":"RawInline","c":["tex","\\vspace*{\\fill}"]},{"t":"SoftBreak"},{"t":"RawInline","c":["tex","\\centering\n"]},{"t":"RawInline","c":["tex","\\includegraphics[width=.5\\linewidth]{src/pages/parts/part4.png}"]},{"t":"SoftBreak"},{"t":"RawInline","c":["tex","\\vspace*{\\fill}"]}]}],"pandoc-api-version":[1,17,0,5],"meta":{"subfigureChildTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"i"]}]},"eqnLabels":{"t":"MetaString","c":"arabic"},"tableEqns":{"t":"MetaBool","c":false},"lolTitle":{"t":"MetaBlocks","c":[{"t":"Header","c":[1,["",[],[]],[{"t":"Str","c":"List"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Listings"}]]}]},"sectionsDepth":{"t":"MetaString","c":"0"},"tblPrefix":{"t":"MetaList","c":[{"t":"MetaInlines","c":[{"t":"Str","c":"tbl."}]},{"t":"MetaInlines","c":[{"t":"Str","c":"tbls."}]}]},"chapters":{"t":"MetaBool","c":false},"figureTitle":{"t":"MetaInlines","c":[{"t":"Str","c":"Figure"}]},"figureTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"figureTitle"]},{"t":"Space"},{"t":"Math","c":[{"t":"DisplayMath"},"i"]},{"t":"Math","c":[{"t":"DisplayMath"},"titleDelim"]},{"t":"Space"},{"t":"Math","c":[{"t":"DisplayMath"},"t"]}]},"ccsDelim":{"t":"MetaInlines","c":[{"t":"Str","c":","},{"t":"Space"}]},"eqnPrefixTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"i"]}]},"secPrefix":{"t":"MetaList","c":[{"t":"MetaInlines","c":[{"t":"Str","c":"sec."}]},{"t":"MetaInlines","c":[{"t":"Str","c":"secs."}]}]},"exercisesRepo":{"t":"MetaString","c":""},"copyright":{"t":"MetaInlines","c":[{"t":"Str","c":"2014-20"}]},"lofTitle":{"t":"MetaBlocks","c":[{"t":"Header","c":[1,["",[],[]],[{"t":"Str","c":"List"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Figures"}]]}]},"linkReferences":{"t":"MetaBool","c":false},"pages":{"t":"MetaList","c":[{"t":"MetaInlines","c":[{"t":"Str","c":"intro/preface.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"intro/versions.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"intro/conventions.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"intro/contributors.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"intro/backers.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"parts/part1.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"type-classes/index.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"type-classes/anatomy.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"type-classes/implicits.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"type-classes/printable.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"type-classes/cats.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"type-classes/equal.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"type-classes/instance-selection.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"type-classes/summary.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monoids/index.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monoids/cats.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monoids/applications.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monoids/summary.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"functors/index.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"functors/cats.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"functors/contravariant-invariant.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"functors/contravariant-invariant-cats.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"functors/partial-unification.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"functors/summary.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monads/index.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monads/cats.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monads/id.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monads/either.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monads/monad-error.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monads/eval.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monads/writer.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monads/reader.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monads/state.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monads/custom-instances.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monads/summary.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monad-transformers/index.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"monad-transformers/summary.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"applicatives/index.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"applicatives/semigroupal.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"applicatives/examples.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"applicatives/parallel.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"applicatives/applicative.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"applicatives/summary.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"foldable-traverse/index.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"foldable-traverse/foldable.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"foldable-traverse/foldable-cats.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"foldable-traverse/traverse.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"foldable-traverse/traverse-cats.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"foldable-traverse/summary.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"parts/part2.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/testing/index.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/map-reduce/index.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/validation/index.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/validation/sketch.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/validation/check.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/validation/map.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/validation/kleisli.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/validation/conclusions.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/crdt/index.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/crdt/eventual-consistency.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/crdt/g-counter.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/crdt/generalisation.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/crdt/abstraction.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"case-studies/crdt/summary.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"parts/part3.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"solutions.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"links.md"}]},{"t":"MetaInlines","c":[{"t":"Str","c":"parts/part4.md"}]}]},"figPrefix":{"t":"MetaList","c":[{"t":"MetaInlines","c":[{"t":"Str","c":"fig."}]},{"t":"MetaInlines","c":[{"t":"Str","c":"figs."}]}]},"lstPrefixTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"i"]}]},"usePandocCrossref":{"t":"MetaBool","c":true},"tableTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"tableTitle"]},{"t":"Space"},{"t":"Math","c":[{"t":"DisplayMath"},"i"]},{"t":"Math","c":[{"t":"DisplayMath"},"titleDelim"]},{"t":"Space"},{"t":"Math","c":[{"t":"DisplayMath"},"t"]}]},"tableTitle":{"t":"MetaInlines","c":[{"t":"Str","c":"Table"}]},"rangeDelim":{"t":"MetaInlines","c":[{"t":"Str","c":"-"}]},"titleDelim":{"t":"MetaInlines","c":[{"t":"Str","c":":"}]},"numberSections":{"t":"MetaBool","c":false},"subfigureRefIndexTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"i"]},{"t":"Math","c":[{"t":"DisplayMath"},"suf"]},{"t":"Space"},{"t":"Str","c":"("},{"t":"Math","c":[{"t":"DisplayMath"},"s"]},{"t":"Str","c":")"}]},"codeBlockCaptions":{"t":"MetaBool","c":false},"date":{"t":"MetaInlines","c":[{"t":"Str","c":"April"},{"t":"Space"},{"t":"Str","c":"2020"}]},"subtitle":{"t":"MetaString","c":""},"subfigGrid":{"t":"MetaBool","c":false},"chaptersDepth":{"t":"MetaString","c":"1"},"tblLabels":{"t":"MetaString","c":"arabic"},"lotTitle":{"t":"MetaBlocks","c":[{"t":"Header","c":[1,["",[],[]],[{"t":"Str","c":"List"},{"t":"Space"},{"t":"Str","c":"of"},{"t":"Space"},{"t":"Str","c":"Tables"}]]}]},"refIndexTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"i"]},{"t":"Math","c":[{"t":"DisplayMath"},"suf"]}]},"cref":{"t":"MetaBool","c":false},"tblPrefixTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"i"]}]},"listingTitle":{"t":"MetaInlines","c":[{"t":"Str","c":"Listing"}]},"eqnPrefix":{"t":"MetaList","c":[{"t":"MetaInlines","c":[{"t":"Str","c":"eq."}]},{"t":"MetaInlines","c":[{"t":"Str","c":"eqns."}]}]},"listingTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"listingTitle"]},{"t":"Space"},{"t":"Math","c":[{"t":"DisplayMath"},"i"]},{"t":"Math","c":[{"t":"DisplayMath"},"titleDelim"]},{"t":"Space"},{"t":"Math","c":[{"t":"DisplayMath"},"t"]}]},"author":{"t":"MetaInlines","c":[{"t":"Str","c":"Noel"},{"t":"Space"},{"t":"Str","c":"Welsh"},{"t":"Space"},{"t":"Str","c":"and"},{"t":"Space"},{"t":"Str","c":"Dave"},{"t":"Space"},{"t":"Str","c":"Gurnell"}]},"tocDepth":{"t":"MetaString","c":"3"},"secPrefixTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"i"]}]},"figLabels":{"t":"MetaString","c":"arabic"},"autoEqnLabels":{"t":"MetaBool","c":false},"usePandocInclude":{"t":"MetaBool","c":false},"figPrefixTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"i"]}]},"secLabels":{"t":"MetaString","c":"arabic"},"coverColor":{"t":"MetaInlines","c":[{"t":"Str","c":"2E5943"}]},"title":{"t":"MetaInlines","c":[{"t":"Str","c":"Scala"},{"t":"Space"},{"t":"Str","c":"with"},{"t":"Space"},{"t":"Str","c":"Cats"}]},"lstPrefix":{"t":"MetaList","c":[{"t":"MetaInlines","c":[{"t":"Str","c":"lst."}]},{"t":"MetaInlines","c":[{"t":"Str","c":"lsts."}]}]},"ccsLabelSep":{"t":"MetaInlines","c":[{"t":"Space"},{"t":"Str","c":"—"},{"t":"Space"}]},"chapDelim":{"t":"MetaInlines","c":[{"t":"Str","c":"."}]},"autoSectionLabels":{"t":"MetaBool","c":false},"ccsTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"i"]},{"t":"Math","c":[{"t":"DisplayMath"},"ccsLabelSep"]},{"t":"Math","c":[{"t":"DisplayMath"},"t"]}]},"filenameStem":{"t":"MetaInlines","c":[{"t":"Str","c":"scala-with-cats"}]},"subfigureTemplate":{"t":"MetaInlines","c":[{"t":"Math","c":[{"t":"DisplayMath"},"figureTitle"]},{"t":"Space"},{"t":"Math","c":[{"t":"DisplayMath"},"i"]},{"t":"Math","c":[{"t":"DisplayMath"},"titleDelim"]},{"t":"Space"},{"t":"Math","c":[{"t":"DisplayMath"},"t"]},{"t":"Str","c":"."},{"t":"Space"},{"t":"Math","c":[{"t":"DisplayMath"},"ccs"]}]},"crossrefYaml":{"t":"MetaString","c":"pandoc-crossref.yaml"},"lstLabels":{"t":"MetaString","c":"arabic"},"subfigLabels":{"t":"MetaString","c":"alpha a"},"listings":{"t":"MetaBool","c":false}}}